<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="SM">
<meta name="dcterms.date" content="2024-04-21">
<title>MFF_final_report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="MFF_final_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="MFF_final_report_files/libs/quarto-html/quarto.js"></script>
<script src="MFF_final_report_files/libs/quarto-html/popper.min.js"></script>
<script src="MFF_final_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="MFF_final_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="MFF_final_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="MFF_final_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="MFF_final_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="MFF_final_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="MFF_final_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><style>html{ scroll-behavior: smooth; }</style>
</head>
<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Contents</h2>
   
  <ul>
<li>
<a href="#nutritional-self-reliance-vs.-guided-personalized-nutrition-to-improve-nutritional-outcome-of-football-players" id="toc-nutritional-self-reliance-vs.-guided-personalized-nutrition-to-improve-nutritional-outcome-of-football-players" class="nav-link active" data-scroll-target="#nutritional-self-reliance-vs.-guided-personalized-nutrition-to-improve-nutritional-outcome-of-football-players">Nutritional Self-reliance vs.&nbsp;Guided Personalized Nutrition to improve nutritional outcome of football players</a>
  <ul>
<li>
<a href="#part-1-calorie-needs" id="toc-part-1-calorie-needs" class="nav-link" data-scroll-target="#part-1-calorie-needs">Part 1: Calorie needs</a>
  <ul>
<li><a href="#total-calorie-needs-vs.-current-calorie-intake" id="toc-total-calorie-needs-vs.-current-calorie-intake" class="nav-link" data-scroll-target="#total-calorie-needs-vs.-current-calorie-intake">Total calorie needs vs.&nbsp;current calorie intake</a></li>
  <li><a href="#target-carbohydrate-protein-and-fat-distributions" id="toc-target-carbohydrate-protein-and-fat-distributions" class="nav-link" data-scroll-target="#target-carbohydrate-protein-and-fat-distributions">Target carbohydrate, protein and fat distributions</a></li>
  </ul>
</li>
  <li>
<a href="#part-2-macronutrient-distributions" id="toc-part-2-macronutrient-distributions" class="nav-link" data-scroll-target="#part-2-macronutrient-distributions">Part 2: Macronutrient distributions</a>
  <ul>
<li><a href="#current-macronutrients-intake-vs.-macronutrients-requirement" id="toc-current-macronutrients-intake-vs.-macronutrients-requirement" class="nav-link" data-scroll-target="#current-macronutrients-intake-vs.-macronutrients-requirement">Current macronutrients intake vs.&nbsp;macronutrients requirement</a></li>
  <li><a href="#calculate-required-servings-of-food-based-on-the-target-needs" id="toc-calculate-required-servings-of-food-based-on-the-target-needs" class="nav-link" data-scroll-target="#calculate-required-servings-of-food-based-on-the-target-needs">Calculate required servings of food based on the target needs</a></li>
  </ul>
</li>
  <li>
<a href="#part-3-impact-of-learning-outcome-on-nutrition-intake" id="toc-part-3-impact-of-learning-outcome-on-nutrition-intake" class="nav-link" data-scroll-target="#part-3-impact-of-learning-outcome-on-nutrition-intake">Part 3: Impact of learning outcome on nutrition intake</a>
  <ul>
<li><a href="#simulation-of-learning-outcome" id="toc-simulation-of-learning-outcome" class="nav-link" data-scroll-target="#simulation-of-learning-outcome">Simulation of learning outcome</a></li>
  <li><a href="#simulation-of-maintaining-good-nutrition" id="toc-simulation-of-maintaining-good-nutrition" class="nav-link" data-scroll-target="#simulation-of-maintaining-good-nutrition">Simulation of maintaining good nutrition</a></li>
  <li><a href="#percent-probability-of-meeting-nutrition-target" id="toc-percent-probability-of-meeting-nutrition-target" class="nav-link" data-scroll-target="#percent-probability-of-meeting-nutrition-target">Percent probability of meeting nutrition target</a></li>
  <li><a href="#pls-and-evpi-analysis" id="toc-pls-and-evpi-analysis" class="nav-link" data-scroll-target="#pls-and-evpi-analysis">PLS and EVPI analysis</a></li>
  </ul>
</li>
  <li>
<a href="#part-4-chance-of-winning" id="toc-part-4-chance-of-winning" class="nav-link" data-scroll-target="#part-4-chance-of-winning">Part 4: Chance of Winning</a>
  <ul>
<li><a href="#evpi-analysis" id="toc-evpi-analysis" class="nav-link" data-scroll-target="#evpi-analysis">EVPI analysis</a></li>
  <li><a href="#pls-analysis" id="toc-pls-analysis" class="nav-link" data-scroll-target="#pls-analysis">PLS analysis</a></li>
  </ul>
</li>
  <li><a href="#part-5-cost-and-benefit-analysis" id="toc-part-5-cost-and-benefit-analysis" class="nav-link" data-scroll-target="#part-5-cost-and-benefit-analysis">Part 5: Cost and Benefit analysis</a></li>
  </ul>
</li>
  </ul></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">MFF_final_report</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>SM </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 21, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header><section id="nutritional-self-reliance-vs.-guided-personalized-nutrition-to-improve-nutritional-outcome-of-football-players" class="level1"><h1>Nutritional Self-reliance vs.&nbsp;Guided Personalized Nutrition to improve nutritional outcome of football players</h1>
<p><br></p>
<p>Two intervention choices were chosen to improve nutrition among Myanmar football players. The first choice was to improve the athlete’s nutrition knowledge by intensive nutrition training, and the second was to hire a nutrition team to oversee the athletes’ food intake.</p>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="./Impact_pathway_model.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption"><strong>Figure: Impact Pathway Model</strong></figcaption></figure>
</div>
<p><br></p>
<section id="part-1-calorie-needs" class="level2"><h2 class="anchored" data-anchor-id="part-1-calorie-needs">Part 1: Calorie needs</h2>
<section id="total-calorie-needs-vs.-current-calorie-intake" class="level3"><h3 class="anchored" data-anchor-id="total-calorie-needs-vs.-current-calorie-intake">Total calorie needs vs.&nbsp;current calorie intake</h3>
<p>Calorie requirement of all athletes was calculated using Mifflin-St Jeor equation, adjusting for extra calorie for underweight athletes and lower calorie needs for overweight athletes. Current calorie intake of all athletes was also calculated using estimates.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_kcal_need_of_all_athletes"</span>, </span>
<span>                              <span class="st">"total_current_kcal_intake_of_all_athletes"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Based on the calculations, there is an overlap between total calorie needs and current calorie intake. Thus, we can assume their current calorie intake meets the requirement. However, we cannot be certain their macronutrients intake will also meet the requirement.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plot1</span> <span class="op">&lt;-</span> <span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"current_kcal_intake_male"</span>, <span class="st">"total_kcal_need_male"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">plot2</span> <span class="op">&lt;-</span> <span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"current_kcal_intake_female"</span>, <span class="st">"total_kcal_need_female"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">grid.arrange</span><span class="op">(</span><span class="va">plot1</span>, <span class="va">plot2</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above plots also show both male and female athletes meet their calorie requirement.</p>
<p><br></p>
</section><section id="target-carbohydrate-protein-and-fat-distributions" class="level3"><h3 class="anchored" data-anchor-id="target-carbohydrate-protein-and-fat-distributions">Target carbohydrate, protein and fat distributions</h3>
<p>Carbohydrate, protein and fat requirements in gram are calculated based on total calorie needs. Total carbohydrate, protein and fat needs for all athletes, as well as for male and female athletes separately are shown in the table and the plots below.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"macro_needs.csv"</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 31%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 15%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">X</th>
<th style="text-align: right;">X5.</th>
<th style="text-align: right;">X50.</th>
<th style="text-align: right;">X95.</th>
<th style="text-align: right;">enbPa</th>
<th style="text-align: right;">elPa</th>
<th style="text-align: right;">elSq</th>
<th style="text-align: right;">eol</th>
<th style="text-align: left;">optimalChoice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">total_kcal_need_all_athletes</td>
<td style="text-align: right;">8.0e+08</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">1.4e+09</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_protein_need_gram</td>
<td style="text-align: right;">2.6e+07</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">4.8e+07</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_carb_need_gram</td>
<td style="text-align: right;">1.2e+08</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">2.1e+08</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_fat_need_gram</td>
<td style="text-align: right;">2.2e+07</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">4.3e+07</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"protein_need_gram_male"</span>, <span class="st">"protein_need_gram_female"</span>,</span>
<span>                              <span class="st">"total_protein_need_gram"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'yearly protein need in gram'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m13-1.png" class="img-fluid" width="672"></p>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"carb_need_gram_male"</span>, <span class="st">"carb_need_gram_female"</span>,</span>
<span>                              <span class="st">"total_carb_need_gram"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'yearly carbohyrate need in gram'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m13-2.png" class="img-fluid" width="672"></p>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Calorie_mc_simulation</span>,</span>
<span>                     vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fat_need_gram_male"</span>, <span class="st">"fat_need_gram_female"</span>,</span>
<span>                              <span class="st">"total_fat_need_gram"</span><span class="op">)</span>,</span>
<span>                     method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                     x_axis_name <span class="op">=</span> <span class="st">'yearly fat need in gram'</span>,</span>
<span>                     base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m13-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
</section></section><section id="part-2-macronutrient-distributions" class="level2"><h2 class="anchored" data-anchor-id="part-2-macronutrient-distributions">Part 2: Macronutrient distributions</h2>
<section id="current-macronutrients-intake-vs.-macronutrients-requirement" class="level3"><h3 class="anchored" data-anchor-id="current-macronutrients-intake-vs.-macronutrients-requirement">Current macronutrients intake vs.&nbsp;macronutrients requirement</h3>
<p>The macronutrient distribution of current food intake of football players is calculated using estimated food recalls. Values are then compared to the macronutirent needs calculated in part 1 of the model.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_current_protein_intake_all_athlete"</span>, <span class="st">"total_protein_need_gram"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Protein (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The plot estimates current protein intake of athletes is a little higher than their protein requirement. But, we can assume their protein intake is okay since the minimum target protein (g/day) is used as the lower bound for estimation. Hence, their requirement can be higher than current estimates if we set their average needs as lower bound, which will be closer to their actual daily need.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_current_CHO_intake_all_athlete"</span>, <span class="st">"total_carb_need_gram"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Carbohydrate (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The athletes’ current intake of carbohydrate is much lower than their needs.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_current_fat_intake_all_athlete"</span>, <span class="st">"total_fat_need_gram"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Fat (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Current fat intake is significantly higher than the fat requirement, and it needs to be reduced.</p>
<p>Hence, we can conclude, based on simulation results, that the athletes’ calorie and protein intake meet the requirement, whereas fat intake exceeds the requirement, and carbohydrate intake is lower than the requirement.</p>
<p><br></p>
</section><section id="calculate-required-servings-of-food-based-on-the-target-needs" class="level3"><h3 class="anchored" data-anchor-id="calculate-required-servings-of-food-based-on-the-target-needs">Calculate required servings of food based on the target needs</h3>
<p>Next, we calculate how many servings of each food group is needed to meet the protein, carbohydrate and fat requirements. The table below shows the estimated servings required for each food group for all athletes for four simulation years.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"food_serve.csv"</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 42%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 12%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">X</th>
<th style="text-align: right;">X5.</th>
<th style="text-align: right;">X50.</th>
<th style="text-align: right;">X95.</th>
<th style="text-align: right;">enbPa</th>
<th style="text-align: right;">elPa</th>
<th style="text-align: right;">elSq</th>
<th style="text-align: right;">eol</th>
<th style="text-align: left;">optimalChoice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">total_egg_serving_all_athletes</td>
<td style="text-align: right;">370000</td>
<td style="text-align: right;">740000</td>
<td style="text-align: right;">1700000</td>
<td style="text-align: right;">870000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">870000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_dairy_serving_all_athletes</td>
<td style="text-align: right;">380000</td>
<td style="text-align: right;">750000</td>
<td style="text-align: right;">1700000</td>
<td style="text-align: right;">870000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">870000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_sandwich_serving_all_athletes</td>
<td style="text-align: right;">190000</td>
<td style="text-align: right;">380000</td>
<td style="text-align: right;">850000</td>
<td style="text-align: right;">440000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">440000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_vegetable_mushroom_serving_all_athletes</td>
<td style="text-align: right;">820000</td>
<td style="text-align: right;">1200000</td>
<td style="text-align: right;">1700000</td>
<td style="text-align: right;">1200000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1200000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_bean_nut_serving_all_athletes</td>
<td style="text-align: right;">270000</td>
<td style="text-align: right;">420000</td>
<td style="text-align: right;">550000</td>
<td style="text-align: right;">420000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">420000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_fruit_serving_all_athletes</td>
<td style="text-align: right;">550000</td>
<td style="text-align: right;">830000</td>
<td style="text-align: right;">1100000</td>
<td style="text-align: right;">830000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">830000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_sports_drink_serving_all_athletes</td>
<td style="text-align: right;">340000</td>
<td style="text-align: right;">620000</td>
<td style="text-align: right;">920000</td>
<td style="text-align: right;">620000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">620000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_chicken_serving_all_athletes</td>
<td style="text-align: right;">180000</td>
<td style="text-align: right;">300000</td>
<td style="text-align: right;">470000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_pork_serving_all_athletes</td>
<td style="text-align: right;">170000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">470000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_beef_serving_all_athletes</td>
<td style="text-align: right;">180000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">460000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_fish_serving_all_athletes</td>
<td style="text-align: right;">170000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">480000</td>
<td style="text-align: right;">320000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">320000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_prawn_serving_all_athletes</td>
<td style="text-align: right;">180000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">470000</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">310000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_rice_noodle_serving_all_athletes</td>
<td style="text-align: right;">130000</td>
<td style="text-align: right;">490000</td>
<td style="text-align: right;">830000</td>
<td style="text-align: right;">490000</td>
<td style="text-align: right;">1167</td>
<td style="text-align: right;">490000</td>
<td style="text-align: right;">1167</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_fat_oil_serving_all_athletes</td>
<td style="text-align: right;">41000</td>
<td style="text-align: right;">970000</td>
<td style="text-align: right;">1600000</td>
<td style="text-align: right;">820000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">820000</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>Next, we confirm whether the calorie, protein, carbohydrate and fat provided by calculated food servings meet the requirements for athletes.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_protein_need_gram"</span>, <span class="st">"total_protein_provided_gram_all_athletes"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Protein (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Total protein provided by food is a bit higher than the protein needs, but we can assume this is okay since we set the minimum protein target as the lower bound when their actual requirement may be closer to the avearge protein target.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_carb_provided_gram_all_athletes"</span>, <span class="st">"total_carb_need_gram"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Carbohydrate (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A perfect overlap between carbohydrate need and carbohydrate provided is seen in the plot.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_fat_oil_provided_all_athletes"</span>, <span class="st">"total_fat_need_gram"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Fat (g)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A perfect overlap between fat need and fat provided is seen in the plot.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Food_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_kcal_provided_all_athletes"</span>, <span class="st">"total_kcal_need"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Provided calorie also meets the calorie requirement.</p>
<p>We can double-confirm our calculations in the table below.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"need_provided.csv"</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 36%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 14%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">X</th>
<th style="text-align: right;">X5.</th>
<th style="text-align: right;">X50.</th>
<th style="text-align: right;">X95.</th>
<th style="text-align: right;">enbPa</th>
<th style="text-align: right;">elPa</th>
<th style="text-align: right;">elSq</th>
<th style="text-align: right;">eol</th>
<th style="text-align: left;">optimalChoice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">total_kcal_need_all_athletes</td>
<td style="text-align: right;">8.0e+08</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">1.4e+09</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_kcal_provided_all_athletes</td>
<td style="text-align: right;">9.1e+08</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">1.4e+09</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.1e+09</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_protein_need_gram</td>
<td style="text-align: right;">2.6e+07</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">4.8e+07</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.7e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_protein_provided_gram</td>
<td style="text-align: right;">2.7e+07</td>
<td style="text-align: right;">4.3e+07</td>
<td style="text-align: right;">6.9e+07</td>
<td style="text-align: right;">4.5e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4.5e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_carb_need_gram</td>
<td style="text-align: right;">1.2e+08</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">2.1e+08</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_carb_provided_gram</td>
<td style="text-align: right;">1.2e+08</td>
<td style="text-align: right;">1.7e+08</td>
<td style="text-align: right;">2.1e+08</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.6e+08</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_fat_need_gram</td>
<td style="text-align: right;">2.2e+07</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">4.3e+07</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.2e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_fat_oil_provided_all_athletes</td>
<td style="text-align: right;">2.2e+07</td>
<td style="text-align: right;">3.3e+07</td>
<td style="text-align: right;">4.4e+07</td>
<td style="text-align: right;">3.3e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3.3e+07</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
</section></section><section id="part-3-impact-of-learning-outcome-on-nutrition-intake" class="level2"><h2 class="anchored" data-anchor-id="part-3-impact-of-learning-outcome-on-nutrition-intake">Part 3: Impact of learning outcome on nutrition intake</h2>
<p>Athletes need to consume all the food provided to meet their nutrition goal by 100 percent. Our aim is for the athletes to meet at least 90% of their targeted nutrition goal. Hence, we simulate the probability of athletes consuming at least 90 percent of the nutrients provided for intervention one and two.</p>
<p>In intervention one, athletes are expected to calculate their daily requirements and recommended daily servings. Intensive nutrition training will be given, and a nutrition personnel will be available for consultation after the training ends. Standard measurement tools such as ladle, cup, etc. will be provided and educational posters such as food exchange list will be posted in the dining hall.</p>
<p>In intervention two, the nutrition team will calculate daily requirements of athletes and give dietary orders to the kitchen staff. Special dietary orders can be made for athletes at risk of malnutrition. Kitchen staff will prepare the orders accordingly and serve the athletes.</p>
<p>In both intervention, tray checking for leftover will be done by a nutrition personnel or kitchen staff to estimate daily intake of the whole team.</p>
<p><br></p>
<section id="simulation-of-learning-outcome" class="level3"><h3 class="anchored" data-anchor-id="simulation-of-learning-outcome">Simulation of learning outcome</h3>
<p>Percent probability of good learning outcome for intervention one was predicted based on athletes’ prior knowledge on nutrition, their interest, motivation and persistence in learning. The same variables were used for intervention two except the persistance in learning since athletes are not expected to do the calculations by themselves.</p>
<p><br></p>
</section><section id="simulation-of-maintaining-good-nutrition" class="level3"><h3 class="anchored" data-anchor-id="simulation-of-maintaining-good-nutrition">Simulation of maintaining good nutrition</h3>
<p>Based on the percent learning outcome, the percent probability of athletes continue following good nutrition habits was simulated with additional variables such as the chance of having good nutritionists or kitchen staff, the chance of food safety and food quality.</p>
<p><br></p>
</section><section id="percent-probability-of-meeting-nutrition-target" class="level3"><h3 class="anchored" data-anchor-id="percent-probability-of-meeting-nutrition-target">Percent probability of meeting nutrition target</h3>
<p>Considering their learning outcome and probability of maintaining good nutrition, their actual food intake was calculated. Their water intake was also estimated, and based on these estimates, we simulated the percent probability of the athletes meeting the nutrition goals.</p>
<p>The output table below shows at least 90% of nutrition target was met in both intervention. Hence, based on the simulation results, both intervention one and two are equally effective to achieve the desired nutrition outcome.</p>
<p>Since both interventions are equally effective, the percent probability of good sports performance and mental well-being are also equal.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"inter_outcome.csv"</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 48%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 14%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">X</th>
<th style="text-align: right;">X5.</th>
<th style="text-align: right;">X50.</th>
<th style="text-align: right;">X95.</th>
<th style="text-align: right;">enbPa</th>
<th style="text-align: right;">elPa</th>
<th style="text-align: right;">elSq</th>
<th style="text-align: right;">eol</th>
<th style="text-align: left;">optimalChoice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">good_learning_outcome_inter_one</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">0.72</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.72</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">good_learning_outcome_inter_two</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">maintain_good_nutrition_inter_one</td>
<td style="text-align: right;">0.74</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">maintain_good_nutrition_inter_two</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.81</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">maintain_good_water_intake_inter_one</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">maintain_good_water_intake_inter_two</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.84</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">percent_achieving_nutrition_outcome_inter_one</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">percent_achieving_nutrition_outcome_inter_two</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">good_mental_wellbeing_inter_one</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">good_mental_wellbeing_inter_two</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">optimal_training_condition_inter_one</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
<tr class="even">
<td style="text-align: left;">optimal_training_condition_inter_two</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0.86</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">PA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
</section><section id="pls-and-evpi-analysis" class="level3"><h3 class="anchored" data-anchor-id="pls-and-evpi-analysis">PLS and EVPI analysis</h3>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pls_result</span> <span class="op">&lt;-</span> <span class="fu">plsr.mcSimulation</span><span class="op">(</span>object <span class="op">=</span> <span class="va">Learning_behaviour_mc_simulation</span>,</span>
<span>                                resultName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span></span>
<span>                                <span class="op">(</span><span class="va">Learning_behaviour_mc_simulation</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, </span>
<span>                                ncomp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_pls</span><span class="op">(</span><span class="va">pls_result</span>, input_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"3_Learning_behaviour.csv"</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Learning_behaviour_mcSimulation_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">Learning_behaviour_mc_simulation</span><span class="op">$</span><span class="va">x</span>,</span>
<span>                                        <span class="va">Learning_behaviour_mc_simulation</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html">capture.output</a></span><span class="op">(</span><span class="va">evpi</span> <span class="op">&lt;-</span> <span class="fu">multi_EVPI</span><span class="op">(</span>mc <span class="op">=</span> <span class="va">Learning_behaviour_mcSimulation_table</span>, first_out_var <span class="op">=</span> </span>
<span>                     <span class="st">"total_egg_serving_all_athletes"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">plot_evpi</span><span class="op">(</span><span class="va">evpi</span>, decision_vars <span class="op">=</span> <span class="st">"total_egg_serving_all_athletes"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: There are no variables with a positive EVPI. You probably do not need
a plot for that.</code></pre>
</div>
</div>
<p><br></p>
</section></section><section id="part-4-chance-of-winning" class="level2"><h2 class="anchored" data-anchor-id="part-4-chance-of-winning">Part 4: Chance of Winning</h2>
<p>Using the probability estimates of nutrition and sports outcome, we simulated the chance of winning for the MFF team. This is not to compare between intervention one and two, since it is already clear in part 3 that both are equally effective interventions. This part of the model aims to predict whether nutrition intervention can impact the winning chance significantly.</p>
<p>The team’s chance of winning was predicted based on their physical strength (nutrition and sports outcome), their readiness for game (energy, motivation, confidence), probability of playing in the home field, having good key and backup players, and advantage in strategy. All predictor variables except nutrition and sports outcome are left to random chance by setting lower bound at 10% and upper bound at 90%. The nutrition and sports outcome at baseline were set at 30% for lower bound and 50% for upper bound- the team’s nutrition and sports performance are comparable or lower than their nutrition needs or their opponents.</p>
<p>We used the output from part 3 of the model to simulate the increased chance of winning for the team after the intervention, and compared it with the chance of winning at baseline.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">11</span><span class="op">)</span></span>
<span></span>
<span><span class="va">make_variables</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">est</span>,<span class="va">n</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">{</span> <span class="va">x</span><span class="op">&lt;-</span><span class="fu">random</span><span class="op">(</span>rho<span class="op">=</span><span class="va">est</span>, n<span class="op">=</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/assign.html">assign</a></span><span class="op">(</span><span class="va">i</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span>,<span class="va">i</span><span class="op">]</span><span class="op">)</span>,envir<span class="op">=</span><span class="va">.GlobalEnv</span><span class="op">)</span><span class="op">}</span></span>
<span></span>
<span><span class="fu">make_variables</span><span class="op">(</span><span class="fu">estimate_read_csv</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"4_Chance_winning.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">Chance_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">varnames</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span><span class="co"># Chance of winning current</span></span>
<span>  </span>
<span>  <span class="va">chance_winning_current</span> <span class="op">&lt;-</span> <span class="fu">vv</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="va">good_nutrition_current</span><span class="op">*</span><span class="va">optimal_training_condition_current</span><span class="op">)</span><span class="op">*</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>                                  <span class="fl">0.7</span><span class="op">*</span><span class="op">(</span><span class="va">past_winning_percent</span><span class="op">*</span><span class="va">team_morale</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">home_field</span><span class="op">*</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>                                <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">good_player</span><span class="op">*</span><span class="va">backup_player</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">strategy_advantage</span><span class="op">)</span><span class="op">)</span><span class="op">/</span> <span class="op">(</span><span class="fl">3.1</span><span class="op">)</span>,</span>
<span>                               <span class="va">var_CV</span>, <span class="va">n_year</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># Chance of winning after intervention</span></span>
<span>  </span>
<span>  <span class="va">chance_winning_intervention</span> <span class="op">&lt;-</span> <span class="fu">vv</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="va">good_nutrition_intervention</span><span class="op">*</span><span class="va">optimal_training_condition_intervention</span><span class="op">)</span><span class="op">*</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>                                       <span class="fl">0.7</span><span class="op">*</span><span class="op">(</span><span class="va">past_winning_percent</span><span class="op">*</span><span class="va">team_morale</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">home_field</span><span class="op">*</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>                                       <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">good_player</span><span class="op">*</span><span class="va">backup_player</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">strategy_advantage</span><span class="op">)</span><span class="op">)</span><span class="op">/</span> <span class="op">(</span><span class="fl">3.1</span><span class="op">)</span>,</span>
<span>                                    <span class="va">var_CV</span>, <span class="va">n_year</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Chance against opponent</span></span>
<span>  </span>
<span>  <span class="va">chance_winning_opponent</span> <span class="op">&lt;-</span> <span class="fu">vv</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="va">chance_better_nutrition</span><span class="op">*</span><span class="va">chance_better_condition</span><span class="op">)</span><span class="op">*</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>                                       <span class="fl">0.7</span><span class="op">*</span><span class="op">(</span><span class="va">past_winning_percent</span><span class="op">*</span><span class="va">team_morale</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">home_field</span><span class="op">*</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>                                       <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">good_player</span><span class="op">*</span><span class="va">backup_player</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="op">(</span><span class="va">strategy_advantage</span><span class="op">)</span><span class="op">)</span><span class="op">/</span> <span class="op">(</span><span class="fl">3.1</span><span class="op">)</span>,</span>
<span>                                    <span class="va">var_CV</span>, <span class="va">n_year</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># Net chance of winning</span></span>
<span>  </span>
<span>  <span class="va">chance_winning_net</span> <span class="op">&lt;-</span> <span class="va">chance_winning_intervention</span> <span class="op">-</span> <span class="va">chance_winning_current</span></span>
<span>  </span>
<span>  <span class="va">chance_winning_net_opponent</span> <span class="op">&lt;-</span> <span class="va">chance_winning_opponent</span> <span class="op">-</span> <span class="va">chance_winning_current</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    chance_winning_current <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">chance_winning_current</span><span class="op">)</span>,</span>
<span>    chance_winning_intervention <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">chance_winning_intervention</span><span class="op">)</span>,</span>
<span>    chance_winning_net <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">chance_winning_net</span><span class="op">)</span>,</span>
<span>    chance_winning_opponent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">chance_winning_opponent</span><span class="op">)</span>,</span>
<span>    chance_winning_net_opponent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">chance_winning_net_opponent</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Run the Monte Carlo Simulation</span></span>
<span></span>
<span><span class="va">Chance_mc_simulation</span> <span class="op">&lt;-</span> <span class="fu">mcSimulation</span><span class="op">(</span>estimate <span class="op">=</span> <span class="fu">estimate_read_csv</span><span class="op">(</span><span class="st">"4_Chance_winning.csv"</span><span class="op">)</span>,</span>
<span>                                   model_function <span class="op">=</span> <span class="va">Chance_function</span>,</span>
<span>                                   numberOfModelRuns <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>                                   functionSyntax <span class="op">=</span> <span class="st">"plainNames"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Chance_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chance_winning_intervention"</span>, <span class="st">"chance_winning_current"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'probability'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The above plot shows improved chance of winning after intervention than at baseline. This is because when all the other predictor variables remain constant, the model variations only depend on the nutrition and sports outcome. After intervention, the two outcomes are measured by their percent meeting the targets. Hence, the probability for nutrition increased to around 90% and sports outcome to about 80%.</p>
<p>However, we need to consider if we can use the same values when comparison is made with the opposing team. It is highly likely that athletes from opposing team take care of their nutrition and sports performance. Thus, using the same estimates of about 80-90% means that the nutrition and sports performance of MFF athletes are way better than the opposition. This also implies that the athletes from opposing team are at risk of malnutrition— very unlikely.</p>
<p>Thus, we use realistic estimates of 50% at lower bound and 70% at upper bound (still quite generous estimates)— the nutrition and sports performace of MFF athletes are comparable or a bit better than the opposing team. The result is shown in the plot below.</p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Chance_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chance_winning_opponent"</span>,<span class="st">"chance_winning_current"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'probability'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is almost complete overlap between the two curves, showing when other predictors remain constant, improved nutrition is not enough to enhance the chance of winning. So, nutrition alone is not the answer. Improvement should be achieved in all areas including nutrition.</p>
<p><br></p>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_distributions</span><span class="op">(</span>mcSimulation_object <span class="op">=</span> <span class="va">Chance_mc_simulation</span>,</span>
<span>                   vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chance_winning_net"</span>, <span class="st">"chance_winning_net_opponent"</span><span class="op">)</span>,</span>
<span>                   method <span class="op">=</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span>                   x_axis_name <span class="op">=</span> <span class="st">'probability'</span>,</span>
<span>                   base_size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/m45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The comparison between the net chance of winning within team (at baseline and after intervention) and the net chance of winning between teams (MFF and opposing team) show significant gap with the latter at the lower end.</p>
<p><br></p>
<section id="evpi-analysis" class="level3"><h3 class="anchored" data-anchor-id="evpi-analysis">EVPI analysis</h3>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Chance_mcSimulation_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">Chance_mc_simulation</span><span class="op">$</span><span class="va">x</span>,</span>
<span>                                        <span class="va">Chance_mc_simulation</span><span class="op">$</span><span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output1</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html">capture.output</a></span><span class="op">(</span><span class="va">evpi</span> <span class="op">&lt;-</span> <span class="fu">multi_EVPI</span><span class="op">(</span>mc <span class="op">=</span> <span class="va">Chance_mcSimulation_table</span>, first_out_var <span class="op">=</span> <span class="st">"chance_winning_current"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">output2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html">capture.output</a></span><span class="op">(</span><span class="va">evpi_1</span> <span class="op">&lt;-</span> <span class="fu">multi_EVPI</span><span class="op">(</span>mc <span class="op">=</span> <span class="va">Chance_mcSimulation_table</span>, first_out_var <span class="op">=</span> <span class="st">"chance_winning_intervention"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">output3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html">capture.output</a></span><span class="op">(</span><span class="va">evpi_2</span> <span class="op">&lt;-</span> <span class="fu">multi_EVPI</span><span class="op">(</span>mc <span class="op">=</span> <span class="va">Chance_mcSimulation_table</span>, first_out_var <span class="op">=</span> <span class="st">"chance_winning_opponent"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">plot_evpi</span><span class="op">(</span><span class="va">evpi</span>, decision_vars <span class="op">=</span> <span class="st">"chance_winning_current"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: There are no variables with a positive EVPI. You probably do not need
a plot for that.</code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_evpi</span><span class="op">(</span><span class="va">evpi_1</span>, decision_vars <span class="op">=</span> <span class="st">"chance_winning_intervention"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: There are no variables with a positive EVPI. You probably do not need
a plot for that.</code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plot_evpi</span><span class="op">(</span><span class="va">evpi_2</span>, decision_vars <span class="op">=</span> <span class="st">"chance_winning_opponent"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: There are no variables with a positive EVPI. You probably do not need
a plot for that.</code></pre>
</div>
</div>
<p><br></p>
</section><section id="pls-analysis" class="level3"><h3 class="anchored" data-anchor-id="pls-analysis">PLS analysis</h3>
<div class="cell">
<details><summary>Code</summary><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pls_result</span> <span class="op">&lt;-</span> <span class="fu">plsr.mcSimulation</span><span class="op">(</span>object <span class="op">=</span> <span class="va">Chance_mc_simulation</span>,</span>
<span>                                resultName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span></span>
<span>                                <span class="op">(</span><span class="va">Chance_mc_simulation</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, </span>
<span>                                ncomp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_pls</span><span class="op">(</span><span class="va">pls_result</span>, input_table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"4_Chance_winning.csv"</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="MFF_final_report_files/figure-html/pls4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
</section></section><section id="part-5-cost-and-benefit-analysis" class="level2"><h2 class="anchored" data-anchor-id="part-5-cost-and-benefit-analysis">Part 5: Cost and Benefit analysis</h2>
<hr>
<!-- -->
</section></section></main><!-- /main column --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb31" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "MFF_final_report"</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "SM"</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "`r format(Sys.time(), '%B %d, %Y')`"</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc_float: true</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-title: "Contents"</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 5</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co">    number_sections: true</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co">    fig_caption: true</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: 'Show code'</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co">    code-link: true</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co">    code_highlight: tango</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co">    code_download: true</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: sandstone</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co">    highlight: tango</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="co">    smooth-scroll: true</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>,  <span class="at">message =</span> <span class="cn">FALSE</span>,  <span class="at">warning =</span> <span class="cn">FALSE</span>,  <span class="at">tidy =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(decisionSupport)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a><span class="fu"># Nutritional Self-reliance vs. Guided Personalized Nutrition to improve nutritional outcome of football players</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>Two intervention choices were chosen to improve nutrition among Myanmar football players. The first choice was to improve the athlete's nutrition knowledge by intensive nutrition training, and the second was to hire a nutrition team to oversee the athletes' food intake. </span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> </span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a><span class="al">![**Figure: Impact Pathway Model**](./Impact_pathway_model.png)</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a><span class="fu">## Part 1: Calorie needs</span></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a><span class="fu">### Total calorie needs vs. current calorie intake</span></span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>Calorie requirement of all athletes was calculated using Mifflin-St Jeor equation, adjusting for extra calorie for underweight athletes and lower calorie needs for overweight athletes. Current calorie intake of all athletes was also calculated using estimates. </span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>make_variables<span class="ot">&lt;-</span><span class="cf">function</span>(est,<span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>{ x<span class="ot">&lt;-</span><span class="fu">random</span>(<span class="at">rho=</span>est, <span class="at">n=</span>n)</span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">colnames</span>(x)) <span class="fu">assign</span>(i, <span class="fu">as.numeric</span>(x[<span class="dv">1</span>,i]),<span class="at">envir=</span>.GlobalEnv)}</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a><span class="fu">make_variables</span>(<span class="fu">estimate_read_csv</span>(<span class="fu">paste</span>(<span class="st">"1_Calorie.csv"</span>)))</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a>Calorie_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, varnames){</span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>  <span class="do">### For First Year</span></span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate BMR for men using the Mifflin-St Jeor equation</span></span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a>  bmr_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>weight_male) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_male) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_male) <span class="sc">+</span> <span class="dv">5</span>),</span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a>                var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate BMR for women using the Mifflin-St Jeor equation</span></span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>  bmr_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>weight_female) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_female) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_female) <span class="sc">-</span> <span class="dv">161</span>),</span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a>                   var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Normal training days</span></span>
<span id="cb31-77"><a href="#cb31-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-78"><a href="#cb31-78" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate daily calorie target for men to maintain current weight</span></span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_male <span class="ot">&lt;-</span><span class="fu">vv</span>(bmr_male <span class="sc">*</span> paf_normal,</span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a>                               var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate daily calorie target for women to maintain current weight</span></span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_female <span class="sc">*</span> paf_normal,</span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a>                                 var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################  </span></span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intensive training days</span></span>
<span id="cb31-93"><a href="#cb31-93" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-94"><a href="#cb31-94" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate daily calorie target for men to maintain current weight</span></span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_male <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a>                               var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate daily calorie target for women to maintain current weight</span></span>
<span id="cb31-101"><a href="#cb31-101" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-102"><a href="#cb31-102" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_female <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a>                                 var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################  </span></span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-107"><a href="#cb31-107" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Extra calorie needs for underweight athletes</span></span>
<span id="cb31-108"><a href="#cb31-108" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate BMI for male athletes</span></span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a>  bmi_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_male<span class="sc">/</span>(height_male<span class="sc">*</span><span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a>                var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Number of underweight male athletes</span></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>  underweight_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(per_underweight_male <span class="sc">*</span> number_male,</span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-118"><a href="#cb31-118" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-119"><a href="#cb31-119" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract weight range of underweight male athletes</span></span>
<span id="cb31-120"><a href="#cb31-120" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-121"><a href="#cb31-121" aria-hidden="true" tabindex="-1"></a>  underweight_bmi_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(<span class="fu">ifelse</span>(bmi_male <span class="sc">&lt;</span> bmi_low_cutoff,</span>
<span id="cb31-122"><a href="#cb31-122" aria-hidden="true" tabindex="-1"></a>                                   bmi_male, <span class="dv">0</span>),</span>
<span id="cb31-123"><a href="#cb31-123" aria-hidden="true" tabindex="-1"></a>                             var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-124"><a href="#cb31-124" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-125"><a href="#cb31-125" aria-hidden="true" tabindex="-1"></a>  <span class="do">## here we estimate weights for all possible low bmi for all heights</span></span>
<span id="cb31-126"><a href="#cb31-126" aria-hidden="true" tabindex="-1"></a>  wt_under_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(underweight_bmi_male <span class="sc">*</span> (height_male <span class="sc">*</span> <span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb31-127"><a href="#cb31-127" aria-hidden="true" tabindex="-1"></a>                      var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-128"><a href="#cb31-128" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-129"><a href="#cb31-129" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of extra weight gain needed (kg) for male athletes</span></span>
<span id="cb31-130"><a href="#cb31-130" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-131"><a href="#cb31-131" aria-hidden="true" tabindex="-1"></a>  wt_healthy_male <span class="ot">&lt;-</span> bmi_healthy_cutoff <span class="sc">*</span> (height_male <span class="sc">*</span> <span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb31-132"><a href="#cb31-132" aria-hidden="true" tabindex="-1"></a>                  </span>
<span id="cb31-133"><a href="#cb31-133" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-134"><a href="#cb31-134" aria-hidden="true" tabindex="-1"></a>  extra_wt_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_healthy_male <span class="sc">-</span> wt_under_male,</span>
<span id="cb31-135"><a href="#cb31-135" aria-hidden="true" tabindex="-1"></a>                      var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-136"><a href="#cb31-136" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-137"><a href="#cb31-137" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-138"><a href="#cb31-138" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weeks needed to meet target weights</span></span>
<span id="cb31-139"><a href="#cb31-139" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-140"><a href="#cb31-140" aria-hidden="true" tabindex="-1"></a>  wt_gain_week_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(extra_wt_male<span class="sc">/</span>weekly_weight_gain,</span>
<span id="cb31-141"><a href="#cb31-141" aria-hidden="true" tabindex="-1"></a>                          var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-142"><a href="#cb31-142" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-143"><a href="#cb31-143" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of extra calorie needed for male athletes for total target weeks</span></span>
<span id="cb31-144"><a href="#cb31-144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-145"><a href="#cb31-145" aria-hidden="true" tabindex="-1"></a>  extra_kcal_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(weekly_extra_kcal <span class="sc">*</span> wt_gain_week_male,</span>
<span id="cb31-146"><a href="#cb31-146" aria-hidden="true" tabindex="-1"></a>                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-147"><a href="#cb31-147" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-148"><a href="#cb31-148" aria-hidden="true" tabindex="-1"></a><span class="do">#####################</span></span>
<span id="cb31-149"><a href="#cb31-149" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-150"><a href="#cb31-150" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate BMI for female athletes</span></span>
<span id="cb31-151"><a href="#cb31-151" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-152"><a href="#cb31-152" aria-hidden="true" tabindex="-1"></a>  bmi_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_female<span class="sc">/</span>(height_female<span class="sc">*</span><span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb31-153"><a href="#cb31-153" aria-hidden="true" tabindex="-1"></a>                   var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-154"><a href="#cb31-154" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-155"><a href="#cb31-155" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Number of underweight female athletes</span></span>
<span id="cb31-156"><a href="#cb31-156" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-157"><a href="#cb31-157" aria-hidden="true" tabindex="-1"></a>  underweight_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(per_underweight_female <span class="sc">*</span> number_female,</span>
<span id="cb31-158"><a href="#cb31-158" aria-hidden="true" tabindex="-1"></a>                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-159"><a href="#cb31-159" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-160"><a href="#cb31-160" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract weight range of underweight female athletes</span></span>
<span id="cb31-161"><a href="#cb31-161" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-162"><a href="#cb31-162" aria-hidden="true" tabindex="-1"></a>  underweight_bmi_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(<span class="fu">ifelse</span>(bmi_female <span class="sc">&lt;</span> bmi_low_cutoff,</span>
<span id="cb31-163"><a href="#cb31-163" aria-hidden="true" tabindex="-1"></a>                                   bmi_female, <span class="dv">0</span>),</span>
<span id="cb31-164"><a href="#cb31-164" aria-hidden="true" tabindex="-1"></a>                               var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-165"><a href="#cb31-165" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-166"><a href="#cb31-166" aria-hidden="true" tabindex="-1"></a>  <span class="do">## here we estimate weights for all possible low bmi for all heights</span></span>
<span id="cb31-167"><a href="#cb31-167" aria-hidden="true" tabindex="-1"></a>  wt_under_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(underweight_bmi_female <span class="sc">*</span> (height_female <span class="sc">*</span> <span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb31-168"><a href="#cb31-168" aria-hidden="true" tabindex="-1"></a>                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-169"><a href="#cb31-169" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-170"><a href="#cb31-170" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-171"><a href="#cb31-171" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of extra weight gain needed (kg) for female athletes </span></span>
<span id="cb31-172"><a href="#cb31-172" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-173"><a href="#cb31-173" aria-hidden="true" tabindex="-1"></a>  wt_healthy_female <span class="ot">&lt;-</span> bmi_healthy_cutoff <span class="sc">*</span> (height_female <span class="sc">*</span> <span class="fl">0.01</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb31-174"><a href="#cb31-174" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-175"><a href="#cb31-175" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-176"><a href="#cb31-176" aria-hidden="true" tabindex="-1"></a>  extra_wt_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_healthy_female <span class="sc">-</span> wt_under_female,</span>
<span id="cb31-177"><a href="#cb31-177" aria-hidden="true" tabindex="-1"></a>                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-178"><a href="#cb31-178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-179"><a href="#cb31-179" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-180"><a href="#cb31-180" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weeks needed to meet target weights</span></span>
<span id="cb31-181"><a href="#cb31-181" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-182"><a href="#cb31-182" aria-hidden="true" tabindex="-1"></a>  wt_gain_week_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(extra_wt_female<span class="sc">/</span>weekly_weight_gain,</span>
<span id="cb31-183"><a href="#cb31-183" aria-hidden="true" tabindex="-1"></a>                            var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-184"><a href="#cb31-184" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-185"><a href="#cb31-185" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-186"><a href="#cb31-186" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of extra calorie needed for female athletes for total target weeks</span></span>
<span id="cb31-187"><a href="#cb31-187" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-188"><a href="#cb31-188" aria-hidden="true" tabindex="-1"></a>  extra_kcal_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(weekly_extra_kcal <span class="sc">*</span> wt_gain_week_female,</span>
<span id="cb31-189"><a href="#cb31-189" aria-hidden="true" tabindex="-1"></a>                          var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-190"><a href="#cb31-190" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-191"><a href="#cb31-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-192"><a href="#cb31-192" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-193"><a href="#cb31-193" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-194"><a href="#cb31-194" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Deduct calories for overweight athletes</span></span>
<span id="cb31-195"><a href="#cb31-195" aria-hidden="true" tabindex="-1"></a>  <span class="co"># watch out for training intensity- kcal deduction will be less if they increase training</span></span>
<span id="cb31-196"><a href="#cb31-196" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-197"><a href="#cb31-197" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate fat mass of male athletes (weight in kg * (% body fat)/100)</span></span>
<span id="cb31-198"><a href="#cb31-198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-199"><a href="#cb31-199" aria-hidden="true" tabindex="-1"></a>  fat_mass_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_male <span class="sc">*</span> (fat_perc_male<span class="sc">/</span><span class="dv">100</span>),</span>
<span id="cb31-200"><a href="#cb31-200" aria-hidden="true" tabindex="-1"></a>                      var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-201"><a href="#cb31-201" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-202"><a href="#cb31-202" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-203"><a href="#cb31-203" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate lean body mass of male athletes (total body weight - fat mass)</span></span>
<span id="cb31-204"><a href="#cb31-204" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-205"><a href="#cb31-205" aria-hidden="true" tabindex="-1"></a>  lean_mass_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_male <span class="sc">-</span> fat_mass_male,</span>
<span id="cb31-206"><a href="#cb31-206" aria-hidden="true" tabindex="-1"></a>                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-207"><a href="#cb31-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-208"><a href="#cb31-208" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-209"><a href="#cb31-209" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate target weight for male athletes</span></span>
<span id="cb31-210"><a href="#cb31-210" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Since input table allows range, I just use one calculation to generate range-no need for step-cal</span></span>
<span id="cb31-211"><a href="#cb31-211" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-212"><a href="#cb31-212" aria-hidden="true" tabindex="-1"></a>  target_wt_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(lean_mass_male<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>(target_fat_perc_male<span class="sc">/</span><span class="dv">100</span>)),</span>
<span id="cb31-213"><a href="#cb31-213" aria-hidden="true" tabindex="-1"></a>                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-214"><a href="#cb31-214" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-215"><a href="#cb31-215" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-216"><a href="#cb31-216" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract number of male athletes with percent body fat above threshold range</span></span>
<span id="cb31-217"><a href="#cb31-217" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-218"><a href="#cb31-218" aria-hidden="true" tabindex="-1"></a>  number_overweight_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(per_overweight_male <span class="sc">*</span> number_male,</span>
<span id="cb31-219"><a href="#cb31-219" aria-hidden="true" tabindex="-1"></a>                               var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-220"><a href="#cb31-220" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-221"><a href="#cb31-221" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-222"><a href="#cb31-222" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract range of male percent body fat above threshold range</span></span>
<span id="cb31-223"><a href="#cb31-223" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-224"><a href="#cb31-224" aria-hidden="true" tabindex="-1"></a>  fat_above_threshold_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(<span class="fu">ifelse</span>(fat_perc_male <span class="sc">&gt;</span> target_fat_perc_male,</span>
<span id="cb31-225"><a href="#cb31-225" aria-hidden="true" tabindex="-1"></a>                                       fat_perc_male, <span class="dv">0</span>),</span>
<span id="cb31-226"><a href="#cb31-226" aria-hidden="true" tabindex="-1"></a>                                 var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-227"><a href="#cb31-227" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-228"><a href="#cb31-228" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract weight range of male athletes with percent body fat above threshold range</span></span>
<span id="cb31-229"><a href="#cb31-229" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-230"><a href="#cb31-230" aria-hidden="true" tabindex="-1"></a>  wt_over_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(lean_mass_male<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>(fat_above_threshold_male<span class="sc">/</span><span class="dv">100</span>)),</span>
<span id="cb31-231"><a href="#cb31-231" aria-hidden="true" tabindex="-1"></a>                     var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-232"><a href="#cb31-232" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-233"><a href="#cb31-233" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-234"><a href="#cb31-234" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weight loss needed (kg) for male athletes with percent body fat above threshold range</span></span>
<span id="cb31-235"><a href="#cb31-235" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-236"><a href="#cb31-236" aria-hidden="true" tabindex="-1"></a>  wt_deduct_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_over_male <span class="sc">-</span> target_wt_male,</span>
<span id="cb31-237"><a href="#cb31-237" aria-hidden="true" tabindex="-1"></a>                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-238"><a href="#cb31-238" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-239"><a href="#cb31-239" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weeks needed to meet target weights </span></span>
<span id="cb31-240"><a href="#cb31-240" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-241"><a href="#cb31-241" aria-hidden="true" tabindex="-1"></a>  wt_loss_week_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_deduct_male<span class="sc">/</span>weekly_weight_loss,</span>
<span id="cb31-242"><a href="#cb31-242" aria-hidden="true" tabindex="-1"></a>                          var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-243"><a href="#cb31-243" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-244"><a href="#cb31-244" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-245"><a href="#cb31-245" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of calorie deduction needed for male athletes for total target weeks</span></span>
<span id="cb31-246"><a href="#cb31-246" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-247"><a href="#cb31-247" aria-hidden="true" tabindex="-1"></a>  kcal_deduct_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(weekly_extra_kcal <span class="sc">*</span> wt_loss_week_male,</span>
<span id="cb31-248"><a href="#cb31-248" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-249"><a href="#cb31-249" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-250"><a href="#cb31-250" aria-hidden="true" tabindex="-1"></a><span class="do">#######################</span></span>
<span id="cb31-251"><a href="#cb31-251" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-252"><a href="#cb31-252" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-253"><a href="#cb31-253" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate fat mass of female athletes (weight in kg * (% body fat)/100)</span></span>
<span id="cb31-254"><a href="#cb31-254" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-255"><a href="#cb31-255" aria-hidden="true" tabindex="-1"></a>  fat_mass_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_female <span class="sc">*</span> (fat_perc_female<span class="sc">/</span><span class="dv">100</span>),</span>
<span id="cb31-256"><a href="#cb31-256" aria-hidden="true" tabindex="-1"></a>                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-257"><a href="#cb31-257" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-258"><a href="#cb31-258" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-259"><a href="#cb31-259" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate lean body mass of female athletes (total body weight - fat mass)</span></span>
<span id="cb31-260"><a href="#cb31-260" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-261"><a href="#cb31-261" aria-hidden="true" tabindex="-1"></a>  lean_mass_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(weight_female <span class="sc">-</span> fat_mass_female,</span>
<span id="cb31-262"><a href="#cb31-262" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-263"><a href="#cb31-263" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-264"><a href="#cb31-264" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-265"><a href="#cb31-265" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate target weight for female athletes</span></span>
<span id="cb31-266"><a href="#cb31-266" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-267"><a href="#cb31-267" aria-hidden="true" tabindex="-1"></a>  target_wt_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(lean_mass_female<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>(target_fat_perc_female<span class="sc">/</span><span class="dv">100</span>)),</span>
<span id="cb31-268"><a href="#cb31-268" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-269"><a href="#cb31-269" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-270"><a href="#cb31-270" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-271"><a href="#cb31-271" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-272"><a href="#cb31-272" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract number of female athletes with percent body fat above threshold range</span></span>
<span id="cb31-273"><a href="#cb31-273" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-274"><a href="#cb31-274" aria-hidden="true" tabindex="-1"></a>  number_overweight_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(per_overweight_female <span class="sc">*</span> number_female,</span>
<span id="cb31-275"><a href="#cb31-275" aria-hidden="true" tabindex="-1"></a>                                 var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-276"><a href="#cb31-276" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-277"><a href="#cb31-277" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-278"><a href="#cb31-278" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract range of female percent body fat above threshold range</span></span>
<span id="cb31-279"><a href="#cb31-279" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-280"><a href="#cb31-280" aria-hidden="true" tabindex="-1"></a>  fat_above_threshold_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(<span class="fu">ifelse</span>(fat_perc_female <span class="sc">&gt;</span> target_fat_perc_female,</span>
<span id="cb31-281"><a href="#cb31-281" aria-hidden="true" tabindex="-1"></a>                                         fat_perc_female, <span class="dv">0</span>),</span>
<span id="cb31-282"><a href="#cb31-282" aria-hidden="true" tabindex="-1"></a>                                   var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-283"><a href="#cb31-283" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-284"><a href="#cb31-284" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-285"><a href="#cb31-285" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract weight range of female athletes with percent body fat above threshold range</span></span>
<span id="cb31-286"><a href="#cb31-286" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-287"><a href="#cb31-287" aria-hidden="true" tabindex="-1"></a>  wt_over_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(lean_mass_female<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span> (fat_above_threshold_female<span class="sc">/</span><span class="dv">100</span>)),</span>
<span id="cb31-288"><a href="#cb31-288" aria-hidden="true" tabindex="-1"></a>                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-289"><a href="#cb31-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-290"><a href="#cb31-290" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-291"><a href="#cb31-291" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weight loss needed (kg) for female athletes with percent body fat above threshold range</span></span>
<span id="cb31-292"><a href="#cb31-292" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-293"><a href="#cb31-293" aria-hidden="true" tabindex="-1"></a>  wt_deduct_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_over_female <span class="sc">-</span> target_wt_female,</span>
<span id="cb31-294"><a href="#cb31-294" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-295"><a href="#cb31-295" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-296"><a href="#cb31-296" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-297"><a href="#cb31-297" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of weeks needed to meet target weights </span></span>
<span id="cb31-298"><a href="#cb31-298" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-299"><a href="#cb31-299" aria-hidden="true" tabindex="-1"></a>  wt_loss_week_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(wt_deduct_female<span class="sc">/</span>weekly_weight_loss,</span>
<span id="cb31-300"><a href="#cb31-300" aria-hidden="true" tabindex="-1"></a>                            var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-301"><a href="#cb31-301" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-302"><a href="#cb31-302" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-303"><a href="#cb31-303" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Range of calorie deduction needed for female athletes for total target weeks</span></span>
<span id="cb31-304"><a href="#cb31-304" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-305"><a href="#cb31-305" aria-hidden="true" tabindex="-1"></a>  kcal_deduct_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(weekly_extra_kcal <span class="sc">*</span> wt_loss_week_female,</span>
<span id="cb31-306"><a href="#cb31-306" aria-hidden="true" tabindex="-1"></a>                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-307"><a href="#cb31-307" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-308"><a href="#cb31-308" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-309"><a href="#cb31-309" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-310"><a href="#cb31-310" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-311"><a href="#cb31-311" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Total yearly calorie needs </span></span>
<span id="cb31-312"><a href="#cb31-312" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-313"><a href="#cb31-313" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Total first-year calorie needs for athletes within healthy weight range</span></span>
<span id="cb31-314"><a href="#cb31-314" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-315"><a href="#cb31-315" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of male athletes within healthy weight range</span></span>
<span id="cb31-316"><a href="#cb31-316" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-317"><a href="#cb31-317" aria-hidden="true" tabindex="-1"></a>  number_healthy_male <span class="ot">&lt;-</span> number_male <span class="sc">-</span> (underweight_male <span class="sc">+</span> number_overweight_male)</span>
<span id="cb31-318"><a href="#cb31-318" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-319"><a href="#cb31-319" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total calorie needs for healthy weight range athletes for the first year</span></span>
<span id="cb31-320"><a href="#cb31-320" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-321"><a href="#cb31-321" aria-hidden="true" tabindex="-1"></a>  bmr_healthy_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>target_wt_male) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_male) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_male) <span class="sc">+</span> <span class="dv">5</span>),</span>
<span id="cb31-322"><a href="#cb31-322" aria-hidden="true" tabindex="-1"></a>                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-323"><a href="#cb31-323" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-324"><a href="#cb31-324" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_healthy_male <span class="ot">&lt;-</span><span class="fu">vv</span>(bmr_healthy_male <span class="sc">*</span> paf_normal,</span>
<span id="cb31-325"><a href="#cb31-325" aria-hidden="true" tabindex="-1"></a>                                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-326"><a href="#cb31-326" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-327"><a href="#cb31-327" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-328"><a href="#cb31-328" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_healthy_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_healthy_male <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-329"><a href="#cb31-329" aria-hidden="true" tabindex="-1"></a>                                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-330"><a href="#cb31-330" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-331"><a href="#cb31-331" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_healthy_male <span class="ot">&lt;-</span> <span class="fu">vv</span>((daily_kcal_tar_nor_healthy_male<span class="sc">*</span>normal_training) <span class="sc">+</span></span>
<span id="cb31-332"><a href="#cb31-332" aria-hidden="true" tabindex="-1"></a>                                      (daily_kcal_tar_int_healthy_male<span class="sc">*</span>intensive_training),</span>
<span id="cb31-333"><a href="#cb31-333" aria-hidden="true" tabindex="-1"></a>                                     var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-334"><a href="#cb31-334" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-335"><a href="#cb31-335" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_healthy_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(first_year_kcal_healthy_male<span class="sc">*</span>number_healthy_male,</span>
<span id="cb31-336"><a href="#cb31-336" aria-hidden="true" tabindex="-1"></a>                                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-337"><a href="#cb31-337" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-338"><a href="#cb31-338" aria-hidden="true" tabindex="-1"></a>  <span class="do">##############</span></span>
<span id="cb31-339"><a href="#cb31-339" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-340"><a href="#cb31-340" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of female athletes within healthy weight range</span></span>
<span id="cb31-341"><a href="#cb31-341" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-342"><a href="#cb31-342" aria-hidden="true" tabindex="-1"></a>  number_healthy_female <span class="ot">&lt;-</span> number_female <span class="sc">-</span> (underweight_female <span class="sc">+</span> number_overweight_female)</span>
<span id="cb31-343"><a href="#cb31-343" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-344"><a href="#cb31-344" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total calorie needs for healthy weight range athletes for the first year</span></span>
<span id="cb31-345"><a href="#cb31-345" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-346"><a href="#cb31-346" aria-hidden="true" tabindex="-1"></a>  bmr_healthy_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>target_wt_female) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_female) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_female) <span class="sc">-</span> <span class="dv">161</span>),</span>
<span id="cb31-347"><a href="#cb31-347" aria-hidden="true" tabindex="-1"></a>                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-348"><a href="#cb31-348" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-349"><a href="#cb31-349" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_healthy_female <span class="ot">&lt;-</span><span class="fu">vv</span>(bmr_healthy_female <span class="sc">*</span> paf_normal,</span>
<span id="cb31-350"><a href="#cb31-350" aria-hidden="true" tabindex="-1"></a>                                         var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-351"><a href="#cb31-351" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-352"><a href="#cb31-352" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-353"><a href="#cb31-353" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_healthy_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_healthy_female <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-354"><a href="#cb31-354" aria-hidden="true" tabindex="-1"></a>                                          var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-355"><a href="#cb31-355" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-356"><a href="#cb31-356" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_healthy_female <span class="ot">&lt;-</span> <span class="fu">vv</span>((daily_kcal_tar_nor_healthy_female<span class="sc">*</span>normal_training) <span class="sc">+</span></span>
<span id="cb31-357"><a href="#cb31-357" aria-hidden="true" tabindex="-1"></a>                                        (daily_kcal_tar_int_healthy_female<span class="sc">*</span>intensive_training),</span>
<span id="cb31-358"><a href="#cb31-358" aria-hidden="true" tabindex="-1"></a>                                       var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-359"><a href="#cb31-359" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-360"><a href="#cb31-360" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_healthy_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(first_year_kcal_healthy_female<span class="sc">*</span>number_healthy_female,</span>
<span id="cb31-361"><a href="#cb31-361" aria-hidden="true" tabindex="-1"></a>                                             var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-362"><a href="#cb31-362" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-363"><a href="#cb31-363" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-364"><a href="#cb31-364" aria-hidden="true" tabindex="-1"></a>  <span class="do">#####################################################</span></span>
<span id="cb31-365"><a href="#cb31-365" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-366"><a href="#cb31-366" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Total first-year calorie needs for male athletes below healthy BMI range</span></span>
<span id="cb31-367"><a href="#cb31-367" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-368"><a href="#cb31-368" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change weight gain weeks for male athletes into days</span></span>
<span id="cb31-369"><a href="#cb31-369" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-370"><a href="#cb31-370" aria-hidden="true" tabindex="-1"></a>  wt_gain_week_male_in_days <span class="ot">&lt;-</span> wt_gain_week_male <span class="sc">*</span> <span class="dv">7</span></span>
<span id="cb31-371"><a href="#cb31-371" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-372"><a href="#cb31-372" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intensive training period (training before games) comes after normal period</span></span>
<span id="cb31-373"><a href="#cb31-373" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total days where underweight athletes will do normal or intensive training during weight gain period</span></span>
<span id="cb31-374"><a href="#cb31-374" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-375"><a href="#cb31-375" aria-hidden="true" tabindex="-1"></a>  wt_gain_int_training_days_male <span class="ot">&lt;-</span> <span class="fu">abs</span>(wt_gain_week_male_in_days <span class="sc">-</span> normal_training)</span>
<span id="cb31-376"><a href="#cb31-376" aria-hidden="true" tabindex="-1"></a>  wt_gain_nor_training_days_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(normal_training <span class="sc">&gt;=</span> wt_gain_week_male_in_days,</span>
<span id="cb31-377"><a href="#cb31-377" aria-hidden="true" tabindex="-1"></a>                                           wt_gain_week_male_in_days, </span>
<span id="cb31-378"><a href="#cb31-378" aria-hidden="true" tabindex="-1"></a>                                           (wt_gain_week_male_in_days <span class="sc">-</span> </span>
<span id="cb31-379"><a href="#cb31-379" aria-hidden="true" tabindex="-1"></a>                                              wt_gain_int_training_days_male))</span>
<span id="cb31-380"><a href="#cb31-380" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-381"><a href="#cb31-381" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-382"><a href="#cb31-382" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base calorie needs for an underweight male athlete during weight gain period</span></span>
<span id="cb31-383"><a href="#cb31-383" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-384"><a href="#cb31-384" aria-hidden="true" tabindex="-1"></a>  base_kcal_need_during_wt_gain_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_gain_week_male_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-385"><a href="#cb31-385" aria-hidden="true" tabindex="-1"></a>                                               (daily_kcal_tar_nor_male<span class="sc">*</span>wt_gain_week_male_in_days),</span>
<span id="cb31-386"><a href="#cb31-386" aria-hidden="true" tabindex="-1"></a>                                               ((daily_kcal_tar_nor_male<span class="sc">*</span>wt_gain_nor_training_days_male)<span class="sc">+</span></span>
<span id="cb31-387"><a href="#cb31-387" aria-hidden="true" tabindex="-1"></a>                                                  daily_kcal_tar_int_male<span class="sc">*</span>wt_gain_int_training_days_male))</span>
<span id="cb31-388"><a href="#cb31-388" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-389"><a href="#cb31-389" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an underweight male athlete during weight gain period</span></span>
<span id="cb31-390"><a href="#cb31-390" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-391"><a href="#cb31-391" aria-hidden="true" tabindex="-1"></a>  total_kcal_wt_gain_male <span class="ot">&lt;-</span> base_kcal_need_during_wt_gain_male <span class="sc">+</span> extra_kcal_male</span>
<span id="cb31-392"><a href="#cb31-392" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-393"><a href="#cb31-393" aria-hidden="true" tabindex="-1"></a>  <span class="do">####################</span></span>
<span id="cb31-394"><a href="#cb31-394" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-395"><a href="#cb31-395" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an underweight male (now normal weight) after weight gain period</span></span>
<span id="cb31-396"><a href="#cb31-396" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-397"><a href="#cb31-397" aria-hidden="true" tabindex="-1"></a>  total_training_days <span class="ot">&lt;-</span> normal_training <span class="sc">+</span> intensive_training</span>
<span id="cb31-398"><a href="#cb31-398" aria-hidden="true" tabindex="-1"></a>  training_days_after_wt_gain_male <span class="ot">&lt;-</span> total_training_days <span class="sc">-</span> wt_gain_week_male_in_days</span>
<span id="cb31-399"><a href="#cb31-399" aria-hidden="true" tabindex="-1"></a>  nor_training_days_after_wt_gain_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_gain_male <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-400"><a href="#cb31-400" aria-hidden="true" tabindex="-1"></a>                                                 (training_days_after_wt_gain_male <span class="sc">-</span> </span>
<span id="cb31-401"><a href="#cb31-401" aria-hidden="true" tabindex="-1"></a>                                                    intensive_training), <span class="dv">0</span>)</span>
<span id="cb31-402"><a href="#cb31-402" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-403"><a href="#cb31-403" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-404"><a href="#cb31-404" aria-hidden="true" tabindex="-1"></a>  int_training_days_after_wt_gain_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_gain_male <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-405"><a href="#cb31-405" aria-hidden="true" tabindex="-1"></a>                                                 (training_days_after_wt_gain_male <span class="sc">-</span></span>
<span id="cb31-406"><a href="#cb31-406" aria-hidden="true" tabindex="-1"></a>                                                    nor_training_days_after_wt_gain_male),</span>
<span id="cb31-407"><a href="#cb31-407" aria-hidden="true" tabindex="-1"></a>                                                 training_days_after_wt_gain_male)</span>
<span id="cb31-408"><a href="#cb31-408" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-409"><a href="#cb31-409" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_after_wt_gain_male <span class="ot">&lt;-</span> ((daily_kcal_tar_nor_healthy_male<span class="sc">*</span></span>
<span id="cb31-410"><a href="#cb31-410" aria-hidden="true" tabindex="-1"></a>                                            nor_training_days_after_wt_gain_male) <span class="sc">+</span></span>
<span id="cb31-411"><a href="#cb31-411" aria-hidden="true" tabindex="-1"></a>                                           (daily_kcal_tar_int_healthy_male<span class="sc">*</span></span>
<span id="cb31-412"><a href="#cb31-412" aria-hidden="true" tabindex="-1"></a>                                              int_training_days_after_wt_gain_male))</span>
<span id="cb31-413"><a href="#cb31-413" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-414"><a href="#cb31-414" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total first year calorie needs for all underweight male athletes during and after weight gain</span></span>
<span id="cb31-415"><a href="#cb31-415" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-416"><a href="#cb31-416" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_wt_gain_male <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_kcal_wt_gain_male <span class="sc">+</span> </span>
<span id="cb31-417"><a href="#cb31-417" aria-hidden="true" tabindex="-1"></a>                                             first_year_kcal_after_wt_gain_male)<span class="sc">*</span></span>
<span id="cb31-418"><a href="#cb31-418" aria-hidden="true" tabindex="-1"></a>                                            underweight_male,</span>
<span id="cb31-419"><a href="#cb31-419" aria-hidden="true" tabindex="-1"></a>                                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-420"><a href="#cb31-420" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-421"><a href="#cb31-421" aria-hidden="true" tabindex="-1"></a>  <span class="do">#########################################################</span></span>
<span id="cb31-422"><a href="#cb31-422" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-423"><a href="#cb31-423" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Total first-year calorie needs for female athletes below healthy BMI range</span></span>
<span id="cb31-424"><a href="#cb31-424" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-425"><a href="#cb31-425" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change weight gain weeks for female athletes into days</span></span>
<span id="cb31-426"><a href="#cb31-426" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-427"><a href="#cb31-427" aria-hidden="true" tabindex="-1"></a>  wt_gain_week_female_in_days <span class="ot">&lt;-</span> wt_gain_week_female <span class="sc">*</span> <span class="dv">7</span></span>
<span id="cb31-428"><a href="#cb31-428" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-429"><a href="#cb31-429" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intensive training period (training before games) comes after normal period</span></span>
<span id="cb31-430"><a href="#cb31-430" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total days where underweight athletes will do normal or intensive training during weight gain period</span></span>
<span id="cb31-431"><a href="#cb31-431" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-432"><a href="#cb31-432" aria-hidden="true" tabindex="-1"></a>  wt_gain_int_training_days_female <span class="ot">&lt;-</span> <span class="fu">abs</span>(wt_gain_week_female_in_days <span class="sc">-</span> normal_training)</span>
<span id="cb31-433"><a href="#cb31-433" aria-hidden="true" tabindex="-1"></a>  wt_gain_nor_training_days_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(normal_training <span class="sc">&gt;=</span> wt_gain_week_female_in_days,</span>
<span id="cb31-434"><a href="#cb31-434" aria-hidden="true" tabindex="-1"></a>                                             wt_gain_week_female_in_days, </span>
<span id="cb31-435"><a href="#cb31-435" aria-hidden="true" tabindex="-1"></a>                                             (wt_gain_week_female_in_days <span class="sc">-</span> </span>
<span id="cb31-436"><a href="#cb31-436" aria-hidden="true" tabindex="-1"></a>                                                wt_gain_int_training_days_female))</span>
<span id="cb31-437"><a href="#cb31-437" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-438"><a href="#cb31-438" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-439"><a href="#cb31-439" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base calorie needs for an underweight female athlete during weight gain period</span></span>
<span id="cb31-440"><a href="#cb31-440" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-441"><a href="#cb31-441" aria-hidden="true" tabindex="-1"></a>  base_kcal_need_during_wt_gain_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_gain_week_female_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-442"><a href="#cb31-442" aria-hidden="true" tabindex="-1"></a>                                                 (daily_kcal_tar_nor_female<span class="sc">*</span>wt_gain_week_female_in_days),</span>
<span id="cb31-443"><a href="#cb31-443" aria-hidden="true" tabindex="-1"></a>                                                 ((daily_kcal_tar_nor_female<span class="sc">*</span>wt_gain_nor_training_days_female)<span class="sc">+</span></span>
<span id="cb31-444"><a href="#cb31-444" aria-hidden="true" tabindex="-1"></a>                                                    daily_kcal_tar_int_female<span class="sc">*</span>wt_gain_int_training_days_female))</span>
<span id="cb31-445"><a href="#cb31-445" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-446"><a href="#cb31-446" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an underweight male athlete during weight gain period</span></span>
<span id="cb31-447"><a href="#cb31-447" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-448"><a href="#cb31-448" aria-hidden="true" tabindex="-1"></a>  total_kcal_wt_gain_female <span class="ot">&lt;-</span> base_kcal_need_during_wt_gain_female <span class="sc">+</span> extra_kcal_female</span>
<span id="cb31-449"><a href="#cb31-449" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-450"><a href="#cb31-450" aria-hidden="true" tabindex="-1"></a>  <span class="do">####################</span></span>
<span id="cb31-451"><a href="#cb31-451" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-452"><a href="#cb31-452" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an underweight female (now normal weight) after weight gain period</span></span>
<span id="cb31-453"><a href="#cb31-453" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-454"><a href="#cb31-454" aria-hidden="true" tabindex="-1"></a>  total_training_days <span class="ot">&lt;-</span> normal_training <span class="sc">+</span> intensive_training</span>
<span id="cb31-455"><a href="#cb31-455" aria-hidden="true" tabindex="-1"></a>  training_days_after_wt_gain_female <span class="ot">&lt;-</span> total_training_days <span class="sc">-</span> wt_gain_week_female_in_days</span>
<span id="cb31-456"><a href="#cb31-456" aria-hidden="true" tabindex="-1"></a>  nor_training_days_after_wt_gain_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_gain_female <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-457"><a href="#cb31-457" aria-hidden="true" tabindex="-1"></a>                                                   (training_days_after_wt_gain_female <span class="sc">-</span> </span>
<span id="cb31-458"><a href="#cb31-458" aria-hidden="true" tabindex="-1"></a>                                                      intensive_training), <span class="dv">0</span>)</span>
<span id="cb31-459"><a href="#cb31-459" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-460"><a href="#cb31-460" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-461"><a href="#cb31-461" aria-hidden="true" tabindex="-1"></a>  int_training_days_after_wt_gain_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_gain_female <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-462"><a href="#cb31-462" aria-hidden="true" tabindex="-1"></a>                                                   (training_days_after_wt_gain_female <span class="sc">-</span></span>
<span id="cb31-463"><a href="#cb31-463" aria-hidden="true" tabindex="-1"></a>                                                      nor_training_days_after_wt_gain_female),</span>
<span id="cb31-464"><a href="#cb31-464" aria-hidden="true" tabindex="-1"></a>                                                   training_days_after_wt_gain_female)</span>
<span id="cb31-465"><a href="#cb31-465" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-466"><a href="#cb31-466" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_after_wt_gain_female <span class="ot">&lt;-</span> ((daily_kcal_tar_nor_healthy_female<span class="sc">*</span></span>
<span id="cb31-467"><a href="#cb31-467" aria-hidden="true" tabindex="-1"></a>                                              nor_training_days_after_wt_gain_female) <span class="sc">+</span></span>
<span id="cb31-468"><a href="#cb31-468" aria-hidden="true" tabindex="-1"></a>                                             (daily_kcal_tar_int_healthy_female<span class="sc">*</span></span>
<span id="cb31-469"><a href="#cb31-469" aria-hidden="true" tabindex="-1"></a>                                                int_training_days_after_wt_gain_female))</span>
<span id="cb31-470"><a href="#cb31-470" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-471"><a href="#cb31-471" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-472"><a href="#cb31-472" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total first year calorie needs for all underweight female athletes during and after weight gain</span></span>
<span id="cb31-473"><a href="#cb31-473" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-474"><a href="#cb31-474" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_wt_gain_female <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_kcal_wt_gain_female <span class="sc">+</span> </span>
<span id="cb31-475"><a href="#cb31-475" aria-hidden="true" tabindex="-1"></a>                                               first_year_kcal_after_wt_gain_female)<span class="sc">*</span></span>
<span id="cb31-476"><a href="#cb31-476" aria-hidden="true" tabindex="-1"></a>                                              underweight_female,</span>
<span id="cb31-477"><a href="#cb31-477" aria-hidden="true" tabindex="-1"></a>                                             var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-478"><a href="#cb31-478" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-479"><a href="#cb31-479" aria-hidden="true" tabindex="-1"></a>  <span class="do">########################################################</span></span>
<span id="cb31-480"><a href="#cb31-480" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-481"><a href="#cb31-481" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Total calorie needs for male athletes above body fat % threshold for the first year</span></span>
<span id="cb31-482"><a href="#cb31-482" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is calculated assuming their training regimen remains unchanged- any additional</span></span>
<span id="cb31-483"><a href="#cb31-483" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workout done by the athletes to reduce weight should be reported and considered</span></span>
<span id="cb31-484"><a href="#cb31-484" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-485"><a href="#cb31-485" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change weight loss weeks for male athletes into days</span></span>
<span id="cb31-486"><a href="#cb31-486" aria-hidden="true" tabindex="-1"></a>  wt_loss_week_male_in_days <span class="ot">&lt;-</span> wt_loss_week_male <span class="sc">*</span> <span class="dv">7</span></span>
<span id="cb31-487"><a href="#cb31-487" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-488"><a href="#cb31-488" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total days where overweight athletes will do normal or intensive training during weight loss period</span></span>
<span id="cb31-489"><a href="#cb31-489" aria-hidden="true" tabindex="-1"></a>  wt_loss_int_training_days_male <span class="ot">&lt;-</span> <span class="fu">abs</span>(wt_loss_week_male_in_days <span class="sc">-</span> normal_training)</span>
<span id="cb31-490"><a href="#cb31-490" aria-hidden="true" tabindex="-1"></a>  wt_loss_nor_training_days_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_loss_week_male_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-491"><a href="#cb31-491" aria-hidden="true" tabindex="-1"></a>                                           wt_loss_week_male_in_days,</span>
<span id="cb31-492"><a href="#cb31-492" aria-hidden="true" tabindex="-1"></a>                                           (wt_loss_week_male_in_days <span class="sc">-</span> </span>
<span id="cb31-493"><a href="#cb31-493" aria-hidden="true" tabindex="-1"></a>                                              wt_loss_int_training_days_male))</span>
<span id="cb31-494"><a href="#cb31-494" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-495"><a href="#cb31-495" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base calorie needs for an overweight male athlete during weight loss period</span></span>
<span id="cb31-496"><a href="#cb31-496" aria-hidden="true" tabindex="-1"></a>  base_kcal_need_during_wt_loss_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_loss_week_male_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-497"><a href="#cb31-497" aria-hidden="true" tabindex="-1"></a>                                               (daily_kcal_tar_nor_male <span class="sc">*</span></span>
<span id="cb31-498"><a href="#cb31-498" aria-hidden="true" tabindex="-1"></a>                                                  wt_loss_week_male_in_days),</span>
<span id="cb31-499"><a href="#cb31-499" aria-hidden="true" tabindex="-1"></a>                                               ((daily_kcal_tar_nor_male<span class="sc">*</span></span>
<span id="cb31-500"><a href="#cb31-500" aria-hidden="true" tabindex="-1"></a>                                                   wt_loss_nor_training_days_male) <span class="sc">+</span></span>
<span id="cb31-501"><a href="#cb31-501" aria-hidden="true" tabindex="-1"></a>                                                  (daily_kcal_tar_int_male <span class="sc">*</span></span>
<span id="cb31-502"><a href="#cb31-502" aria-hidden="true" tabindex="-1"></a>                                                     wt_loss_int_training_days_male)))</span>
<span id="cb31-503"><a href="#cb31-503" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-504"><a href="#cb31-504" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an overweight male athlete during weight loss period</span></span>
<span id="cb31-505"><a href="#cb31-505" aria-hidden="true" tabindex="-1"></a>  total_kcal_wt_loss_male <span class="ot">&lt;-</span> base_kcal_need_during_wt_loss_male <span class="sc">-</span> kcal_deduct_male</span>
<span id="cb31-506"><a href="#cb31-506" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-507"><a href="#cb31-507" aria-hidden="true" tabindex="-1"></a>  <span class="do">####################</span></span>
<span id="cb31-508"><a href="#cb31-508" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-509"><a href="#cb31-509" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an overweight male (now normal weight) after weight loss period</span></span>
<span id="cb31-510"><a href="#cb31-510" aria-hidden="true" tabindex="-1"></a>  total_training_days <span class="ot">&lt;-</span> normal_training <span class="sc">+</span> intensive_training</span>
<span id="cb31-511"><a href="#cb31-511" aria-hidden="true" tabindex="-1"></a>  training_days_after_wt_loss_male <span class="ot">&lt;-</span> total_training_days <span class="sc">-</span> wt_loss_week_male_in_days</span>
<span id="cb31-512"><a href="#cb31-512" aria-hidden="true" tabindex="-1"></a>  nor_training_days_after_wt_loss_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_loss_male <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-513"><a href="#cb31-513" aria-hidden="true" tabindex="-1"></a>                                                 (training_days_after_wt_loss_male <span class="sc">-</span></span>
<span id="cb31-514"><a href="#cb31-514" aria-hidden="true" tabindex="-1"></a>                                                    intensive_training), <span class="dv">0</span>)</span>
<span id="cb31-515"><a href="#cb31-515" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-516"><a href="#cb31-516" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-517"><a href="#cb31-517" aria-hidden="true" tabindex="-1"></a>  int_training_days_after_wt_loss_male <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_loss_male <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-518"><a href="#cb31-518" aria-hidden="true" tabindex="-1"></a>                                                 (training_days_after_wt_loss_male <span class="sc">-</span></span>
<span id="cb31-519"><a href="#cb31-519" aria-hidden="true" tabindex="-1"></a>                                                    nor_training_days_after_wt_loss_male),</span>
<span id="cb31-520"><a href="#cb31-520" aria-hidden="true" tabindex="-1"></a>                                                 training_days_after_wt_loss_male)</span>
<span id="cb31-521"><a href="#cb31-521" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-522"><a href="#cb31-522" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_after_wt_loss_male <span class="ot">&lt;-</span> ((daily_kcal_tar_nor_healthy_male<span class="sc">*</span></span>
<span id="cb31-523"><a href="#cb31-523" aria-hidden="true" tabindex="-1"></a>                                            nor_training_days_after_wt_loss_male) <span class="sc">+</span></span>
<span id="cb31-524"><a href="#cb31-524" aria-hidden="true" tabindex="-1"></a>                                           (daily_kcal_tar_int_healthy_male<span class="sc">*</span></span>
<span id="cb31-525"><a href="#cb31-525" aria-hidden="true" tabindex="-1"></a>                                              int_training_days_after_wt_loss_male))</span>
<span id="cb31-526"><a href="#cb31-526" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-527"><a href="#cb31-527" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total first year calorie needs for all overweight male athletes during and after weight loss</span></span>
<span id="cb31-528"><a href="#cb31-528" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-529"><a href="#cb31-529" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_wt_loss_male <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_kcal_wt_loss_male <span class="sc">+</span> </span>
<span id="cb31-530"><a href="#cb31-530" aria-hidden="true" tabindex="-1"></a>                                             first_year_kcal_after_wt_loss_male)<span class="sc">*</span></span>
<span id="cb31-531"><a href="#cb31-531" aria-hidden="true" tabindex="-1"></a>                                            number_overweight_male,</span>
<span id="cb31-532"><a href="#cb31-532" aria-hidden="true" tabindex="-1"></a>                                           var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-533"><a href="#cb31-533" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-534"><a href="#cb31-534" aria-hidden="true" tabindex="-1"></a>  <span class="do">############################################</span></span>
<span id="cb31-535"><a href="#cb31-535" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-536"><a href="#cb31-536" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Total calorie needs for female athletes above body fat % threshold for the first year</span></span>
<span id="cb31-537"><a href="#cb31-537" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is calculated assuming their training regimen remains unchanged- any additional</span></span>
<span id="cb31-538"><a href="#cb31-538" aria-hidden="true" tabindex="-1"></a>  <span class="co"># workout done by the athletes to reduce weight should be reported and considered</span></span>
<span id="cb31-539"><a href="#cb31-539" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-540"><a href="#cb31-540" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change weight loss weeks for female athletes into days</span></span>
<span id="cb31-541"><a href="#cb31-541" aria-hidden="true" tabindex="-1"></a>  wt_loss_week_female_in_days <span class="ot">&lt;-</span> wt_loss_week_female <span class="sc">*</span> <span class="dv">7</span></span>
<span id="cb31-542"><a href="#cb31-542" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-543"><a href="#cb31-543" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total days where overweight athletes will do normal or intensive training during weight loss period</span></span>
<span id="cb31-544"><a href="#cb31-544" aria-hidden="true" tabindex="-1"></a>  wt_loss_int_training_days_female <span class="ot">&lt;-</span> <span class="fu">abs</span>(wt_loss_week_female_in_days <span class="sc">-</span> normal_training)</span>
<span id="cb31-545"><a href="#cb31-545" aria-hidden="true" tabindex="-1"></a>  wt_loss_nor_training_days_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_loss_week_female_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-546"><a href="#cb31-546" aria-hidden="true" tabindex="-1"></a>                                             wt_loss_week_female_in_days,</span>
<span id="cb31-547"><a href="#cb31-547" aria-hidden="true" tabindex="-1"></a>                                             (wt_loss_week_female_in_days <span class="sc">-</span> </span>
<span id="cb31-548"><a href="#cb31-548" aria-hidden="true" tabindex="-1"></a>                                                wt_loss_int_training_days_female))</span>
<span id="cb31-549"><a href="#cb31-549" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-550"><a href="#cb31-550" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base calorie needs for an overweight female athlete during weight loss period</span></span>
<span id="cb31-551"><a href="#cb31-551" aria-hidden="true" tabindex="-1"></a>  base_kcal_need_during_wt_loss_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wt_loss_week_female_in_days <span class="sc">&lt;=</span> normal_training,</span>
<span id="cb31-552"><a href="#cb31-552" aria-hidden="true" tabindex="-1"></a>                                                 (daily_kcal_tar_nor_female <span class="sc">*</span></span>
<span id="cb31-553"><a href="#cb31-553" aria-hidden="true" tabindex="-1"></a>                                                    wt_loss_week_female_in_days),</span>
<span id="cb31-554"><a href="#cb31-554" aria-hidden="true" tabindex="-1"></a>                                                 ((daily_kcal_tar_nor_female<span class="sc">*</span></span>
<span id="cb31-555"><a href="#cb31-555" aria-hidden="true" tabindex="-1"></a>                                                     wt_loss_nor_training_days_female) <span class="sc">+</span></span>
<span id="cb31-556"><a href="#cb31-556" aria-hidden="true" tabindex="-1"></a>                                                    (daily_kcal_tar_int_female <span class="sc">*</span></span>
<span id="cb31-557"><a href="#cb31-557" aria-hidden="true" tabindex="-1"></a>                                                       wt_loss_int_training_days_female)))</span>
<span id="cb31-558"><a href="#cb31-558" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-559"><a href="#cb31-559" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an overweight female athlete during weight loss period</span></span>
<span id="cb31-560"><a href="#cb31-560" aria-hidden="true" tabindex="-1"></a>  total_kcal_wt_loss_female <span class="ot">&lt;-</span> base_kcal_need_during_wt_loss_female <span class="sc">-</span> kcal_deduct_female</span>
<span id="cb31-561"><a href="#cb31-561" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-562"><a href="#cb31-562" aria-hidden="true" tabindex="-1"></a>  <span class="do">####################</span></span>
<span id="cb31-563"><a href="#cb31-563" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-564"><a href="#cb31-564" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total calorie needs for an overweight female (now normal weight) after weight loss period</span></span>
<span id="cb31-565"><a href="#cb31-565" aria-hidden="true" tabindex="-1"></a>  total_training_days <span class="ot">&lt;-</span> normal_training <span class="sc">+</span> intensive_training</span>
<span id="cb31-566"><a href="#cb31-566" aria-hidden="true" tabindex="-1"></a>  training_days_after_wt_loss_female <span class="ot">&lt;-</span> total_training_days <span class="sc">-</span> wt_loss_week_female_in_days</span>
<span id="cb31-567"><a href="#cb31-567" aria-hidden="true" tabindex="-1"></a>  nor_training_days_after_wt_loss_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_loss_female <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-568"><a href="#cb31-568" aria-hidden="true" tabindex="-1"></a>                                                   (training_days_after_wt_loss_female <span class="sc">-</span></span>
<span id="cb31-569"><a href="#cb31-569" aria-hidden="true" tabindex="-1"></a>                                                      intensive_training), <span class="dv">0</span>)</span>
<span id="cb31-570"><a href="#cb31-570" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-571"><a href="#cb31-571" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-572"><a href="#cb31-572" aria-hidden="true" tabindex="-1"></a>  int_training_days_after_wt_loss_female <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(training_days_after_wt_loss_female <span class="sc">&gt;</span> intensive_training,</span>
<span id="cb31-573"><a href="#cb31-573" aria-hidden="true" tabindex="-1"></a>                                                   (training_days_after_wt_loss_female <span class="sc">-</span></span>
<span id="cb31-574"><a href="#cb31-574" aria-hidden="true" tabindex="-1"></a>                                                      nor_training_days_after_wt_loss_female),</span>
<span id="cb31-575"><a href="#cb31-575" aria-hidden="true" tabindex="-1"></a>                                                   training_days_after_wt_loss_female)</span>
<span id="cb31-576"><a href="#cb31-576" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-577"><a href="#cb31-577" aria-hidden="true" tabindex="-1"></a>  first_year_kcal_after_wt_loss_female <span class="ot">&lt;-</span> ((daily_kcal_tar_nor_healthy_female<span class="sc">*</span></span>
<span id="cb31-578"><a href="#cb31-578" aria-hidden="true" tabindex="-1"></a>                                              nor_training_days_after_wt_loss_female) <span class="sc">+</span></span>
<span id="cb31-579"><a href="#cb31-579" aria-hidden="true" tabindex="-1"></a>                                             (daily_kcal_tar_int_healthy_female<span class="sc">*</span></span>
<span id="cb31-580"><a href="#cb31-580" aria-hidden="true" tabindex="-1"></a>                                                int_training_days_after_wt_loss_female))</span>
<span id="cb31-581"><a href="#cb31-581" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-582"><a href="#cb31-582" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total first year calorie needs for all overweight female athletes during and after weight loss</span></span>
<span id="cb31-583"><a href="#cb31-583" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-584"><a href="#cb31-584" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_wt_loss_female <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_kcal_wt_loss_female <span class="sc">+</span> </span>
<span id="cb31-585"><a href="#cb31-585" aria-hidden="true" tabindex="-1"></a>                                               first_year_kcal_after_wt_loss_female)<span class="sc">*</span></span>
<span id="cb31-586"><a href="#cb31-586" aria-hidden="true" tabindex="-1"></a>                                              number_overweight_female,</span>
<span id="cb31-587"><a href="#cb31-587" aria-hidden="true" tabindex="-1"></a>                                             var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-588"><a href="#cb31-588" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-589"><a href="#cb31-589" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-590"><a href="#cb31-590" aria-hidden="true" tabindex="-1"></a>  <span class="do">##############################################</span></span>
<span id="cb31-591"><a href="#cb31-591" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-592"><a href="#cb31-592" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total yearly calorie needs for male athletes for first year</span></span>
<span id="cb31-593"><a href="#cb31-593" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-594"><a href="#cb31-594" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_need_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_first_year_kcal_healthy_male <span class="sc">+</span> </span>
<span id="cb31-595"><a href="#cb31-595" aria-hidden="true" tabindex="-1"></a>                                         total_first_year_kcal_wt_gain_male <span class="sc">+</span> </span>
<span id="cb31-596"><a href="#cb31-596" aria-hidden="true" tabindex="-1"></a>                                         total_first_year_kcal_wt_loss_male,</span>
<span id="cb31-597"><a href="#cb31-597" aria-hidden="true" tabindex="-1"></a>                                        var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-598"><a href="#cb31-598" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-599"><a href="#cb31-599" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total yearly calorie needs for female athletes for first year</span></span>
<span id="cb31-600"><a href="#cb31-600" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-601"><a href="#cb31-601" aria-hidden="true" tabindex="-1"></a>  total_first_year_kcal_need_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_first_year_kcal_healthy_female <span class="sc">+</span>  </span>
<span id="cb31-602"><a href="#cb31-602" aria-hidden="true" tabindex="-1"></a>                                           total_first_year_kcal_wt_gain_female <span class="sc">+</span> </span>
<span id="cb31-603"><a href="#cb31-603" aria-hidden="true" tabindex="-1"></a>                                           total_first_year_kcal_wt_loss_female,</span>
<span id="cb31-604"><a href="#cb31-604" aria-hidden="true" tabindex="-1"></a>                                          var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-605"><a href="#cb31-605" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-606"><a href="#cb31-606" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-607"><a href="#cb31-607" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate overall yearly calorie needs for first year</span></span>
<span id="cb31-608"><a href="#cb31-608" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-609"><a href="#cb31-609" aria-hidden="true" tabindex="-1"></a>  overall_first_year_kcal_need <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_first_year_kcal_need_male <span class="sc">+</span></span>
<span id="cb31-610"><a href="#cb31-610" aria-hidden="true" tabindex="-1"></a>                                      total_first_year_kcal_need_female,</span>
<span id="cb31-611"><a href="#cb31-611" aria-hidden="true" tabindex="-1"></a>                                     var_CV, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb31-612"><a href="#cb31-612" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-613"><a href="#cb31-613" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-614"><a href="#cb31-614" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-615"><a href="#cb31-615" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-616"><a href="#cb31-616" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-617"><a href="#cb31-617" aria-hidden="true" tabindex="-1"></a>  <span class="do">## For following years (except first year)</span></span>
<span id="cb31-618"><a href="#cb31-618" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-619"><a href="#cb31-619" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I calculate again for following years because the assumption is after first year</span></span>
<span id="cb31-620"><a href="#cb31-620" aria-hidden="true" tabindex="-1"></a>  <span class="co"># all athletes will be within normal weight range- so not the same weight as in </span></span>
<span id="cb31-621"><a href="#cb31-621" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the input table</span></span>
<span id="cb31-622"><a href="#cb31-622" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-623"><a href="#cb31-623" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-624"><a href="#cb31-624" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total yearly calorie needs for male athlete (now all within healthy weight range)</span></span>
<span id="cb31-625"><a href="#cb31-625" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-626"><a href="#cb31-626" aria-hidden="true" tabindex="-1"></a>  bmr_healthy_male_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>target_wt_male) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_male) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_male) <span class="sc">+</span> <span class="dv">5</span>),</span>
<span id="cb31-627"><a href="#cb31-627" aria-hidden="true" tabindex="-1"></a>                                  var_CV, n_year)</span>
<span id="cb31-628"><a href="#cb31-628" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-629"><a href="#cb31-629" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_healthy_male_yearly <span class="ot">&lt;-</span><span class="fu">vv</span>(bmr_healthy_male_yearly <span class="sc">*</span> paf_normal,</span>
<span id="cb31-630"><a href="#cb31-630" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-631"><a href="#cb31-631" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-632"><a href="#cb31-632" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-633"><a href="#cb31-633" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_healthy_male_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_healthy_male_yearly <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-634"><a href="#cb31-634" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-635"><a href="#cb31-635" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-636"><a href="#cb31-636" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_male_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(((daily_kcal_tar_nor_healthy_male_yearly <span class="sc">*</span></span>
<span id="cb31-637"><a href="#cb31-637" aria-hidden="true" tabindex="-1"></a>                                       normal_training) <span class="sc">+</span></span>
<span id="cb31-638"><a href="#cb31-638" aria-hidden="true" tabindex="-1"></a>                                      (daily_kcal_tar_int_healthy_male_yearly <span class="sc">*</span></span>
<span id="cb31-639"><a href="#cb31-639" aria-hidden="true" tabindex="-1"></a>                                         intensive_training))<span class="sc">*</span>number_male,</span>
<span id="cb31-640"><a href="#cb31-640" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-641"><a href="#cb31-641" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-642"><a href="#cb31-642" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_male_yearly[<span class="dv">1</span>] <span class="ot">&lt;-</span> total_first_year_kcal_need_male</span>
<span id="cb31-643"><a href="#cb31-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-644"><a href="#cb31-644" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-645"><a href="#cb31-645" aria-hidden="true" tabindex="-1"></a>  <span class="do">##############</span></span>
<span id="cb31-646"><a href="#cb31-646" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-647"><a href="#cb31-647" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total yearly calorie needs for female athlete (now all within healthy weight range)</span></span>
<span id="cb31-648"><a href="#cb31-648" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-649"><a href="#cb31-649" aria-hidden="true" tabindex="-1"></a>  bmr_healthy_female_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(((<span class="dv">10</span><span class="sc">*</span>target_wt_female) <span class="sc">+</span> (<span class="fl">6.25</span><span class="sc">*</span>height_female) <span class="sc">-</span> (<span class="dv">5</span><span class="sc">*</span>age_female) <span class="sc">-</span> <span class="dv">161</span>),</span>
<span id="cb31-650"><a href="#cb31-650" aria-hidden="true" tabindex="-1"></a>                                var_CV, n_year)</span>
<span id="cb31-651"><a href="#cb31-651" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-652"><a href="#cb31-652" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-653"><a href="#cb31-653" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_nor_healthy_female_yearly <span class="ot">&lt;-</span><span class="fu">vv</span>(bmr_healthy_female_yearly <span class="sc">*</span> paf_normal,</span>
<span id="cb31-654"><a href="#cb31-654" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-655"><a href="#cb31-655" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-656"><a href="#cb31-656" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-657"><a href="#cb31-657" aria-hidden="true" tabindex="-1"></a>  daily_kcal_tar_int_healthy_female_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(bmr_healthy_female_yearly <span class="sc">*</span> paf_intensive,</span>
<span id="cb31-658"><a href="#cb31-658" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-659"><a href="#cb31-659" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-660"><a href="#cb31-660" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_female_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(((daily_kcal_tar_nor_healthy_female_yearly <span class="sc">*</span></span>
<span id="cb31-661"><a href="#cb31-661" aria-hidden="true" tabindex="-1"></a>                                        normal_training) <span class="sc">+</span></span>
<span id="cb31-662"><a href="#cb31-662" aria-hidden="true" tabindex="-1"></a>                                       (daily_kcal_tar_int_healthy_female_yearly <span class="sc">*</span></span>
<span id="cb31-663"><a href="#cb31-663" aria-hidden="true" tabindex="-1"></a>                                          intensive_training))<span class="sc">*</span>number_female,</span>
<span id="cb31-664"><a href="#cb31-664" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-665"><a href="#cb31-665" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-666"><a href="#cb31-666" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_female_yearly[<span class="dv">1</span>] <span class="ot">&lt;-</span> total_first_year_kcal_need_female</span>
<span id="cb31-667"><a href="#cb31-667" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-668"><a href="#cb31-668" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-669"><a href="#cb31-669" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################</span></span>
<span id="cb31-670"><a href="#cb31-670" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-671"><a href="#cb31-671" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate extra calorie provided during intervention (to calculate cost) </span></span>
<span id="cb31-672"><a href="#cb31-672" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-673"><a href="#cb31-673" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate current yearly calorie intake for male athletes</span></span>
<span id="cb31-674"><a href="#cb31-674" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-675"><a href="#cb31-675" aria-hidden="true" tabindex="-1"></a>  current_kcal_intake_yearly_male <span class="ot">&lt;-</span> <span class="fu">vv</span>((daily_kcal_male <span class="sc">*</span> total_training_days)<span class="sc">*</span></span>
<span id="cb31-676"><a href="#cb31-676" aria-hidden="true" tabindex="-1"></a>                                          number_male,</span>
<span id="cb31-677"><a href="#cb31-677" aria-hidden="true" tabindex="-1"></a>                                        var_CV, n_year)</span>
<span id="cb31-678"><a href="#cb31-678" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-679"><a href="#cb31-679" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate extra yearly calorie need for male athletes </span></span>
<span id="cb31-680"><a href="#cb31-680" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-681"><a href="#cb31-681" aria-hidden="true" tabindex="-1"></a>  extra_yearly_kcal_need_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_male_yearly <span class="sc">-</span></span>
<span id="cb31-682"><a href="#cb31-682" aria-hidden="true" tabindex="-1"></a>                                      current_kcal_intake_yearly_male,</span>
<span id="cb31-683"><a href="#cb31-683" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-684"><a href="#cb31-684" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-685"><a href="#cb31-685" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate current yearly calorie intake for female athletes</span></span>
<span id="cb31-686"><a href="#cb31-686" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-687"><a href="#cb31-687" aria-hidden="true" tabindex="-1"></a>  current_kcal_intake_yearly_female <span class="ot">&lt;-</span> <span class="fu">vv</span>((daily_kcal_female <span class="sc">*</span> total_training_days)<span class="sc">*</span></span>
<span id="cb31-688"><a href="#cb31-688" aria-hidden="true" tabindex="-1"></a>                                            number_female,</span>
<span id="cb31-689"><a href="#cb31-689" aria-hidden="true" tabindex="-1"></a>                                          var_CV, n_year)</span>
<span id="cb31-690"><a href="#cb31-690" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-691"><a href="#cb31-691" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate extra yearly calorie need for female athletes </span></span>
<span id="cb31-692"><a href="#cb31-692" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-693"><a href="#cb31-693" aria-hidden="true" tabindex="-1"></a>  extra_yearly_kcal_need_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_female_yearly <span class="sc">-</span></span>
<span id="cb31-694"><a href="#cb31-694" aria-hidden="true" tabindex="-1"></a>                                        current_kcal_intake_yearly_female,</span>
<span id="cb31-695"><a href="#cb31-695" aria-hidden="true" tabindex="-1"></a>                                      var_CV, n_year)</span>
<span id="cb31-696"><a href="#cb31-696" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-697"><a href="#cb31-697" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate overall yearly extra calorie need</span></span>
<span id="cb31-698"><a href="#cb31-698" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-699"><a href="#cb31-699" aria-hidden="true" tabindex="-1"></a>  overall_yearly_extra_kcal_need <span class="ot">&lt;-</span> <span class="fu">vv</span>(extra_yearly_kcal_need_male <span class="sc">+</span></span>
<span id="cb31-700"><a href="#cb31-700" aria-hidden="true" tabindex="-1"></a>                                         extra_yearly_kcal_need_female,</span>
<span id="cb31-701"><a href="#cb31-701" aria-hidden="true" tabindex="-1"></a>                                       var_CV, n_year)</span>
<span id="cb31-702"><a href="#cb31-702" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-703"><a href="#cb31-703" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-704"><a href="#cb31-704" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-705"><a href="#cb31-705" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-706"><a href="#cb31-706" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The calorie simulation results show the athletes' kcal intake is not a problem.</span></span>
<span id="cb31-707"><a href="#cb31-707" aria-hidden="true" tabindex="-1"></a>  <span class="co"># So, I will check if the problem lies in quality of the calorie- the distribution of macronutrient </span></span>
<span id="cb31-708"><a href="#cb31-708" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I will calculate current macronutrient intake in model 2 coz need to calculate it from food type and portion</span></span>
<span id="cb31-709"><a href="#cb31-709" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I calculate macronutrient targets based on calorie target (kcal need)</span></span>
<span id="cb31-710"><a href="#cb31-710" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-711"><a href="#cb31-711" aria-hidden="true" tabindex="-1"></a>  <span class="do">#### Protein need </span></span>
<span id="cb31-712"><a href="#cb31-712" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-713"><a href="#cb31-713" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate protein need for  male athletes</span></span>
<span id="cb31-714"><a href="#cb31-714" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-715"><a href="#cb31-715" aria-hidden="true" tabindex="-1"></a>  protein_need_kcal_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(protein_need_percent <span class="sc">*</span> total_kcal_need_male_yearly,</span>
<span id="cb31-716"><a href="#cb31-716" aria-hidden="true" tabindex="-1"></a>                               var_CV, n_year)</span>
<span id="cb31-717"><a href="#cb31-717" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-718"><a href="#cb31-718" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-719"><a href="#cb31-719" aria-hidden="true" tabindex="-1"></a>  protein_need_gram_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(protein_need_kcal_male<span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb31-720"><a href="#cb31-720" aria-hidden="true" tabindex="-1"></a>                          var_CV, n_year)</span>
<span id="cb31-721"><a href="#cb31-721" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-722"><a href="#cb31-722" aria-hidden="true" tabindex="-1"></a><span class="do">#########################</span></span>
<span id="cb31-723"><a href="#cb31-723" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-724"><a href="#cb31-724" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate protein need for  female athletes</span></span>
<span id="cb31-725"><a href="#cb31-725" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-726"><a href="#cb31-726" aria-hidden="true" tabindex="-1"></a>  protein_need_kcal_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(protein_need_percent <span class="sc">*</span> total_kcal_need_female_yearly,</span>
<span id="cb31-727"><a href="#cb31-727" aria-hidden="true" tabindex="-1"></a>                                 var_CV, n_year)</span>
<span id="cb31-728"><a href="#cb31-728" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-729"><a href="#cb31-729" aria-hidden="true" tabindex="-1"></a>  protein_need_gram_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(protein_need_kcal_female<span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb31-730"><a href="#cb31-730" aria-hidden="true" tabindex="-1"></a>                                 var_CV, n_year)</span>
<span id="cb31-731"><a href="#cb31-731" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-732"><a href="#cb31-732" aria-hidden="true" tabindex="-1"></a>  total_protein_need_gram <span class="ot">&lt;-</span> protein_need_gram_female <span class="sc">+</span> protein_need_gram_male</span>
<span id="cb31-733"><a href="#cb31-733" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-734"><a href="#cb31-734" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-735"><a href="#cb31-735" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-736"><a href="#cb31-736" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Carbohydrate</span></span>
<span id="cb31-737"><a href="#cb31-737" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-738"><a href="#cb31-738" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate carbohydrate need for  male athletes</span></span>
<span id="cb31-739"><a href="#cb31-739" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-740"><a href="#cb31-740" aria-hidden="true" tabindex="-1"></a>  carb_need_kcal_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(carb_need_percent<span class="sc">*</span>total_kcal_need_male_yearly,</span>
<span id="cb31-741"><a href="#cb31-741" aria-hidden="true" tabindex="-1"></a>                            var_CV, n_year)</span>
<span id="cb31-742"><a href="#cb31-742" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-743"><a href="#cb31-743" aria-hidden="true" tabindex="-1"></a>  carb_need_gram_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(carb_need_kcal_male<span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb31-744"><a href="#cb31-744" aria-hidden="true" tabindex="-1"></a>                            var_CV, n_year)</span>
<span id="cb31-745"><a href="#cb31-745" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-746"><a href="#cb31-746" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-747"><a href="#cb31-747" aria-hidden="true" tabindex="-1"></a>  <span class="do">#########################</span></span>
<span id="cb31-748"><a href="#cb31-748" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-749"><a href="#cb31-749" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate carbohydrate need for  female athletes</span></span>
<span id="cb31-750"><a href="#cb31-750" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-751"><a href="#cb31-751" aria-hidden="true" tabindex="-1"></a>  carb_need_kcal_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(carb_need_percent<span class="sc">*</span>total_kcal_need_female_yearly,</span>
<span id="cb31-752"><a href="#cb31-752" aria-hidden="true" tabindex="-1"></a>                            var_CV, n_year)</span>
<span id="cb31-753"><a href="#cb31-753" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-754"><a href="#cb31-754" aria-hidden="true" tabindex="-1"></a>  carb_need_gram_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(carb_need_kcal_female<span class="sc">/</span><span class="dv">4</span>, var_CV, n_year)</span>
<span id="cb31-755"><a href="#cb31-755" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-756"><a href="#cb31-756" aria-hidden="true" tabindex="-1"></a>  total_carb_need_gram <span class="ot">&lt;-</span> carb_need_gram_male <span class="sc">+</span> carb_need_gram_female</span>
<span id="cb31-757"><a href="#cb31-757" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-758"><a href="#cb31-758" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-759"><a href="#cb31-759" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-760"><a href="#cb31-760" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Fat </span></span>
<span id="cb31-761"><a href="#cb31-761" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-762"><a href="#cb31-762" aria-hidden="true" tabindex="-1"></a>  fat_need_kcal_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_male_yearly <span class="sc">-</span> (protein_need_kcal_male <span class="sc">+</span></span>
<span id="cb31-763"><a href="#cb31-763" aria-hidden="true" tabindex="-1"></a>                                                            carb_need_kcal_male),</span>
<span id="cb31-764"><a href="#cb31-764" aria-hidden="true" tabindex="-1"></a>                           var_CV, n_year)</span>
<span id="cb31-765"><a href="#cb31-765" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-766"><a href="#cb31-766" aria-hidden="true" tabindex="-1"></a>  fat_need_gram_male <span class="ot">&lt;-</span> <span class="fu">vv</span>(fat_need_kcal_male<span class="sc">/</span><span class="dv">9</span>,</span>
<span id="cb31-767"><a href="#cb31-767" aria-hidden="true" tabindex="-1"></a>                           var_CV, n_year)</span>
<span id="cb31-768"><a href="#cb31-768" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-769"><a href="#cb31-769" aria-hidden="true" tabindex="-1"></a>  fat_need_kcal_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_female_yearly <span class="sc">-</span> (protein_need_kcal_female <span class="sc">+</span></span>
<span id="cb31-770"><a href="#cb31-770" aria-hidden="true" tabindex="-1"></a>                                                            carb_need_kcal_female),</span>
<span id="cb31-771"><a href="#cb31-771" aria-hidden="true" tabindex="-1"></a>                           var_CV, n_year)</span>
<span id="cb31-772"><a href="#cb31-772" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-773"><a href="#cb31-773" aria-hidden="true" tabindex="-1"></a>  fat_need_gram_female <span class="ot">&lt;-</span> <span class="fu">vv</span>(fat_need_kcal_female<span class="sc">/</span><span class="dv">9</span>,</span>
<span id="cb31-774"><a href="#cb31-774" aria-hidden="true" tabindex="-1"></a>                             var_CV, n_year)</span>
<span id="cb31-775"><a href="#cb31-775" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-776"><a href="#cb31-776" aria-hidden="true" tabindex="-1"></a>  total_fat_need_gram <span class="ot">&lt;-</span> fat_need_gram_male <span class="sc">+</span> fat_need_gram_female</span>
<span id="cb31-777"><a href="#cb31-777" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-778"><a href="#cb31-778" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check model using Fat </span></span>
<span id="cb31-779"><a href="#cb31-779" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-780"><a href="#cb31-780" aria-hidden="true" tabindex="-1"></a>  fat_model_check_one <span class="ot">&lt;-</span> fat_need_kcal_female <span class="sc">+</span> fat_need_kcal_male</span>
<span id="cb31-781"><a href="#cb31-781" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-782"><a href="#cb31-782" aria-hidden="true" tabindex="-1"></a>  fat_model_check_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(fat_tar_perc<span class="sc">*</span>(total_kcal_need_female_yearly<span class="sc">+</span></span>
<span id="cb31-783"><a href="#cb31-783" aria-hidden="true" tabindex="-1"></a>                                            total_kcal_need_male_yearly),</span>
<span id="cb31-784"><a href="#cb31-784" aria-hidden="true" tabindex="-1"></a>                            var_CV, n_year)</span>
<span id="cb31-785"><a href="#cb31-785" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-786"><a href="#cb31-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-787"><a href="#cb31-787" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fix the years</span></span>
<span id="cb31-788"><a href="#cb31-788" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_yearly_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_male_yearly <span class="sc">+</span></span>
<span id="cb31-789"><a href="#cb31-789" aria-hidden="true" tabindex="-1"></a>                                                total_kcal_need_female_yearly,</span>
<span id="cb31-790"><a href="#cb31-790" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-791"><a href="#cb31-791" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-792"><a href="#cb31-792" aria-hidden="true" tabindex="-1"></a>  total_kcal_current_yearly_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(current_kcal_intake_yearly_male <span class="sc">+</span></span>
<span id="cb31-793"><a href="#cb31-793" aria-hidden="true" tabindex="-1"></a>                                                 current_kcal_intake_yearly_female,</span>
<span id="cb31-794"><a href="#cb31-794" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-795"><a href="#cb31-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-796"><a href="#cb31-796" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-797"><a href="#cb31-797" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-798"><a href="#cb31-798" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-799"><a href="#cb31-799" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-800"><a href="#cb31-800" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">total_kcal_need_male =</span> <span class="fu">sum</span>(total_kcal_need_male_yearly),</span>
<span id="cb31-801"><a href="#cb31-801" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_kcal_need_female =</span> <span class="fu">sum</span>(total_kcal_need_female_yearly),</span>
<span id="cb31-802"><a href="#cb31-802" aria-hidden="true" tabindex="-1"></a>              <span class="at">current_kcal_intake_male =</span> <span class="fu">sum</span>(current_kcal_intake_yearly_male),</span>
<span id="cb31-803"><a href="#cb31-803" aria-hidden="true" tabindex="-1"></a>              <span class="at">current_kcal_intake_female =</span> <span class="fu">sum</span>(current_kcal_intake_yearly_female),</span>
<span id="cb31-804"><a href="#cb31-804" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_kcal_need_yearly_all_athletes =</span> <span class="fu">list</span>(total_kcal_need_yearly_all_athletes),</span>
<span id="cb31-805"><a href="#cb31-805" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_kcal_need_of_all_athletes =</span> <span class="fu">sum</span>(total_kcal_need_yearly_all_athletes),</span>
<span id="cb31-806"><a href="#cb31-806" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_kcal_current_yearly_all_athletes =</span> <span class="fu">list</span>(total_kcal_current_yearly_all_athletes),</span>
<span id="cb31-807"><a href="#cb31-807" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_current_kcal_intake_of_all_athletes =</span> <span class="fu">sum</span>(total_kcal_current_yearly_all_athletes),</span>
<span id="cb31-808"><a href="#cb31-808" aria-hidden="true" tabindex="-1"></a>              <span class="at">protein_need_gram_male =</span> <span class="fu">sum</span>(protein_need_gram_male),</span>
<span id="cb31-809"><a href="#cb31-809" aria-hidden="true" tabindex="-1"></a>              <span class="at">protein_need_gram_female =</span> <span class="fu">sum</span>(protein_need_gram_female),</span>
<span id="cb31-810"><a href="#cb31-810" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_protein_need_gram =</span> <span class="fu">sum</span>(total_protein_need_gram),</span>
<span id="cb31-811"><a href="#cb31-811" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_protein_need_gram =</span> <span class="fu">list</span>(total_protein_need_gram),</span>
<span id="cb31-812"><a href="#cb31-812" aria-hidden="true" tabindex="-1"></a>              <span class="at">carb_need_gram_male =</span> <span class="fu">sum</span>(carb_need_gram_male),</span>
<span id="cb31-813"><a href="#cb31-813" aria-hidden="true" tabindex="-1"></a>              <span class="at">carb_need_gram_female =</span> <span class="fu">sum</span>(carb_need_gram_female),</span>
<span id="cb31-814"><a href="#cb31-814" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_carb_need_gram =</span> <span class="fu">sum</span>(total_carb_need_gram),</span>
<span id="cb31-815"><a href="#cb31-815" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_carb_need_gram =</span> <span class="fu">list</span>(total_carb_need_gram),</span>
<span id="cb31-816"><a href="#cb31-816" aria-hidden="true" tabindex="-1"></a>              <span class="at">fat_need_gram_male =</span> <span class="fu">sum</span>(fat_need_gram_male),</span>
<span id="cb31-817"><a href="#cb31-817" aria-hidden="true" tabindex="-1"></a>              <span class="at">fat_need_gram_female =</span> <span class="fu">sum</span>(fat_need_gram_female),</span>
<span id="cb31-818"><a href="#cb31-818" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_need_gram =</span> <span class="fu">sum</span>(total_fat_need_gram),</span>
<span id="cb31-819"><a href="#cb31-819" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_fat_need_gram =</span> <span class="fu">list</span>(total_fat_need_gram),</span>
<span id="cb31-820"><a href="#cb31-820" aria-hidden="true" tabindex="-1"></a>              <span class="at">fat_model_check_one =</span> <span class="fu">sum</span>(fat_model_check_one),</span>
<span id="cb31-821"><a href="#cb31-821" aria-hidden="true" tabindex="-1"></a>              <span class="at">fat_model_check_two =</span> <span class="fu">sum</span>(fat_model_check_two),</span>
<span id="cb31-822"><a href="#cb31-822" aria-hidden="true" tabindex="-1"></a>              <span class="at">target_wt_female =</span> <span class="fu">sum</span>(target_wt_female),</span>
<span id="cb31-823"><a href="#cb31-823" aria-hidden="true" tabindex="-1"></a>              <span class="at">target_wt_male =</span> <span class="fu">sum</span>(target_wt_male)))</span>
<span id="cb31-824"><a href="#cb31-824" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-825"><a href="#cb31-825" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-826"><a href="#cb31-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-827"><a href="#cb31-827" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Run the Monte Carlo Simulation</span></span>
<span id="cb31-828"><a href="#cb31-828" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-829"><a href="#cb31-829" aria-hidden="true" tabindex="-1"></a>  Calorie_mc_simulation <span class="ot">&lt;-</span> <span class="fu">mcSimulation</span>(<span class="at">estimate =</span> <span class="fu">estimate_read_csv</span>(<span class="st">"1_Calorie.csv"</span>),</span>
<span id="cb31-830"><a href="#cb31-830" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">model_function =</span> Calorie_function,</span>
<span id="cb31-831"><a href="#cb31-831" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">numberOfModelRuns =</span> <span class="dv">1000</span>,</span>
<span id="cb31-832"><a href="#cb31-832" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">functionSyntax =</span> <span class="st">"plainNames"</span>)</span>
<span id="cb31-833"><a href="#cb31-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-834"><a href="#cb31-834" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-835"><a href="#cb31-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-836"><a href="#cb31-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-837"><a href="#cb31-837" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m11}</span></span>
<span id="cb31-838"><a href="#cb31-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-839"><a href="#cb31-839" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-840"><a href="#cb31-840" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_kcal_need_of_all_athletes"</span>, </span>
<span id="cb31-841"><a href="#cb31-841" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"total_current_kcal_intake_of_all_athletes"</span>),</span>
<span id="cb31-842"><a href="#cb31-842" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-843"><a href="#cb31-843" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span id="cb31-844"><a href="#cb31-844" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-845"><a href="#cb31-845" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-846"><a href="#cb31-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-847"><a href="#cb31-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-848"><a href="#cb31-848" aria-hidden="true" tabindex="-1"></a>Based on the calculations, there is an overlap between total calorie needs and current calorie intake. Thus, we can assume their current calorie intake meets the requirement. However, we cannot be certain their macronutrients intake will also meet the requirement.</span>
<span id="cb31-849"><a href="#cb31-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-850"><a href="#cb31-850" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-851"><a href="#cb31-851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-852"><a href="#cb31-852" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m12}</span></span>
<span id="cb31-853"><a href="#cb31-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-854"><a href="#cb31-854" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-855"><a href="#cb31-855" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"current_kcal_intake_male"</span>, <span class="st">"total_kcal_need_male"</span>),</span>
<span id="cb31-856"><a href="#cb31-856" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-857"><a href="#cb31-857" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span id="cb31-858"><a href="#cb31-858" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-859"><a href="#cb31-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-860"><a href="#cb31-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-861"><a href="#cb31-861" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-862"><a href="#cb31-862" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"current_kcal_intake_female"</span>, <span class="st">"total_kcal_need_female"</span>),</span>
<span id="cb31-863"><a href="#cb31-863" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-864"><a href="#cb31-864" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span id="cb31-865"><a href="#cb31-865" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-866"><a href="#cb31-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-867"><a href="#cb31-867" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot1, plot2, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb31-868"><a href="#cb31-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-869"><a href="#cb31-869" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-870"><a href="#cb31-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-871"><a href="#cb31-871" aria-hidden="true" tabindex="-1"></a>The above plots also show both male and female athletes meet their calorie requirement. </span>
<span id="cb31-872"><a href="#cb31-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-873"><a href="#cb31-873" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-874"><a href="#cb31-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-875"><a href="#cb31-875" aria-hidden="true" tabindex="-1"></a><span class="fu">### Target carbohydrate, protein and fat distributions</span></span>
<span id="cb31-876"><a href="#cb31-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-877"><a href="#cb31-877" aria-hidden="true" tabindex="-1"></a>Carbohydrate, protein and fat requirements in gram are calculated based on total calorie needs. Total carbohydrate, protein and fat needs for all athletes, as well as for male and female athletes separately are shown in the table and the plots below.</span>
<span id="cb31-878"><a href="#cb31-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-879"><a href="#cb31-879" aria-hidden="true" tabindex="-1"></a><span class="in">``` {r savec}</span></span>
<span id="cb31-880"><a href="#cb31-880" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"macro_needs.csv"</span>)</span>
<span id="cb31-881"><a href="#cb31-881" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span>
<span id="cb31-882"><a href="#cb31-882" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-883"><a href="#cb31-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-884"><a href="#cb31-884" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m13}</span></span>
<span id="cb31-885"><a href="#cb31-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-886"><a href="#cb31-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-887"><a href="#cb31-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-888"><a href="#cb31-888" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-889"><a href="#cb31-889" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"protein_need_gram_male"</span>, <span class="st">"protein_need_gram_female"</span>,</span>
<span id="cb31-890"><a href="#cb31-890" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"total_protein_need_gram"</span>),</span>
<span id="cb31-891"><a href="#cb31-891" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-892"><a href="#cb31-892" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'yearly protein need in gram'</span>,</span>
<span id="cb31-893"><a href="#cb31-893" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-894"><a href="#cb31-894" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-895"><a href="#cb31-895" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-896"><a href="#cb31-896" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"carb_need_gram_male"</span>, <span class="st">"carb_need_gram_female"</span>,</span>
<span id="cb31-897"><a href="#cb31-897" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"total_carb_need_gram"</span>),</span>
<span id="cb31-898"><a href="#cb31-898" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-899"><a href="#cb31-899" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'yearly carbohyrate need in gram'</span>,</span>
<span id="cb31-900"><a href="#cb31-900" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-901"><a href="#cb31-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-902"><a href="#cb31-902" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-903"><a href="#cb31-903" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Calorie_mc_simulation,</span>
<span id="cb31-904"><a href="#cb31-904" aria-hidden="true" tabindex="-1"></a>                     <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"fat_need_gram_male"</span>, <span class="st">"fat_need_gram_female"</span>,</span>
<span id="cb31-905"><a href="#cb31-905" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"total_fat_need_gram"</span>),</span>
<span id="cb31-906"><a href="#cb31-906" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-907"><a href="#cb31-907" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x_axis_name =</span> <span class="st">'yearly fat need in gram'</span>,</span>
<span id="cb31-908"><a href="#cb31-908" aria-hidden="true" tabindex="-1"></a>                     <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-909"><a href="#cb31-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-910"><a href="#cb31-910" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-911"><a href="#cb31-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-912"><a href="#cb31-912" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-913"><a href="#cb31-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-914"><a href="#cb31-914" aria-hidden="true" tabindex="-1"></a><span class="fu">## Part 2: Macronutrient distributions</span></span>
<span id="cb31-915"><a href="#cb31-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-916"><a href="#cb31-916" aria-hidden="true" tabindex="-1"></a><span class="fu">### Current macronutrients intake vs. macronutrients requirement</span></span>
<span id="cb31-917"><a href="#cb31-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-918"><a href="#cb31-918" aria-hidden="true" tabindex="-1"></a>The macronutrient distribution of current food intake of football players is calculated using estimated food recalls. Values are then compared to the macronutirent needs calculated in part 1 of the model. </span>
<span id="cb31-919"><a href="#cb31-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-920"><a href="#cb31-920" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m2, echo=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb31-921"><a href="#cb31-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-922"><a href="#cb31-922" aria-hidden="true" tabindex="-1"></a>make_variables<span class="ot">&lt;-</span><span class="cf">function</span>(est,<span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb31-923"><a href="#cb31-923" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-924"><a href="#cb31-924" aria-hidden="true" tabindex="-1"></a>{ x<span class="ot">&lt;-</span><span class="fu">random</span>(<span class="at">rho=</span>est, <span class="at">n=</span>n)</span>
<span id="cb31-925"><a href="#cb31-925" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">colnames</span>(x)) <span class="fu">assign</span>(i, <span class="fu">as.numeric</span>(x[<span class="dv">1</span>,i]),<span class="at">envir=</span>.GlobalEnv)}</span>
<span id="cb31-926"><a href="#cb31-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-927"><a href="#cb31-927" aria-hidden="true" tabindex="-1"></a><span class="fu">make_variables</span>(<span class="fu">estimate_read_csv</span>(<span class="fu">paste</span>(<span class="st">"2_Food_type.csv"</span>))) </span>
<span id="cb31-928"><a href="#cb31-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-929"><a href="#cb31-929" aria-hidden="true" tabindex="-1"></a>Food_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, varnames){</span>
<span id="cb31-930"><a href="#cb31-930" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-931"><a href="#cb31-931" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Change 100g value to value per serve </span></span>
<span id="cb31-932"><a href="#cb31-932" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-933"><a href="#cb31-933" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Chicken</span></span>
<span id="cb31-934"><a href="#cb31-934" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-935"><a href="#cb31-935" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_kcal <span class="ot">&lt;-</span> chicken_raw_100g_kcal <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-936"><a href="#cb31-936" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-937"><a href="#cb31-937" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_protein <span class="ot">&lt;-</span> chicken_raw_100g_protein <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-938"><a href="#cb31-938" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-939"><a href="#cb31-939" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_CHO <span class="ot">&lt;-</span> chicken_raw_100g_CHO <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-940"><a href="#cb31-940" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-941"><a href="#cb31-941" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_fat <span class="ot">&lt;-</span> chicken_raw_100g_fat <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-942"><a href="#cb31-942" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-943"><a href="#cb31-943" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_Ca <span class="ot">&lt;-</span> chicken_raw_100g_Ca <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-944"><a href="#cb31-944" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-945"><a href="#cb31-945" aria-hidden="true" tabindex="-1"></a>  chicken_raw_per_serve_Fe <span class="ot">&lt;-</span> chicken_raw_100g_Fe <span class="sc">*</span> chicken_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-946"><a href="#cb31-946" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-947"><a href="#cb31-947" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-948"><a href="#cb31-948" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pork</span></span>
<span id="cb31-949"><a href="#cb31-949" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-950"><a href="#cb31-950" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_kcal <span class="ot">&lt;-</span> pork_raw_100g_kcal <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-951"><a href="#cb31-951" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-952"><a href="#cb31-952" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_protein <span class="ot">&lt;-</span> pork_raw_100g_protein <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-953"><a href="#cb31-953" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-954"><a href="#cb31-954" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_CHO <span class="ot">&lt;-</span> pork_raw_100g_CHO <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-955"><a href="#cb31-955" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-956"><a href="#cb31-956" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_fat <span class="ot">&lt;-</span> pork_raw_100g_fat <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-957"><a href="#cb31-957" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-958"><a href="#cb31-958" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_Ca <span class="ot">&lt;-</span> pork_raw_100g_Ca <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-959"><a href="#cb31-959" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-960"><a href="#cb31-960" aria-hidden="true" tabindex="-1"></a>  pork_raw_per_serve_Fe <span class="ot">&lt;-</span> pork_raw_100g_Fe <span class="sc">*</span> pork_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-961"><a href="#cb31-961" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-962"><a href="#cb31-962" aria-hidden="true" tabindex="-1"></a>                              </span>
<span id="cb31-963"><a href="#cb31-963" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Beef</span></span>
<span id="cb31-964"><a href="#cb31-964" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-965"><a href="#cb31-965" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_kcal <span class="ot">&lt;-</span> beef_raw_100g_kcal <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-966"><a href="#cb31-966" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-967"><a href="#cb31-967" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_protein <span class="ot">&lt;-</span> beef_raw_100g_protein <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-968"><a href="#cb31-968" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-969"><a href="#cb31-969" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_CHO <span class="ot">&lt;-</span> beef_raw_100g_CHO <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-970"><a href="#cb31-970" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-971"><a href="#cb31-971" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_fat <span class="ot">&lt;-</span> beef_raw_100g_fat <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-972"><a href="#cb31-972" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-973"><a href="#cb31-973" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_Ca <span class="ot">&lt;-</span> beef_raw_100g_Ca <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-974"><a href="#cb31-974" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-975"><a href="#cb31-975" aria-hidden="true" tabindex="-1"></a>  beef_raw_per_serve_Fe <span class="ot">&lt;-</span> beef_raw_100g_Fe <span class="sc">*</span> beef_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-976"><a href="#cb31-976" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-977"><a href="#cb31-977" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-978"><a href="#cb31-978" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fish</span></span>
<span id="cb31-979"><a href="#cb31-979" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-980"><a href="#cb31-980" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_kcal <span class="ot">&lt;-</span> fish_raw_100g_kcal <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-981"><a href="#cb31-981" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-982"><a href="#cb31-982" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_protein <span class="ot">&lt;-</span> fish_raw_100g_protein <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-983"><a href="#cb31-983" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-984"><a href="#cb31-984" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_CHO <span class="ot">&lt;-</span> fish_raw_100g_CHO <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-985"><a href="#cb31-985" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-986"><a href="#cb31-986" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_fat <span class="ot">&lt;-</span> fish_raw_100g_fat <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-987"><a href="#cb31-987" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-988"><a href="#cb31-988" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_Ca <span class="ot">&lt;-</span> fish_raw_100g_Ca <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-989"><a href="#cb31-989" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-990"><a href="#cb31-990" aria-hidden="true" tabindex="-1"></a>  fish_raw_per_serve_Fe <span class="ot">&lt;-</span> fish_raw_100g_Fe <span class="sc">*</span> fish_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-991"><a href="#cb31-991" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-992"><a href="#cb31-992" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prawn</span></span>
<span id="cb31-993"><a href="#cb31-993" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-994"><a href="#cb31-994" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_kcal <span class="ot">&lt;-</span> prawn_raw_100g_kcal <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-995"><a href="#cb31-995" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-996"><a href="#cb31-996" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_protein <span class="ot">&lt;-</span> prawn_raw_100g_protein <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-997"><a href="#cb31-997" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-998"><a href="#cb31-998" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_CHO <span class="ot">&lt;-</span> prawn_raw_100g_CHO <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-999"><a href="#cb31-999" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1000"><a href="#cb31-1000" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_fat <span class="ot">&lt;-</span> prawn_raw_100g_fat <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1001"><a href="#cb31-1001" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1002"><a href="#cb31-1002" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_Ca <span class="ot">&lt;-</span> prawn_raw_100g_Ca <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1003"><a href="#cb31-1003" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1004"><a href="#cb31-1004" aria-hidden="true" tabindex="-1"></a>  prawn_raw_per_serve_Fe <span class="ot">&lt;-</span> prawn_raw_100g_Fe <span class="sc">*</span> prawn_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1005"><a href="#cb31-1005" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1006"><a href="#cb31-1006" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1007"><a href="#cb31-1007" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Vegetable/Mushroom</span></span>
<span id="cb31-1008"><a href="#cb31-1008" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1009"><a href="#cb31-1009" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_kcal <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_kcal <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1010"><a href="#cb31-1010" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1011"><a href="#cb31-1011" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_protein <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_protein <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1012"><a href="#cb31-1012" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1013"><a href="#cb31-1013" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_CHO <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_CHO <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1014"><a href="#cb31-1014" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1015"><a href="#cb31-1015" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_fat <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_fat <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1016"><a href="#cb31-1016" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1017"><a href="#cb31-1017" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_Ca <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_Ca <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1018"><a href="#cb31-1018" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1019"><a href="#cb31-1019" aria-hidden="true" tabindex="-1"></a>  vegetable_mushroom_raw_per_serve_Fe <span class="ot">&lt;-</span> vegetable_mushroom_raw_100g_Fe <span class="sc">*</span> vegetable_mushroom_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1020"><a href="#cb31-1020" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1021"><a href="#cb31-1021" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1022"><a href="#cb31-1022" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Bean/Nut </span></span>
<span id="cb31-1023"><a href="#cb31-1023" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (I use same serving size for bean as nut because beans was rarely on the menu- upset stomach risk?)</span></span>
<span id="cb31-1024"><a href="#cb31-1024" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1025"><a href="#cb31-1025" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_kcal <span class="ot">&lt;-</span> bean_nut_raw_100g_kcal <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1026"><a href="#cb31-1026" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1027"><a href="#cb31-1027" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_protein <span class="ot">&lt;-</span> bean_nut_raw_100g_protein <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1028"><a href="#cb31-1028" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1029"><a href="#cb31-1029" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_CHO <span class="ot">&lt;-</span> bean_nut_raw_100g_CHO <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1030"><a href="#cb31-1030" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1031"><a href="#cb31-1031" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_fat <span class="ot">&lt;-</span> bean_nut_raw_100g_fat <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1032"><a href="#cb31-1032" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1033"><a href="#cb31-1033" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_Ca <span class="ot">&lt;-</span> bean_nut_raw_100g_Ca <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1034"><a href="#cb31-1034" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1035"><a href="#cb31-1035" aria-hidden="true" tabindex="-1"></a>  bean_nut_raw_per_serve_Fe <span class="ot">&lt;-</span> bean_nut_raw_100g_Fe <span class="sc">*</span> bean_nut_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1036"><a href="#cb31-1036" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1037"><a href="#cb31-1037" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1038"><a href="#cb31-1038" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Egg</span></span>
<span id="cb31-1039"><a href="#cb31-1039" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1040"><a href="#cb31-1040" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_kcal <span class="ot">&lt;-</span> egg_whole_100g_kcal <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1041"><a href="#cb31-1041" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1042"><a href="#cb31-1042" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_protein <span class="ot">&lt;-</span> egg_whole_100g_protein <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1043"><a href="#cb31-1043" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1044"><a href="#cb31-1044" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_CHO <span class="ot">&lt;-</span> egg_whole_100g_CHO <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1045"><a href="#cb31-1045" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1046"><a href="#cb31-1046" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_fat <span class="ot">&lt;-</span> egg_whole_100g_fat <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1047"><a href="#cb31-1047" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1048"><a href="#cb31-1048" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_Ca <span class="ot">&lt;-</span> egg_whole_100g_Ca <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1049"><a href="#cb31-1049" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1050"><a href="#cb31-1050" aria-hidden="true" tabindex="-1"></a>  egg_whole_per_serve_Fe <span class="ot">&lt;-</span> egg_whole_100g_Fe <span class="sc">*</span> egg_whole_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1051"><a href="#cb31-1051" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1052"><a href="#cb31-1052" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1053"><a href="#cb31-1053" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Dairy</span></span>
<span id="cb31-1054"><a href="#cb31-1054" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1055"><a href="#cb31-1055" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_kcal <span class="ot">&lt;-</span> dairy_100g_kcal <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1056"><a href="#cb31-1056" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1057"><a href="#cb31-1057" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_protein <span class="ot">&lt;-</span> dairy_100g_protein <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1058"><a href="#cb31-1058" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1059"><a href="#cb31-1059" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_CHO <span class="ot">&lt;-</span> dairy_100g_CHO <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1060"><a href="#cb31-1060" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1061"><a href="#cb31-1061" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_fat <span class="ot">&lt;-</span> dairy_100g_fat <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1062"><a href="#cb31-1062" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1063"><a href="#cb31-1063" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_Ca <span class="ot">&lt;-</span> dairy_100g_Ca <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1064"><a href="#cb31-1064" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1065"><a href="#cb31-1065" aria-hidden="true" tabindex="-1"></a>  dairy_per_serve_Fe <span class="ot">&lt;-</span> dairy_100g_Fe <span class="sc">*</span> dairy_ml_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1066"><a href="#cb31-1066" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1067"><a href="#cb31-1067" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1068"><a href="#cb31-1068" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fruit</span></span>
<span id="cb31-1069"><a href="#cb31-1069" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1070"><a href="#cb31-1070" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_kcal <span class="ot">&lt;-</span> fruit_100g_kcal <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1071"><a href="#cb31-1071" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1072"><a href="#cb31-1072" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_protein <span class="ot">&lt;-</span> fruit_100g_protein <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1073"><a href="#cb31-1073" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1074"><a href="#cb31-1074" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_CHO <span class="ot">&lt;-</span> fruit_100g_CHO <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1075"><a href="#cb31-1075" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1076"><a href="#cb31-1076" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_fat <span class="ot">&lt;-</span> fruit_100g_fat <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1077"><a href="#cb31-1077" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1078"><a href="#cb31-1078" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_Ca <span class="ot">&lt;-</span> fruit_100g_Ca <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1079"><a href="#cb31-1079" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1080"><a href="#cb31-1080" aria-hidden="true" tabindex="-1"></a>  fruit_per_serve_Fe <span class="ot">&lt;-</span> fruit_100g_Fe <span class="sc">*</span> fruit_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1081"><a href="#cb31-1081" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1082"><a href="#cb31-1082" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1083"><a href="#cb31-1083" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rice/Noodle</span></span>
<span id="cb31-1084"><a href="#cb31-1084" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1085"><a href="#cb31-1085" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_kcal <span class="ot">&lt;-</span> rice_noodle_cooked_100g_kcal <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1086"><a href="#cb31-1086" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1087"><a href="#cb31-1087" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_protein <span class="ot">&lt;-</span> rice_noodle_cooked_100g_protein <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1088"><a href="#cb31-1088" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1089"><a href="#cb31-1089" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_CHO <span class="ot">&lt;-</span> rice_noodle_cooked_100g_CHO <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1090"><a href="#cb31-1090" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1091"><a href="#cb31-1091" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_fat <span class="ot">&lt;-</span> rice_noodle_cooked_100g_fat <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1092"><a href="#cb31-1092" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1093"><a href="#cb31-1093" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_Ca <span class="ot">&lt;-</span> rice_noodle_cooked_100g_Ca <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1094"><a href="#cb31-1094" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1095"><a href="#cb31-1095" aria-hidden="true" tabindex="-1"></a>  rice_noodle_cooked_per_serve_Fe <span class="ot">&lt;-</span> rice_noodle_cooked_100g_Fe <span class="sc">*</span> rice_noodle_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1096"><a href="#cb31-1096" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1097"><a href="#cb31-1097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1098"><a href="#cb31-1098" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sandwich</span></span>
<span id="cb31-1099"><a href="#cb31-1099" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1100"><a href="#cb31-1100" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_kcal <span class="ot">&lt;-</span> sandwich_100g_kcal <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1101"><a href="#cb31-1101" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1102"><a href="#cb31-1102" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_protein <span class="ot">&lt;-</span> sandwich_100g_protein <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1103"><a href="#cb31-1103" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1104"><a href="#cb31-1104" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_CHO <span class="ot">&lt;-</span> sandwich_100g_CHO <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1105"><a href="#cb31-1105" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1106"><a href="#cb31-1106" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_fat <span class="ot">&lt;-</span> sandwich_100g_fat <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1107"><a href="#cb31-1107" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1108"><a href="#cb31-1108" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_Ca <span class="ot">&lt;-</span> sandwich_100g_Ca <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1109"><a href="#cb31-1109" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1110"><a href="#cb31-1110" aria-hidden="true" tabindex="-1"></a>  sandwich_per_serve_Fe <span class="ot">&lt;-</span> sandwich_100g_Fe <span class="sc">*</span> sandwich_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1111"><a href="#cb31-1111" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1112"><a href="#cb31-1112" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1113"><a href="#cb31-1113" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Oil/fat</span></span>
<span id="cb31-1114"><a href="#cb31-1114" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1115"><a href="#cb31-1115" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_kcal <span class="ot">&lt;-</span> oil_fat_100g_kcal <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1116"><a href="#cb31-1116" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1117"><a href="#cb31-1117" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_protein <span class="ot">&lt;-</span> oil_fat_100g_protein <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1118"><a href="#cb31-1118" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1119"><a href="#cb31-1119" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_CHO <span class="ot">&lt;-</span> oil_fat_100g_CHO <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1120"><a href="#cb31-1120" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1121"><a href="#cb31-1121" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_fat <span class="ot">&lt;-</span> oil_fat_100g_fat <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1122"><a href="#cb31-1122" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1123"><a href="#cb31-1123" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_Ca <span class="ot">&lt;-</span> oil_fat_100g_Ca <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1124"><a href="#cb31-1124" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1125"><a href="#cb31-1125" aria-hidden="true" tabindex="-1"></a>  oil_fat_per_serve_Fe <span class="ot">&lt;-</span> oil_fat_100g_Fe <span class="sc">*</span> oil_fat_gram_per_serve<span class="sc">/</span><span class="dv">100</span></span>
<span id="cb31-1126"><a href="#cb31-1126" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1127"><a href="#cb31-1127" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1128"><a href="#cb31-1128" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################################################</span></span>
<span id="cb31-1129"><a href="#cb31-1129" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1130"><a href="#cb31-1130" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate macronutrient distribution of current intake</span></span>
<span id="cb31-1131"><a href="#cb31-1131" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1132"><a href="#cb31-1132" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1133"><a href="#cb31-1133" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total number of main meals </span></span>
<span id="cb31-1134"><a href="#cb31-1134" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1135"><a href="#cb31-1135" aria-hidden="true" tabindex="-1"></a>  total_training_days_per_year <span class="ot">&lt;-</span> normal_training_days <span class="sc">+</span> intensive_training_days</span>
<span id="cb31-1136"><a href="#cb31-1136" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1137"><a href="#cb31-1137" aria-hidden="true" tabindex="-1"></a>  total_main_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(number_meal_per_day <span class="sc">*</span> total_training_days_per_year,</span>
<span id="cb31-1138"><a href="#cb31-1138" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-1139"><a href="#cb31-1139" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1140"><a href="#cb31-1140" aria-hidden="true" tabindex="-1"></a>  total_main_meals_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1141"><a href="#cb31-1141" aria-hidden="true" tabindex="-1"></a>                                                 number_athlete,</span>
<span id="cb31-1142"><a href="#cb31-1142" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-1143"><a href="#cb31-1143" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1144"><a href="#cb31-1144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1145"><a href="#cb31-1145" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total nutrient distributions for everyday food</span></span>
<span id="cb31-1146"><a href="#cb31-1146" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1147"><a href="#cb31-1147" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_kcal_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1148"><a href="#cb31-1148" aria-hidden="true" tabindex="-1"></a>                                                       bean_nut_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1149"><a href="#cb31-1149" aria-hidden="true" tabindex="-1"></a>                                                      (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1150"><a href="#cb31-1150" aria-hidden="true" tabindex="-1"></a>                                                         egg_whole_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1151"><a href="#cb31-1151" aria-hidden="true" tabindex="-1"></a>                                                      (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1152"><a href="#cb31-1152" aria-hidden="true" tabindex="-1"></a>                                                         dairy_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1153"><a href="#cb31-1153" aria-hidden="true" tabindex="-1"></a>                                                      (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1154"><a href="#cb31-1154" aria-hidden="true" tabindex="-1"></a>                                                         fruit_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1155"><a href="#cb31-1155" aria-hidden="true" tabindex="-1"></a>                                                      (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1156"><a href="#cb31-1156" aria-hidden="true" tabindex="-1"></a>                                                         oil_fat_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1157"><a href="#cb31-1157" aria-hidden="true" tabindex="-1"></a>                                                      (sports_drink_bot_per_day <span class="sc">*</span> </span>
<span id="cb31-1158"><a href="#cb31-1158" aria-hidden="true" tabindex="-1"></a>                                                         sports_drink_kcal) <span class="sc">+</span></span>
<span id="cb31-1159"><a href="#cb31-1159" aria-hidden="true" tabindex="-1"></a>                                                      (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1160"><a href="#cb31-1160" aria-hidden="true" tabindex="-1"></a>                                                         sandwich_per_serve_kcal)) <span class="sc">*</span> </span>
<span id="cb31-1161"><a href="#cb31-1161" aria-hidden="true" tabindex="-1"></a>                                                       total_training_days_per_year,</span>
<span id="cb31-1162"><a href="#cb31-1162" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1163"><a href="#cb31-1163" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1164"><a href="#cb31-1164" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_protein_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1165"><a href="#cb31-1165" aria-hidden="true" tabindex="-1"></a>                                                       bean_nut_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1166"><a href="#cb31-1166" aria-hidden="true" tabindex="-1"></a>                                                      (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1167"><a href="#cb31-1167" aria-hidden="true" tabindex="-1"></a>                                                         egg_whole_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1168"><a href="#cb31-1168" aria-hidden="true" tabindex="-1"></a>                                                      (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1169"><a href="#cb31-1169" aria-hidden="true" tabindex="-1"></a>                                                         dairy_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1170"><a href="#cb31-1170" aria-hidden="true" tabindex="-1"></a>                                                      (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1171"><a href="#cb31-1171" aria-hidden="true" tabindex="-1"></a>                                                         fruit_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1172"><a href="#cb31-1172" aria-hidden="true" tabindex="-1"></a>                                                      (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1173"><a href="#cb31-1173" aria-hidden="true" tabindex="-1"></a>                                                         oil_fat_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1174"><a href="#cb31-1174" aria-hidden="true" tabindex="-1"></a>                                                      (sports_drink_bot_per_day <span class="sc">*</span> </span>
<span id="cb31-1175"><a href="#cb31-1175" aria-hidden="true" tabindex="-1"></a>                                                         sports_drink_protein) <span class="sc">+</span></span>
<span id="cb31-1176"><a href="#cb31-1176" aria-hidden="true" tabindex="-1"></a>                                                      (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1177"><a href="#cb31-1177" aria-hidden="true" tabindex="-1"></a>                                                         sandwich_per_serve_protein))<span class="sc">*</span></span>
<span id="cb31-1178"><a href="#cb31-1178" aria-hidden="true" tabindex="-1"></a>                                                        total_training_days_per_year,</span>
<span id="cb31-1179"><a href="#cb31-1179" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1180"><a href="#cb31-1180" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1181"><a href="#cb31-1181" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_CHO_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1182"><a href="#cb31-1182" aria-hidden="true" tabindex="-1"></a>                                                       bean_nut_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1183"><a href="#cb31-1183" aria-hidden="true" tabindex="-1"></a>                                                      (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1184"><a href="#cb31-1184" aria-hidden="true" tabindex="-1"></a>                                                         egg_whole_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1185"><a href="#cb31-1185" aria-hidden="true" tabindex="-1"></a>                                                      (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1186"><a href="#cb31-1186" aria-hidden="true" tabindex="-1"></a>                                                         dairy_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1187"><a href="#cb31-1187" aria-hidden="true" tabindex="-1"></a>                                                      (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1188"><a href="#cb31-1188" aria-hidden="true" tabindex="-1"></a>                                                         fruit_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1189"><a href="#cb31-1189" aria-hidden="true" tabindex="-1"></a>                                                      (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1190"><a href="#cb31-1190" aria-hidden="true" tabindex="-1"></a>                                                         oil_fat_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1191"><a href="#cb31-1191" aria-hidden="true" tabindex="-1"></a>                                                      (sports_drink_bot_per_day <span class="sc">*</span> </span>
<span id="cb31-1192"><a href="#cb31-1192" aria-hidden="true" tabindex="-1"></a>                                                         sports_drink_CHO) <span class="sc">+</span></span>
<span id="cb31-1193"><a href="#cb31-1193" aria-hidden="true" tabindex="-1"></a>                                                      (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1194"><a href="#cb31-1194" aria-hidden="true" tabindex="-1"></a>                                                         sandwich_per_serve_CHO))<span class="sc">*</span></span>
<span id="cb31-1195"><a href="#cb31-1195" aria-hidden="true" tabindex="-1"></a>                                                      total_training_days_per_year,</span>
<span id="cb31-1196"><a href="#cb31-1196" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1197"><a href="#cb31-1197" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1198"><a href="#cb31-1198" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_fat_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1199"><a href="#cb31-1199" aria-hidden="true" tabindex="-1"></a>                                                       bean_nut_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1200"><a href="#cb31-1200" aria-hidden="true" tabindex="-1"></a>                                                      (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1201"><a href="#cb31-1201" aria-hidden="true" tabindex="-1"></a>                                                         egg_whole_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1202"><a href="#cb31-1202" aria-hidden="true" tabindex="-1"></a>                                                      (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1203"><a href="#cb31-1203" aria-hidden="true" tabindex="-1"></a>                                                         dairy_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1204"><a href="#cb31-1204" aria-hidden="true" tabindex="-1"></a>                                                      (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1205"><a href="#cb31-1205" aria-hidden="true" tabindex="-1"></a>                                                         fruit_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1206"><a href="#cb31-1206" aria-hidden="true" tabindex="-1"></a>                                                      (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1207"><a href="#cb31-1207" aria-hidden="true" tabindex="-1"></a>                                                         oil_fat_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1208"><a href="#cb31-1208" aria-hidden="true" tabindex="-1"></a>                                                      (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1209"><a href="#cb31-1209" aria-hidden="true" tabindex="-1"></a>                                                         sandwich_per_serve_fat))<span class="sc">*</span></span>
<span id="cb31-1210"><a href="#cb31-1210" aria-hidden="true" tabindex="-1"></a>                                                      total_training_days_per_year,</span>
<span id="cb31-1211"><a href="#cb31-1211" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1212"><a href="#cb31-1212" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1213"><a href="#cb31-1213" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_Ca_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1214"><a href="#cb31-1214" aria-hidden="true" tabindex="-1"></a>                                                      bean_nut_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1215"><a href="#cb31-1215" aria-hidden="true" tabindex="-1"></a>                                                     (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1216"><a href="#cb31-1216" aria-hidden="true" tabindex="-1"></a>                                                        egg_whole_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1217"><a href="#cb31-1217" aria-hidden="true" tabindex="-1"></a>                                                     (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1218"><a href="#cb31-1218" aria-hidden="true" tabindex="-1"></a>                                                        dairy_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1219"><a href="#cb31-1219" aria-hidden="true" tabindex="-1"></a>                                                     (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1220"><a href="#cb31-1220" aria-hidden="true" tabindex="-1"></a>                                                        fruit_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1221"><a href="#cb31-1221" aria-hidden="true" tabindex="-1"></a>                                                     (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1222"><a href="#cb31-1222" aria-hidden="true" tabindex="-1"></a>                                                        oil_fat_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1223"><a href="#cb31-1223" aria-hidden="true" tabindex="-1"></a>                                                     (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1224"><a href="#cb31-1224" aria-hidden="true" tabindex="-1"></a>                                                        sandwich_per_serve_Ca))<span class="sc">*</span></span>
<span id="cb31-1225"><a href="#cb31-1225" aria-hidden="true" tabindex="-1"></a>                                                     total_training_days_per_year,</span>
<span id="cb31-1226"><a href="#cb31-1226" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-1227"><a href="#cb31-1227" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1228"><a href="#cb31-1228" aria-hidden="true" tabindex="-1"></a>  total_current_everyday_food_Fe_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((current_bean_nut_intake_serve_per_day <span class="sc">*</span> </span>
<span id="cb31-1229"><a href="#cb31-1229" aria-hidden="true" tabindex="-1"></a>                                                      bean_nut_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1230"><a href="#cb31-1230" aria-hidden="true" tabindex="-1"></a>                                                     (current_egg_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1231"><a href="#cb31-1231" aria-hidden="true" tabindex="-1"></a>                                                        egg_whole_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1232"><a href="#cb31-1232" aria-hidden="true" tabindex="-1"></a>                                                     (current_dairy_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1233"><a href="#cb31-1233" aria-hidden="true" tabindex="-1"></a>                                                        dairy_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1234"><a href="#cb31-1234" aria-hidden="true" tabindex="-1"></a>                                                     (current_fruit_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1235"><a href="#cb31-1235" aria-hidden="true" tabindex="-1"></a>                                                        fruit_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1236"><a href="#cb31-1236" aria-hidden="true" tabindex="-1"></a>                                                     (current_oil_fat_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1237"><a href="#cb31-1237" aria-hidden="true" tabindex="-1"></a>                                                        oil_fat_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1238"><a href="#cb31-1238" aria-hidden="true" tabindex="-1"></a>                                                     (current_sandwich_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1239"><a href="#cb31-1239" aria-hidden="true" tabindex="-1"></a>                                                        sandwich_per_serve_Fe))<span class="sc">*</span></span>
<span id="cb31-1240"><a href="#cb31-1240" aria-hidden="true" tabindex="-1"></a>                                                     total_training_days_per_year,</span>
<span id="cb31-1241"><a href="#cb31-1241" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-1242"><a href="#cb31-1242" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1243"><a href="#cb31-1243" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1244"><a href="#cb31-1244" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate total nutrient distributions for protein food</span></span>
<span id="cb31-1245"><a href="#cb31-1245" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1246"><a href="#cb31-1246" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of meals for each protein food</span></span>
<span id="cb31-1247"><a href="#cb31-1247" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1248"><a href="#cb31-1248" aria-hidden="true" tabindex="-1"></a>   number_meals_chicken_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1249"><a href="#cb31-1249" aria-hidden="true" tabindex="-1"></a>                                                    chicken_frequency,</span>
<span id="cb31-1250"><a href="#cb31-1250" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1251"><a href="#cb31-1251" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1252"><a href="#cb31-1252" aria-hidden="true" tabindex="-1"></a>   number_meals_pork_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1253"><a href="#cb31-1253" aria-hidden="true" tabindex="-1"></a>                                                    pork_frequency,</span>
<span id="cb31-1254"><a href="#cb31-1254" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1255"><a href="#cb31-1255" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1256"><a href="#cb31-1256" aria-hidden="true" tabindex="-1"></a>   number_meals_beef_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1257"><a href="#cb31-1257" aria-hidden="true" tabindex="-1"></a>                                                    beef_frequency,</span>
<span id="cb31-1258"><a href="#cb31-1258" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1259"><a href="#cb31-1259" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1260"><a href="#cb31-1260" aria-hidden="true" tabindex="-1"></a>   number_meals_fish_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1261"><a href="#cb31-1261" aria-hidden="true" tabindex="-1"></a>                                                    fish_frequency,</span>
<span id="cb31-1262"><a href="#cb31-1262" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1263"><a href="#cb31-1263" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1264"><a href="#cb31-1264" aria-hidden="true" tabindex="-1"></a>   number_meals_prawn_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1265"><a href="#cb31-1265" aria-hidden="true" tabindex="-1"></a>                                                    prawn_frequency,</span>
<span id="cb31-1266"><a href="#cb31-1266" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1267"><a href="#cb31-1267" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1268"><a href="#cb31-1268" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1269"><a href="#cb31-1269" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Calculate nutrient distributions for all protein food and vegetables group</span></span>
<span id="cb31-1270"><a href="#cb31-1270" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1271"><a href="#cb31-1271" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_kcal_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1272"><a href="#cb31-1272" aria-hidden="true" tabindex="-1"></a>                                                                current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1273"><a href="#cb31-1273" aria-hidden="true" tabindex="-1"></a>                                                                chicken_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1274"><a href="#cb31-1274" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1275"><a href="#cb31-1275" aria-hidden="true" tabindex="-1"></a>                                                                  current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1276"><a href="#cb31-1276" aria-hidden="true" tabindex="-1"></a>                                                                  pork_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1277"><a href="#cb31-1277" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1278"><a href="#cb31-1278" aria-hidden="true" tabindex="-1"></a>                                                                  current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1279"><a href="#cb31-1279" aria-hidden="true" tabindex="-1"></a>                                                                  beef_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1280"><a href="#cb31-1280" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1281"><a href="#cb31-1281" aria-hidden="true" tabindex="-1"></a>                                                                  current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1282"><a href="#cb31-1282" aria-hidden="true" tabindex="-1"></a>                                                                  fish_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1283"><a href="#cb31-1283" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1284"><a href="#cb31-1284" aria-hidden="true" tabindex="-1"></a>                                                                  current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1285"><a href="#cb31-1285" aria-hidden="true" tabindex="-1"></a>                                                                  prawn_raw_per_serve_kcal) <span class="sc">+</span></span>
<span id="cb31-1286"><a href="#cb31-1286" aria-hidden="true" tabindex="-1"></a>                                                               (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1287"><a href="#cb31-1287" aria-hidden="true" tabindex="-1"></a>                                                                  vegetable_mushroom_raw_per_serve_kcal<span class="sc">*</span></span>
<span id="cb31-1288"><a href="#cb31-1288" aria-hidden="true" tabindex="-1"></a>                                                                  total_main_meals_per_year_per_person),</span>
<span id="cb31-1289"><a href="#cb31-1289" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1290"><a href="#cb31-1290" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1291"><a href="#cb31-1291" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1292"><a href="#cb31-1292" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_protein_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1293"><a href="#cb31-1293" aria-hidden="true" tabindex="-1"></a>                                                                current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1294"><a href="#cb31-1294" aria-hidden="true" tabindex="-1"></a>                                                                chicken_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1295"><a href="#cb31-1295" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1296"><a href="#cb31-1296" aria-hidden="true" tabindex="-1"></a>                                                                  current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1297"><a href="#cb31-1297" aria-hidden="true" tabindex="-1"></a>                                                                  pork_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1298"><a href="#cb31-1298" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1299"><a href="#cb31-1299" aria-hidden="true" tabindex="-1"></a>                                                                  current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1300"><a href="#cb31-1300" aria-hidden="true" tabindex="-1"></a>                                                                  beef_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1301"><a href="#cb31-1301" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1302"><a href="#cb31-1302" aria-hidden="true" tabindex="-1"></a>                                                                  current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1303"><a href="#cb31-1303" aria-hidden="true" tabindex="-1"></a>                                                                  fish_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1304"><a href="#cb31-1304" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1305"><a href="#cb31-1305" aria-hidden="true" tabindex="-1"></a>                                                                  current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1306"><a href="#cb31-1306" aria-hidden="true" tabindex="-1"></a>                                                                  prawn_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1307"><a href="#cb31-1307" aria-hidden="true" tabindex="-1"></a>                                                                 (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1308"><a href="#cb31-1308" aria-hidden="true" tabindex="-1"></a>                                                                    vegetable_mushroom_raw_per_serve_protein<span class="sc">*</span></span>
<span id="cb31-1309"><a href="#cb31-1309" aria-hidden="true" tabindex="-1"></a>                                                                    total_main_meals_per_year_per_person),</span>
<span id="cb31-1310"><a href="#cb31-1310" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1311"><a href="#cb31-1311" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1312"><a href="#cb31-1312" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1313"><a href="#cb31-1313" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_CHO_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1314"><a href="#cb31-1314" aria-hidden="true" tabindex="-1"></a>                                                                current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1315"><a href="#cb31-1315" aria-hidden="true" tabindex="-1"></a>                                                                chicken_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1316"><a href="#cb31-1316" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1317"><a href="#cb31-1317" aria-hidden="true" tabindex="-1"></a>                                                                  current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1318"><a href="#cb31-1318" aria-hidden="true" tabindex="-1"></a>                                                                  pork_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1319"><a href="#cb31-1319" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1320"><a href="#cb31-1320" aria-hidden="true" tabindex="-1"></a>                                                                  current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1321"><a href="#cb31-1321" aria-hidden="true" tabindex="-1"></a>                                                                  beef_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1322"><a href="#cb31-1322" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1323"><a href="#cb31-1323" aria-hidden="true" tabindex="-1"></a>                                                                  current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1324"><a href="#cb31-1324" aria-hidden="true" tabindex="-1"></a>                                                                  fish_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1325"><a href="#cb31-1325" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1326"><a href="#cb31-1326" aria-hidden="true" tabindex="-1"></a>                                                                  current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1327"><a href="#cb31-1327" aria-hidden="true" tabindex="-1"></a>                                                                  prawn_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1328"><a href="#cb31-1328" aria-hidden="true" tabindex="-1"></a>                                                              (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1329"><a href="#cb31-1329" aria-hidden="true" tabindex="-1"></a>                                                                 vegetable_mushroom_raw_per_serve_CHO<span class="sc">*</span></span>
<span id="cb31-1330"><a href="#cb31-1330" aria-hidden="true" tabindex="-1"></a>                                                                 total_main_meals_per_year_per_person),</span>
<span id="cb31-1331"><a href="#cb31-1331" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1332"><a href="#cb31-1332" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1333"><a href="#cb31-1333" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_fat_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1334"><a href="#cb31-1334" aria-hidden="true" tabindex="-1"></a>                                                                current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1335"><a href="#cb31-1335" aria-hidden="true" tabindex="-1"></a>                                                                chicken_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1336"><a href="#cb31-1336" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1337"><a href="#cb31-1337" aria-hidden="true" tabindex="-1"></a>                                                                  current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1338"><a href="#cb31-1338" aria-hidden="true" tabindex="-1"></a>                                                                  pork_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1339"><a href="#cb31-1339" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1340"><a href="#cb31-1340" aria-hidden="true" tabindex="-1"></a>                                                                  current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1341"><a href="#cb31-1341" aria-hidden="true" tabindex="-1"></a>                                                                  beef_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1342"><a href="#cb31-1342" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1343"><a href="#cb31-1343" aria-hidden="true" tabindex="-1"></a>                                                                  current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1344"><a href="#cb31-1344" aria-hidden="true" tabindex="-1"></a>                                                                  fish_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1345"><a href="#cb31-1345" aria-hidden="true" tabindex="-1"></a>                                                               (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1346"><a href="#cb31-1346" aria-hidden="true" tabindex="-1"></a>                                                                  current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1347"><a href="#cb31-1347" aria-hidden="true" tabindex="-1"></a>                                                                  prawn_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1348"><a href="#cb31-1348" aria-hidden="true" tabindex="-1"></a>                                                              (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1349"><a href="#cb31-1349" aria-hidden="true" tabindex="-1"></a>                                                                 vegetable_mushroom_raw_per_serve_fat<span class="sc">*</span></span>
<span id="cb31-1350"><a href="#cb31-1350" aria-hidden="true" tabindex="-1"></a>                                                                 total_main_meals_per_year_per_person),</span>
<span id="cb31-1351"><a href="#cb31-1351" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1352"><a href="#cb31-1352" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1353"><a href="#cb31-1353" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_Ca_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1354"><a href="#cb31-1354" aria-hidden="true" tabindex="-1"></a>                                                               current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1355"><a href="#cb31-1355" aria-hidden="true" tabindex="-1"></a>                                                               chicken_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1356"><a href="#cb31-1356" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1357"><a href="#cb31-1357" aria-hidden="true" tabindex="-1"></a>                                                                 current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1358"><a href="#cb31-1358" aria-hidden="true" tabindex="-1"></a>                                                                 pork_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1359"><a href="#cb31-1359" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1360"><a href="#cb31-1360" aria-hidden="true" tabindex="-1"></a>                                                                 current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1361"><a href="#cb31-1361" aria-hidden="true" tabindex="-1"></a>                                                                 beef_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1362"><a href="#cb31-1362" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1363"><a href="#cb31-1363" aria-hidden="true" tabindex="-1"></a>                                                                 current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1364"><a href="#cb31-1364" aria-hidden="true" tabindex="-1"></a>                                                                 fish_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1365"><a href="#cb31-1365" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1366"><a href="#cb31-1366" aria-hidden="true" tabindex="-1"></a>                                                                 current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1367"><a href="#cb31-1367" aria-hidden="true" tabindex="-1"></a>                                                                 prawn_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1368"><a href="#cb31-1368" aria-hidden="true" tabindex="-1"></a>                                                             (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1369"><a href="#cb31-1369" aria-hidden="true" tabindex="-1"></a>                                                                vegetable_mushroom_raw_per_serve_Ca<span class="sc">*</span></span>
<span id="cb31-1370"><a href="#cb31-1370" aria-hidden="true" tabindex="-1"></a>                                                                total_main_meals_per_year_per_person),</span>
<span id="cb31-1371"><a href="#cb31-1371" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-1372"><a href="#cb31-1372" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1373"><a href="#cb31-1373" aria-hidden="true" tabindex="-1"></a>   total_current_protein_food_Fe_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_meals_chicken_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1374"><a href="#cb31-1374" aria-hidden="true" tabindex="-1"></a>                                                               current_chicken_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1375"><a href="#cb31-1375" aria-hidden="true" tabindex="-1"></a>                                                               chicken_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1376"><a href="#cb31-1376" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_pork_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1377"><a href="#cb31-1377" aria-hidden="true" tabindex="-1"></a>                                                                 current_pork_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1378"><a href="#cb31-1378" aria-hidden="true" tabindex="-1"></a>                                                                 pork_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1379"><a href="#cb31-1379" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_beef_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1380"><a href="#cb31-1380" aria-hidden="true" tabindex="-1"></a>                                                                 current_beef_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1381"><a href="#cb31-1381" aria-hidden="true" tabindex="-1"></a>                                                                 beef_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1382"><a href="#cb31-1382" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_fish_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1383"><a href="#cb31-1383" aria-hidden="true" tabindex="-1"></a>                                                                 current_fish_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1384"><a href="#cb31-1384" aria-hidden="true" tabindex="-1"></a>                                                                 fish_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1385"><a href="#cb31-1385" aria-hidden="true" tabindex="-1"></a>                                                              (number_meals_prawn_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1386"><a href="#cb31-1386" aria-hidden="true" tabindex="-1"></a>                                                                 current_prawn_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1387"><a href="#cb31-1387" aria-hidden="true" tabindex="-1"></a>                                                                 prawn_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1388"><a href="#cb31-1388" aria-hidden="true" tabindex="-1"></a>                                                             (current_vegetable_mushroom_intake_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1389"><a href="#cb31-1389" aria-hidden="true" tabindex="-1"></a>                                                                vegetable_mushroom_raw_per_serve_Fe<span class="sc">*</span></span>
<span id="cb31-1390"><a href="#cb31-1390" aria-hidden="true" tabindex="-1"></a>                                                                total_main_meals_per_year_per_person),</span>
<span id="cb31-1391"><a href="#cb31-1391" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-1392"><a href="#cb31-1392" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1393"><a href="#cb31-1393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1394"><a href="#cb31-1394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1395"><a href="#cb31-1395" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust calorie using rice </span></span>
<span id="cb31-1396"><a href="#cb31-1396" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I didn't estimate rice intake but use rice to adjust the model, because athletes may eat</span></span>
<span id="cb31-1397"><a href="#cb31-1397" aria-hidden="true" tabindex="-1"></a>  <span class="co"># food not provided by the kitchen (buy outside food, soft drinks, etc.). Food stalls in the vicinity</span></span>
<span id="cb31-1398"><a href="#cb31-1398" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of MFF aren't known for nutritious foods, so I pool them all together as rice. So, any extra calorie</span></span>
<span id="cb31-1399"><a href="#cb31-1399" aria-hidden="true" tabindex="-1"></a>  <span class="co"># after deducting all calorie would be calorie from rice group. This works because I only want to know</span></span>
<span id="cb31-1400"><a href="#cb31-1400" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if their macronutrient distribution is a problem or not- no need to go detail on their actual intake of nutrients.</span></span>
<span id="cb31-1401"><a href="#cb31-1401" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1402"><a href="#cb31-1402" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total calorie for adjusting (calorie of rice/noodle group)</span></span>
<span id="cb31-1403"><a href="#cb31-1403" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb31-1404"><a href="#cb31-1404" aria-hidden="true" tabindex="-1"></a>   total_current_rice_noodle_kcal_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((current_kcal_intake_yearly_all_athletes<span class="sc">/</span></span>
<span id="cb31-1405"><a href="#cb31-1405" aria-hidden="true" tabindex="-1"></a>                                                               number_athlete) <span class="sc">-</span> </span>
<span id="cb31-1406"><a href="#cb31-1406" aria-hidden="true" tabindex="-1"></a>                                           (total_current_everyday_food_kcal_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1407"><a href="#cb31-1407" aria-hidden="true" tabindex="-1"></a>                                              total_current_protein_food_kcal_per_year_per_person),</span>
<span id="cb31-1408"><a href="#cb31-1408" aria-hidden="true" tabindex="-1"></a>                                         var_CV, n_year)</span>
<span id="cb31-1409"><a href="#cb31-1409" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1410"><a href="#cb31-1410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1411"><a href="#cb31-1411" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change kcal of rice into serve of rice</span></span>
<span id="cb31-1412"><a href="#cb31-1412" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1413"><a href="#cb31-1413" aria-hidden="true" tabindex="-1"></a>  rice_serve <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_rice_noodle_kcal_per_year_per_person<span class="sc">/</span> rice_noodle_cooked_per_serve_kcal,</span>
<span id="cb31-1414"><a href="#cb31-1414" aria-hidden="true" tabindex="-1"></a>                   var_CV, n_year)</span>
<span id="cb31-1415"><a href="#cb31-1415" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1416"><a href="#cb31-1416" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate nutrient distribution for rice/noodle intake</span></span>
<span id="cb31-1417"><a href="#cb31-1417" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1418"><a href="#cb31-1418" aria-hidden="true" tabindex="-1"></a>  total_current_rice_noodle_protein_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(rice_serve<span class="sc">*</span></span>
<span id="cb31-1419"><a href="#cb31-1419" aria-hidden="true" tabindex="-1"></a>                                                             rice_noodle_cooked_per_serve_protein,</span>
<span id="cb31-1420"><a href="#cb31-1420" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year )</span>
<span id="cb31-1421"><a href="#cb31-1421" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1422"><a href="#cb31-1422" aria-hidden="true" tabindex="-1"></a>  total_current_rice_noodle_CHO_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(rice_serve<span class="sc">*</span></span>
<span id="cb31-1423"><a href="#cb31-1423" aria-hidden="true" tabindex="-1"></a>                                                             rice_noodle_cooked_per_serve_CHO,</span>
<span id="cb31-1424"><a href="#cb31-1424" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year )</span>
<span id="cb31-1425"><a href="#cb31-1425" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1426"><a href="#cb31-1426" aria-hidden="true" tabindex="-1"></a>  total_current_rice_noodle_fat_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(rice_serve<span class="sc">*</span></span>
<span id="cb31-1427"><a href="#cb31-1427" aria-hidden="true" tabindex="-1"></a>                                                             rice_noodle_cooked_per_serve_fat,</span>
<span id="cb31-1428"><a href="#cb31-1428" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year )</span>
<span id="cb31-1429"><a href="#cb31-1429" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1430"><a href="#cb31-1430" aria-hidden="true" tabindex="-1"></a>  total_current_rice_noodle_Ca_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(rice_serve<span class="sc">*</span></span>
<span id="cb31-1431"><a href="#cb31-1431" aria-hidden="true" tabindex="-1"></a>                                                             rice_noodle_cooked_per_serve_Ca,</span>
<span id="cb31-1432"><a href="#cb31-1432" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year )</span>
<span id="cb31-1433"><a href="#cb31-1433" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1434"><a href="#cb31-1434" aria-hidden="true" tabindex="-1"></a>  total_current_rice_noodle_Fe_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(rice_serve<span class="sc">*</span></span>
<span id="cb31-1435"><a href="#cb31-1435" aria-hidden="true" tabindex="-1"></a>                                                             rice_noodle_cooked_per_serve_Fe,</span>
<span id="cb31-1436"><a href="#cb31-1436" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year )</span>
<span id="cb31-1437"><a href="#cb31-1437" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1438"><a href="#cb31-1438" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1439"><a href="#cb31-1439" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total kcal, carb, protein, fat, calcium and iron for one person</span></span>
<span id="cb31-1440"><a href="#cb31-1440" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1441"><a href="#cb31-1441" aria-hidden="true" tabindex="-1"></a>  total_current_kcal_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_kcal_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1442"><a href="#cb31-1442" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_kcal_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1443"><a href="#cb31-1443" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_kcal_per_year_per_person,</span>
<span id="cb31-1444"><a href="#cb31-1444" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1445"><a href="#cb31-1445" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1446"><a href="#cb31-1446" aria-hidden="true" tabindex="-1"></a>  total_current_protein_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_protein_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1447"><a href="#cb31-1447" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_protein_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1448"><a href="#cb31-1448" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_protein_per_year_per_person,</span>
<span id="cb31-1449"><a href="#cb31-1449" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1450"><a href="#cb31-1450" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1451"><a href="#cb31-1451" aria-hidden="true" tabindex="-1"></a>  total_current_CHO_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_CHO_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1452"><a href="#cb31-1452" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_CHO_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1453"><a href="#cb31-1453" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_CHO_per_year_per_person,</span>
<span id="cb31-1454"><a href="#cb31-1454" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1455"><a href="#cb31-1455" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1456"><a href="#cb31-1456" aria-hidden="true" tabindex="-1"></a>  total_current_fat_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_fat_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1457"><a href="#cb31-1457" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_fat_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1458"><a href="#cb31-1458" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_fat_per_year_per_person,</span>
<span id="cb31-1459"><a href="#cb31-1459" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1460"><a href="#cb31-1460" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1461"><a href="#cb31-1461" aria-hidden="true" tabindex="-1"></a>  total_current_Ca_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_Ca_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1462"><a href="#cb31-1462" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_Ca_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1463"><a href="#cb31-1463" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_Ca_per_year_per_person,</span>
<span id="cb31-1464"><a href="#cb31-1464" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1465"><a href="#cb31-1465" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1466"><a href="#cb31-1466" aria-hidden="true" tabindex="-1"></a>  total_current_Fe_intake_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_everyday_food_Fe_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1467"><a href="#cb31-1467" aria-hidden="true" tabindex="-1"></a>                                                        total_current_protein_food_Fe_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1468"><a href="#cb31-1468" aria-hidden="true" tabindex="-1"></a>                                                        total_current_rice_noodle_Fe_per_year_per_person,</span>
<span id="cb31-1469"><a href="#cb31-1469" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1470"><a href="#cb31-1470" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1471"><a href="#cb31-1471" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1472"><a href="#cb31-1472" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1473"><a href="#cb31-1473" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total kcal, carb, protein, fat for all athletes</span></span>
<span id="cb31-1474"><a href="#cb31-1474" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1475"><a href="#cb31-1475" aria-hidden="true" tabindex="-1"></a>  total_current_kcal_intake_per_year_all_athlete <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_kcal_intake_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1476"><a href="#cb31-1476" aria-hidden="true" tabindex="-1"></a>                                                         number_athlete,</span>
<span id="cb31-1477"><a href="#cb31-1477" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1478"><a href="#cb31-1478" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1479"><a href="#cb31-1479" aria-hidden="true" tabindex="-1"></a>  total_current_protein_intake_per_year_all_athlete <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_protein_intake_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1480"><a href="#cb31-1480" aria-hidden="true" tabindex="-1"></a>                                                         number_athlete,</span>
<span id="cb31-1481"><a href="#cb31-1481" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1482"><a href="#cb31-1482" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1483"><a href="#cb31-1483" aria-hidden="true" tabindex="-1"></a>  total_current_CHO_intake_per_year_all_athlete <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_CHO_intake_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1484"><a href="#cb31-1484" aria-hidden="true" tabindex="-1"></a>                                                         number_athlete,</span>
<span id="cb31-1485"><a href="#cb31-1485" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1486"><a href="#cb31-1486" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1487"><a href="#cb31-1487" aria-hidden="true" tabindex="-1"></a>  total_current_fat_intake_per_year_all_athlete <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_current_fat_intake_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1488"><a href="#cb31-1488" aria-hidden="true" tabindex="-1"></a>                                                         number_athlete,</span>
<span id="cb31-1489"><a href="#cb31-1489" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1490"><a href="#cb31-1490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1491"><a href="#cb31-1491" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1492"><a href="#cb31-1492" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Model check </span></span>
<span id="cb31-1493"><a href="#cb31-1493" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1494"><a href="#cb31-1494" aria-hidden="true" tabindex="-1"></a>  model_check_current_kcal <span class="ot">&lt;-</span> <span class="fu">vv</span>(current_kcal_intake_yearly_all_athletes,</span>
<span id="cb31-1495"><a href="#cb31-1495" aria-hidden="true" tabindex="-1"></a>                                 var_CV, n_year)</span>
<span id="cb31-1496"><a href="#cb31-1496" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1497"><a href="#cb31-1497" aria-hidden="true" tabindex="-1"></a>  total_protein_need_gram <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_protein_need_gram,</span>
<span id="cb31-1498"><a href="#cb31-1498" aria-hidden="true" tabindex="-1"></a>                                var_CV, n_year)</span>
<span id="cb31-1499"><a href="#cb31-1499" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1500"><a href="#cb31-1500" aria-hidden="true" tabindex="-1"></a>  total_carb_need_gram <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_carb_need_gram,</span>
<span id="cb31-1501"><a href="#cb31-1501" aria-hidden="true" tabindex="-1"></a>                             var_CV, n_year)</span>
<span id="cb31-1502"><a href="#cb31-1502" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1503"><a href="#cb31-1503" aria-hidden="true" tabindex="-1"></a>  total_fat_need_gram <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_need_gram,</span>
<span id="cb31-1504"><a href="#cb31-1504" aria-hidden="true" tabindex="-1"></a>                            var_CV, n_year)</span>
<span id="cb31-1505"><a href="#cb31-1505" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1506"><a href="#cb31-1506" aria-hidden="true" tabindex="-1"></a>  total_kcal_need_yearly <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_kcal_need_all_athletes,</span>
<span id="cb31-1507"><a href="#cb31-1507" aria-hidden="true" tabindex="-1"></a>                               var_CV, n_year)</span>
<span id="cb31-1508"><a href="#cb31-1508" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1509"><a href="#cb31-1509" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1510"><a href="#cb31-1510" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Yearly RDI amount for calcium and iron</span></span>
<span id="cb31-1511"><a href="#cb31-1511" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1512"><a href="#cb31-1512" aria-hidden="true" tabindex="-1"></a>  yearly_Ca_rdi <span class="ot">&lt;-</span> <span class="fu">vv</span>(RDI_Ca <span class="sc">*</span> total_training_days_per_year,</span>
<span id="cb31-1513"><a href="#cb31-1513" aria-hidden="true" tabindex="-1"></a>                      var_CV, n_year)</span>
<span id="cb31-1514"><a href="#cb31-1514" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1515"><a href="#cb31-1515" aria-hidden="true" tabindex="-1"></a>  yearly_Fe_rdi <span class="ot">&lt;-</span> <span class="fu">vv</span>(RDI_Fe <span class="sc">*</span> total_training_days_per_year,</span>
<span id="cb31-1516"><a href="#cb31-1516" aria-hidden="true" tabindex="-1"></a>                           var_CV, n_year)</span>
<span id="cb31-1517"><a href="#cb31-1517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1518"><a href="#cb31-1518" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1519"><a href="#cb31-1519" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1520"><a href="#cb31-1520" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-1521"><a href="#cb31-1521" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1522"><a href="#cb31-1522" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Calculate servings per food to provide based on macronutrient needs </span></span>
<span id="cb31-1523"><a href="#cb31-1523" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1524"><a href="#cb31-1524" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate serving of food to meet protein needs</span></span>
<span id="cb31-1525"><a href="#cb31-1525" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1526"><a href="#cb31-1526" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total protein needs for before and after training </span></span>
<span id="cb31-1527"><a href="#cb31-1527" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If there is two training sessions per day</span></span>
<span id="cb31-1528"><a href="#cb31-1528" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1529"><a href="#cb31-1529" aria-hidden="true" tabindex="-1"></a>  two_trainings_per_day <span class="ot">&lt;-</span> <span class="fu">chance_event</span>(chance_two_trainings_day,</span>
<span id="cb31-1530"><a href="#cb31-1530" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">value_if =</span> <span class="dv">1</span>,</span>
<span id="cb31-1531"><a href="#cb31-1531" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">value_if_not =</span> <span class="dv">0</span>)</span>
<span id="cb31-1532"><a href="#cb31-1532" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1533"><a href="#cb31-1533" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of snack times (to be used in next model)</span></span>
<span id="cb31-1534"><a href="#cb31-1534" aria-hidden="true" tabindex="-1"></a>  total_snack_time_per_year_all_athletes <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1535"><a href="#cb31-1535" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year<span class="sc">*</span>number_athlete<span class="sc">*</span><span class="dv">4</span></span>
<span id="cb31-1536"><a href="#cb31-1536" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb31-1537"><a href="#cb31-1537" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year<span class="sc">*</span>number_athlete<span class="sc">*</span><span class="dv">2</span></span>
<span id="cb31-1538"><a href="#cb31-1538" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1539"><a href="#cb31-1539" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1540"><a href="#cb31-1540" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate protein for snacks</span></span>
<span id="cb31-1541"><a href="#cb31-1541" aria-hidden="true" tabindex="-1"></a>  before_training_protein_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1542"><a href="#cb31-1542" aria-hidden="true" tabindex="-1"></a>    before_training_protein_g <span class="sc">*</span> total_training_days_per_year <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb31-1543"><a href="#cb31-1543" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb31-1544"><a href="#cb31-1544" aria-hidden="true" tabindex="-1"></a>    before_training_protein_g <span class="sc">*</span> total_training_days_per_year</span>
<span id="cb31-1545"><a href="#cb31-1545" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1546"><a href="#cb31-1546" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1547"><a href="#cb31-1547" aria-hidden="true" tabindex="-1"></a>  after_training_protein_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1548"><a href="#cb31-1548" aria-hidden="true" tabindex="-1"></a>    after_training_protein_g_per_kg <span class="sc">*</span> weight_athlete <span class="sc">*</span> total_training_days_per_year <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb31-1549"><a href="#cb31-1549" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb31-1550"><a href="#cb31-1550" aria-hidden="true" tabindex="-1"></a>    after_training_protein_g_per_kg <span class="sc">*</span> weight_athlete <span class="sc">*</span> total_training_days_per_year</span>
<span id="cb31-1551"><a href="#cb31-1551" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1552"><a href="#cb31-1552" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1553"><a href="#cb31-1553" aria-hidden="true" tabindex="-1"></a>  total_before_after_training_protein_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(before_training_protein_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1554"><a href="#cb31-1554" aria-hidden="true" tabindex="-1"></a>                                                                       after_training_protein_gram_per_year_per_person,</span>
<span id="cb31-1555"><a href="#cb31-1555" aria-hidden="true" tabindex="-1"></a>                                                                     var_CV, n_year)</span>
<span id="cb31-1556"><a href="#cb31-1556" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1557"><a href="#cb31-1557" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate serve of food for protein before/after training</span></span>
<span id="cb31-1558"><a href="#cb31-1558" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1559"><a href="#cb31-1559" aria-hidden="true" tabindex="-1"></a>  total_training_provided_protein_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1560"><a href="#cb31-1560" aria-hidden="true" tabindex="-1"></a>    ((provided_egg_intake_serve_per_day <span class="sc">*</span> egg_whole_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1561"><a href="#cb31-1561" aria-hidden="true" tabindex="-1"></a>      (provided_dairy_intake_serve_per_day <span class="sc">*</span> dairy_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1562"><a href="#cb31-1562" aria-hidden="true" tabindex="-1"></a>      (provided_sandwich_intake_serve_per_day <span class="sc">*</span> sandwich_per_serve_protein)) <span class="sc">*</span> total_training_days_per_year</span>
<span id="cb31-1563"><a href="#cb31-1563" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb31-1564"><a href="#cb31-1564" aria-hidden="true" tabindex="-1"></a>    ((provided_egg_intake_serve_per_day <span class="sc">*</span> egg_whole_per_serve_protein <span class="sc">*</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb31-1565"><a href="#cb31-1565" aria-hidden="true" tabindex="-1"></a>        (provided_dairy_intake_serve_per_day <span class="sc">*</span> dairy_per_serve_protein <span class="sc">*</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb31-1566"><a href="#cb31-1566" aria-hidden="true" tabindex="-1"></a>        (provided_sandwich_intake_serve_per_day <span class="sc">*</span> sandwich_per_serve_protein<span class="sc">*</span> <span class="fl">0.5</span>))<span class="sc">*</span>total_training_days_per_year</span>
<span id="cb31-1567"><a href="#cb31-1567" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1568"><a href="#cb31-1568" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1569"><a href="#cb31-1569" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1570"><a href="#cb31-1570" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total egg servings </span></span>
<span id="cb31-1571"><a href="#cb31-1571" aria-hidden="true" tabindex="-1"></a>  total_egg_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1572"><a href="#cb31-1572" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> (provided_egg_intake_serve_per_day)</span>
<span id="cb31-1573"><a href="#cb31-1573" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb31-1574"><a href="#cb31-1574" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> (provided_egg_intake_serve_per_day) <span class="sc">*</span> <span class="fl">0.5</span></span>
<span id="cb31-1575"><a href="#cb31-1575" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1576"><a href="#cb31-1576" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1577"><a href="#cb31-1577" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total dairy servings</span></span>
<span id="cb31-1578"><a href="#cb31-1578" aria-hidden="true" tabindex="-1"></a>  total_dairy_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1579"><a href="#cb31-1579" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> provided_dairy_intake_serve_per_day</span>
<span id="cb31-1580"><a href="#cb31-1580" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb31-1581"><a href="#cb31-1581" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> provided_dairy_intake_serve_per_day <span class="sc">*</span><span class="fl">0.5</span></span>
<span id="cb31-1582"><a href="#cb31-1582" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1583"><a href="#cb31-1583" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1584"><a href="#cb31-1584" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total sandwich servings</span></span>
<span id="cb31-1585"><a href="#cb31-1585" aria-hidden="true" tabindex="-1"></a>  total_sandwich_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="cf">if</span>(two_trainings_per_day <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-1586"><a href="#cb31-1586" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> provided_sandwich_intake_serve_per_day </span>
<span id="cb31-1587"><a href="#cb31-1587" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb31-1588"><a href="#cb31-1588" aria-hidden="true" tabindex="-1"></a>    total_training_days_per_year <span class="sc">*</span> provided_sandwich_intake_serve_per_day <span class="sc">*</span> <span class="fl">0.5</span></span>
<span id="cb31-1589"><a href="#cb31-1589" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-1590"><a href="#cb31-1590" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1591"><a href="#cb31-1591" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate protein gram from fixed serves of vegetable, bean, fruit and sports drink</span></span>
<span id="cb31-1592"><a href="#cb31-1592" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1593"><a href="#cb31-1593" aria-hidden="true" tabindex="-1"></a>  total_fixed_serves_protein_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((provided_vegetable_mushroom_serve_per_day<span class="sc">*</span></span>
<span id="cb31-1594"><a href="#cb31-1594" aria-hidden="true" tabindex="-1"></a>                                                               vegetable_mushroom_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1595"><a href="#cb31-1595" aria-hidden="true" tabindex="-1"></a>                                                               (provided_bean_nut_intake_serve_per_day<span class="sc">*</span></span>
<span id="cb31-1596"><a href="#cb31-1596" aria-hidden="true" tabindex="-1"></a>                                                                  bean_nut_raw_per_serve_protein)<span class="sc">+</span></span>
<span id="cb31-1597"><a href="#cb31-1597" aria-hidden="true" tabindex="-1"></a>                                                               (provided_fruit_intake_serve_per_day<span class="sc">*</span></span>
<span id="cb31-1598"><a href="#cb31-1598" aria-hidden="true" tabindex="-1"></a>                                                                  fruit_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1599"><a href="#cb31-1599" aria-hidden="true" tabindex="-1"></a>                                                               (sports_drink_bot_per_day<span class="sc">*</span></span>
<span id="cb31-1600"><a href="#cb31-1600" aria-hidden="true" tabindex="-1"></a>                                                                  sports_drink_protein))<span class="sc">*</span></span>
<span id="cb31-1601"><a href="#cb31-1601" aria-hidden="true" tabindex="-1"></a>                                                              total_training_days_per_year,</span>
<span id="cb31-1602"><a href="#cb31-1602" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-1603"><a href="#cb31-1603" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1604"><a href="#cb31-1604" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total vegetable/mushroom serving</span></span>
<span id="cb31-1605"><a href="#cb31-1605" aria-hidden="true" tabindex="-1"></a>  total_vegetable_mushroom_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_vegetable_mushroom_serve_per_day<span class="sc">*</span></span>
<span id="cb31-1606"><a href="#cb31-1606" aria-hidden="true" tabindex="-1"></a>                                                               total_training_days_per_year,</span>
<span id="cb31-1607"><a href="#cb31-1607" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1608"><a href="#cb31-1608" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1609"><a href="#cb31-1609" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total bean/nut serving</span></span>
<span id="cb31-1610"><a href="#cb31-1610" aria-hidden="true" tabindex="-1"></a>  total_bean_nut_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_bean_nut_intake_serve_per_day <span class="sc">*</span></span>
<span id="cb31-1611"><a href="#cb31-1611" aria-hidden="true" tabindex="-1"></a>                                                     total_training_days_per_year,</span>
<span id="cb31-1612"><a href="#cb31-1612" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-1613"><a href="#cb31-1613" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1614"><a href="#cb31-1614" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total fruit serving</span></span>
<span id="cb31-1615"><a href="#cb31-1615" aria-hidden="true" tabindex="-1"></a>  total_fruit_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_fruit_intake_serve_per_day<span class="sc">*</span></span>
<span id="cb31-1616"><a href="#cb31-1616" aria-hidden="true" tabindex="-1"></a>                                                  total_training_days_per_year,</span>
<span id="cb31-1617"><a href="#cb31-1617" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1618"><a href="#cb31-1618" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1619"><a href="#cb31-1619" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total sports drink bottles</span></span>
<span id="cb31-1620"><a href="#cb31-1620" aria-hidden="true" tabindex="-1"></a>  total_sports_drink_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(sports_drink_bot_per_day<span class="sc">*</span></span>
<span id="cb31-1621"><a href="#cb31-1621" aria-hidden="true" tabindex="-1"></a>                                                         total_training_days_per_year,</span>
<span id="cb31-1622"><a href="#cb31-1622" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1623"><a href="#cb31-1623" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1624"><a href="#cb31-1624" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate allocated protein (gram) for main meals</span></span>
<span id="cb31-1625"><a href="#cb31-1625" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1626"><a href="#cb31-1626" aria-hidden="true" tabindex="-1"></a>  protein_gram_for_main_meals <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_protein_need_gram<span class="sc">/</span>number_athlete)<span class="sc">-</span> </span>
<span id="cb31-1627"><a href="#cb31-1627" aria-hidden="true" tabindex="-1"></a>                                      (total_training_provided_protein_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1628"><a href="#cb31-1628" aria-hidden="true" tabindex="-1"></a>                                         total_fixed_serves_protein_gram_per_year_per_person),</span>
<span id="cb31-1629"><a href="#cb31-1629" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-1630"><a href="#cb31-1630" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1631"><a href="#cb31-1631" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1632"><a href="#cb31-1632" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the new allocation of protein foods for main meals</span></span>
<span id="cb31-1633"><a href="#cb31-1633" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1634"><a href="#cb31-1634" aria-hidden="true" tabindex="-1"></a>  number_provided_chicken_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1635"><a href="#cb31-1635" aria-hidden="true" tabindex="-1"></a>                                                            chicken_frequency,</span>
<span id="cb31-1636"><a href="#cb31-1636" aria-hidden="true" tabindex="-1"></a>                                                          var_CV, n_year)</span>
<span id="cb31-1637"><a href="#cb31-1637" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1638"><a href="#cb31-1638" aria-hidden="true" tabindex="-1"></a>  number_provided_pork_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1639"><a href="#cb31-1639" aria-hidden="true" tabindex="-1"></a>                                                         pork_frequency_new,</span>
<span id="cb31-1640"><a href="#cb31-1640" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1641"><a href="#cb31-1641" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1642"><a href="#cb31-1642" aria-hidden="true" tabindex="-1"></a>  number_provided_beef_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1643"><a href="#cb31-1643" aria-hidden="true" tabindex="-1"></a>                                                         beef_frequency_new,</span>
<span id="cb31-1644"><a href="#cb31-1644" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1645"><a href="#cb31-1645" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1646"><a href="#cb31-1646" aria-hidden="true" tabindex="-1"></a>  number_provided_fish_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1647"><a href="#cb31-1647" aria-hidden="true" tabindex="-1"></a>                                                         fish_frequency_new,</span>
<span id="cb31-1648"><a href="#cb31-1648" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1649"><a href="#cb31-1649" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1650"><a href="#cb31-1650" aria-hidden="true" tabindex="-1"></a>  number_provided_prawn_meals_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_main_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1651"><a href="#cb31-1651" aria-hidden="true" tabindex="-1"></a>                                                          prawn_frequency,</span>
<span id="cb31-1652"><a href="#cb31-1652" aria-hidden="true" tabindex="-1"></a>                                                        var_CV, n_year)</span>
<span id="cb31-1653"><a href="#cb31-1653" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1654"><a href="#cb31-1654" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total protein (gram) of provided protein foods</span></span>
<span id="cb31-1655"><a href="#cb31-1655" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1656"><a href="#cb31-1656" aria-hidden="true" tabindex="-1"></a>  total_provided_protein_food_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((number_provided_chicken_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1657"><a href="#cb31-1657" aria-hidden="true" tabindex="-1"></a>                                                                provided_chicken_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1658"><a href="#cb31-1658" aria-hidden="true" tabindex="-1"></a>                                                                chicken_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1659"><a href="#cb31-1659" aria-hidden="true" tabindex="-1"></a>                                                               (number_provided_pork_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1660"><a href="#cb31-1660" aria-hidden="true" tabindex="-1"></a>                                                                  provided_pork_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1661"><a href="#cb31-1661" aria-hidden="true" tabindex="-1"></a>                                                                  pork_raw_per_serve_protein) <span class="sc">+</span></span>
<span id="cb31-1662"><a href="#cb31-1662" aria-hidden="true" tabindex="-1"></a>                                                               (number_provided_beef_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1663"><a href="#cb31-1663" aria-hidden="true" tabindex="-1"></a>                                                                  provided_beef_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1664"><a href="#cb31-1664" aria-hidden="true" tabindex="-1"></a>                                                                  beef_raw_per_serve_protein)<span class="sc">+</span></span>
<span id="cb31-1665"><a href="#cb31-1665" aria-hidden="true" tabindex="-1"></a>                                                               (number_provided_fish_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1666"><a href="#cb31-1666" aria-hidden="true" tabindex="-1"></a>                                                                  provided_fish_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1667"><a href="#cb31-1667" aria-hidden="true" tabindex="-1"></a>                                                                  fish_raw_per_serve_protein)<span class="sc">+</span></span>
<span id="cb31-1668"><a href="#cb31-1668" aria-hidden="true" tabindex="-1"></a>                                                               (number_provided_prawn_meals_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1669"><a href="#cb31-1669" aria-hidden="true" tabindex="-1"></a>                                                                  provided_prawn_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1670"><a href="#cb31-1670" aria-hidden="true" tabindex="-1"></a>                                                                  prawn_raw_per_serve_protein),</span>
<span id="cb31-1671"><a href="#cb31-1671" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-1672"><a href="#cb31-1672" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1673"><a href="#cb31-1673" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total chicken serving</span></span>
<span id="cb31-1674"><a href="#cb31-1674" aria-hidden="true" tabindex="-1"></a>  total_chicken_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_chicken_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1675"><a href="#cb31-1675" aria-hidden="true" tabindex="-1"></a>                                                    total_training_days_per_year,</span>
<span id="cb31-1676"><a href="#cb31-1676" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1677"><a href="#cb31-1677" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1678"><a href="#cb31-1678" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total pork serving</span></span>
<span id="cb31-1679"><a href="#cb31-1679" aria-hidden="true" tabindex="-1"></a>  total_pork_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_pork_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1680"><a href="#cb31-1680" aria-hidden="true" tabindex="-1"></a>                                                 total_training_days_per_year,</span>
<span id="cb31-1681"><a href="#cb31-1681" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-1682"><a href="#cb31-1682" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1683"><a href="#cb31-1683" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total beef serving</span></span>
<span id="cb31-1684"><a href="#cb31-1684" aria-hidden="true" tabindex="-1"></a>  total_beef_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_beef_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1685"><a href="#cb31-1685" aria-hidden="true" tabindex="-1"></a>                                                 total_training_days_per_year,</span>
<span id="cb31-1686"><a href="#cb31-1686" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-1687"><a href="#cb31-1687" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1688"><a href="#cb31-1688" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total fish serving</span></span>
<span id="cb31-1689"><a href="#cb31-1689" aria-hidden="true" tabindex="-1"></a>  total_fish_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_fish_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1690"><a href="#cb31-1690" aria-hidden="true" tabindex="-1"></a>                                                 total_training_days_per_year,</span>
<span id="cb31-1691"><a href="#cb31-1691" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-1692"><a href="#cb31-1692" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1693"><a href="#cb31-1693" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total prawn serving</span></span>
<span id="cb31-1694"><a href="#cb31-1694" aria-hidden="true" tabindex="-1"></a>  total_prawn_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(provided_prawn_serve_per_meal<span class="sc">*</span></span>
<span id="cb31-1695"><a href="#cb31-1695" aria-hidden="true" tabindex="-1"></a>                                                  total_training_days_per_year,</span>
<span id="cb31-1696"><a href="#cb31-1696" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1697"><a href="#cb31-1697" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1698"><a href="#cb31-1698" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total provided protein food in gram for all athletes</span></span>
<span id="cb31-1699"><a href="#cb31-1699" aria-hidden="true" tabindex="-1"></a>  total_protein_food_gram_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_training_provided_protein_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1700"><a href="#cb31-1700" aria-hidden="true" tabindex="-1"></a>                                                        total_fixed_serves_protein_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1701"><a href="#cb31-1701" aria-hidden="true" tabindex="-1"></a>                                                        total_provided_protein_food_gram_per_year_per_person)<span class="sc">*</span></span>
<span id="cb31-1702"><a href="#cb31-1702" aria-hidden="true" tabindex="-1"></a>                                                        number_athlete,</span>
<span id="cb31-1703"><a href="#cb31-1703" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1704"><a href="#cb31-1704" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1705"><a href="#cb31-1705" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1706"><a href="#cb31-1706" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate serving of rice/noodle group to meet carbohydrate needs</span></span>
<span id="cb31-1707"><a href="#cb31-1707" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1708"><a href="#cb31-1708" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate carbohydate (g) provided by protein and fix-served groups</span></span>
<span id="cb31-1709"><a href="#cb31-1709" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1710"><a href="#cb31-1710" aria-hidden="true" tabindex="-1"></a>  total_carb_from_protein_group_gram_per_year_per_person <span class="ot">&lt;-</span><span class="fu">vv</span>((total_egg_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1711"><a href="#cb31-1711" aria-hidden="true" tabindex="-1"></a>                                                                 egg_whole_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1712"><a href="#cb31-1712" aria-hidden="true" tabindex="-1"></a>                                                                (total_dairy_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1713"><a href="#cb31-1713" aria-hidden="true" tabindex="-1"></a>                                                                   dairy_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1714"><a href="#cb31-1714" aria-hidden="true" tabindex="-1"></a>                                                                (total_sandwich_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1715"><a href="#cb31-1715" aria-hidden="true" tabindex="-1"></a>                                                                   sandwich_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1716"><a href="#cb31-1716" aria-hidden="true" tabindex="-1"></a>                                                                (total_vegetable_mushroom_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1717"><a href="#cb31-1717" aria-hidden="true" tabindex="-1"></a>                                                                   vegetable_mushroom_raw_per_serve_CHO) <span class="sc">+</span></span>
<span id="cb31-1718"><a href="#cb31-1718" aria-hidden="true" tabindex="-1"></a>                                                                (total_bean_nut_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1719"><a href="#cb31-1719" aria-hidden="true" tabindex="-1"></a>                                                                   bean_nut_raw_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1720"><a href="#cb31-1720" aria-hidden="true" tabindex="-1"></a>                                                                (total_fruit_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1721"><a href="#cb31-1721" aria-hidden="true" tabindex="-1"></a>                                                                   fruit_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1722"><a href="#cb31-1722" aria-hidden="true" tabindex="-1"></a>                                                                (total_sports_drink_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1723"><a href="#cb31-1723" aria-hidden="true" tabindex="-1"></a>                                                                   sports_drink_CHO)<span class="sc">+</span></span>
<span id="cb31-1724"><a href="#cb31-1724" aria-hidden="true" tabindex="-1"></a>                                                                (total_chicken_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1725"><a href="#cb31-1725" aria-hidden="true" tabindex="-1"></a>                                                                   chicken_raw_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1726"><a href="#cb31-1726" aria-hidden="true" tabindex="-1"></a>                                                                (total_pork_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1727"><a href="#cb31-1727" aria-hidden="true" tabindex="-1"></a>                                                                   pork_raw_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1728"><a href="#cb31-1728" aria-hidden="true" tabindex="-1"></a>                                                                (total_beef_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1729"><a href="#cb31-1729" aria-hidden="true" tabindex="-1"></a>                                                                   beef_raw_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1730"><a href="#cb31-1730" aria-hidden="true" tabindex="-1"></a>                                                                (total_fish_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1731"><a href="#cb31-1731" aria-hidden="true" tabindex="-1"></a>                                                                   fish_raw_per_serve_CHO)<span class="sc">+</span></span>
<span id="cb31-1732"><a href="#cb31-1732" aria-hidden="true" tabindex="-1"></a>                                                                (total_prawn_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1733"><a href="#cb31-1733" aria-hidden="true" tabindex="-1"></a>                                                                   prawn_raw_per_serve_CHO),</span>
<span id="cb31-1734"><a href="#cb31-1734" aria-hidden="true" tabindex="-1"></a>                                                              var_CV, n_year)</span>
<span id="cb31-1735"><a href="#cb31-1735" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1736"><a href="#cb31-1736" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1737"><a href="#cb31-1737" aria-hidden="true" tabindex="-1"></a>  carb_from_rice_noodle_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_carb_need_gram<span class="sc">/</span>number_athlete) <span class="sc">-</span></span>
<span id="cb31-1738"><a href="#cb31-1738" aria-hidden="true" tabindex="-1"></a>                                                  total_carb_from_protein_group_gram_per_year_per_person,</span>
<span id="cb31-1739"><a href="#cb31-1739" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1740"><a href="#cb31-1740" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1741"><a href="#cb31-1741" aria-hidden="true" tabindex="-1"></a>  total_rice_noodle_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(carb_from_rice_noodle_per_year_per_person<span class="sc">/</span></span>
<span id="cb31-1742"><a href="#cb31-1742" aria-hidden="true" tabindex="-1"></a>                                                        rice_noodle_gram_per_serve,</span>
<span id="cb31-1743"><a href="#cb31-1743" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1744"><a href="#cb31-1744" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1745"><a href="#cb31-1745" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1746"><a href="#cb31-1746" aria-hidden="true" tabindex="-1"></a>  total_carb_food_gram_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_carb_from_protein_group_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1747"><a href="#cb31-1747" aria-hidden="true" tabindex="-1"></a>                                                     carb_from_rice_noodle_per_year_per_person)<span class="sc">*</span></span>
<span id="cb31-1748"><a href="#cb31-1748" aria-hidden="true" tabindex="-1"></a>                                                     number_athlete,</span>
<span id="cb31-1749"><a href="#cb31-1749" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-1750"><a href="#cb31-1750" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1751"><a href="#cb31-1751" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb31-1752"><a href="#cb31-1752" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1753"><a href="#cb31-1753" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate serving of fat/oil group to meet fat needs</span></span>
<span id="cb31-1754"><a href="#cb31-1754" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1755"><a href="#cb31-1755" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate fat (g) already provided by previous food groups</span></span>
<span id="cb31-1756"><a href="#cb31-1756" aria-hidden="true" tabindex="-1"></a>  total_fat_from_food_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_egg_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1757"><a href="#cb31-1757" aria-hidden="true" tabindex="-1"></a>                                                        egg_whole_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1758"><a href="#cb31-1758" aria-hidden="true" tabindex="-1"></a>                                                       (total_dairy_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1759"><a href="#cb31-1759" aria-hidden="true" tabindex="-1"></a>                                                          dairy_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1760"><a href="#cb31-1760" aria-hidden="true" tabindex="-1"></a>                                                       (total_sandwich_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1761"><a href="#cb31-1761" aria-hidden="true" tabindex="-1"></a>                                                          sandwich_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1762"><a href="#cb31-1762" aria-hidden="true" tabindex="-1"></a>                                                       (total_vegetable_mushroom_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1763"><a href="#cb31-1763" aria-hidden="true" tabindex="-1"></a>                                                          vegetable_mushroom_raw_per_serve_fat) <span class="sc">+</span></span>
<span id="cb31-1764"><a href="#cb31-1764" aria-hidden="true" tabindex="-1"></a>                                                       (total_bean_nut_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1765"><a href="#cb31-1765" aria-hidden="true" tabindex="-1"></a>                                                          bean_nut_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1766"><a href="#cb31-1766" aria-hidden="true" tabindex="-1"></a>                                                       (total_fruit_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1767"><a href="#cb31-1767" aria-hidden="true" tabindex="-1"></a>                                                          fruit_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1768"><a href="#cb31-1768" aria-hidden="true" tabindex="-1"></a>                                                       (total_chicken_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1769"><a href="#cb31-1769" aria-hidden="true" tabindex="-1"></a>                                                          chicken_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1770"><a href="#cb31-1770" aria-hidden="true" tabindex="-1"></a>                                                       (total_pork_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1771"><a href="#cb31-1771" aria-hidden="true" tabindex="-1"></a>                                                          pork_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1772"><a href="#cb31-1772" aria-hidden="true" tabindex="-1"></a>                                                       (total_beef_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1773"><a href="#cb31-1773" aria-hidden="true" tabindex="-1"></a>                                                          beef_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1774"><a href="#cb31-1774" aria-hidden="true" tabindex="-1"></a>                                                       (total_fish_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1775"><a href="#cb31-1775" aria-hidden="true" tabindex="-1"></a>                                                          fish_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1776"><a href="#cb31-1776" aria-hidden="true" tabindex="-1"></a>                                                       (total_prawn_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1777"><a href="#cb31-1777" aria-hidden="true" tabindex="-1"></a>                                                          prawn_raw_per_serve_fat)<span class="sc">+</span></span>
<span id="cb31-1778"><a href="#cb31-1778" aria-hidden="true" tabindex="-1"></a>                                                       (total_rice_noodle_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1779"><a href="#cb31-1779" aria-hidden="true" tabindex="-1"></a>                                                          rice_noodle_cooked_per_serve_fat),</span>
<span id="cb31-1780"><a href="#cb31-1780" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-1781"><a href="#cb31-1781" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1782"><a href="#cb31-1782" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate remaining fat (g) to be given by fat/oil group</span></span>
<span id="cb31-1783"><a href="#cb31-1783" aria-hidden="true" tabindex="-1"></a>  fat_from_fat_oil_group_gram_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_fat_need_gram<span class="sc">/</span>number_athlete)<span class="sc">-</span></span>
<span id="cb31-1784"><a href="#cb31-1784" aria-hidden="true" tabindex="-1"></a>                                                          total_fat_from_food_gram_per_year_per_person,</span>
<span id="cb31-1785"><a href="#cb31-1785" aria-hidden="true" tabindex="-1"></a>                                                        var_CV, n_year)</span>
<span id="cb31-1786"><a href="#cb31-1786" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1787"><a href="#cb31-1787" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Here got a little tricky coz I group food together and some food has higher fat content. And since they</span></span>
<span id="cb31-1788"><a href="#cb31-1788" aria-hidden="true" tabindex="-1"></a>  <span class="co"># are all group together, they have more or less equal chance of being consumed. So, fat from food has high</span></span>
<span id="cb31-1789"><a href="#cb31-1789" aria-hidden="true" tabindex="-1"></a>  <span class="co"># upper bound greater than fat need. So, it is either to use zero fat in meal preparation on those days with</span></span>
<span id="cb31-1790"><a href="#cb31-1790" aria-hidden="true" tabindex="-1"></a>  <span class="co"># high fat food OR I separate food and key in value for each (too much time consuming). And it is not possible</span></span>
<span id="cb31-1791"><a href="#cb31-1791" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to put lower bound near zero with high upper bound. So, I split the upper bound using ifelse function to make</span></span>
<span id="cb31-1792"><a href="#cb31-1792" aria-hidden="true" tabindex="-1"></a>  <span class="co"># model work. I cut the value above zero by half and allocate it to value below zero (so, each athlete get 3 serve</span></span>
<span id="cb31-1793"><a href="#cb31-1793" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of fat on those high fat days, and even on low fat food day, they will get half of the limit)</span></span>
<span id="cb31-1794"><a href="#cb31-1794" aria-hidden="true" tabindex="-1"></a>  total_fat_oil_serving_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(fat_from_fat_oil_group_gram_per_year_per_person <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb31-1795"><a href="#cb31-1795" aria-hidden="true" tabindex="-1"></a>                                                  (fat_from_fat_oil_group_gram_per_year_per_person<span class="sc">/</span></span>
<span id="cb31-1796"><a href="#cb31-1796" aria-hidden="true" tabindex="-1"></a>                                                    oil_fat_gram_per_serve)<span class="sc">*</span><span class="fl">0.5</span>, total_training_days_per_year<span class="sc">*</span><span class="dv">3</span>)</span>
<span id="cb31-1797"><a href="#cb31-1797" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1798"><a href="#cb31-1798" aria-hidden="true" tabindex="-1"></a>  total_fat_oil_provided_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((fat_from_fat_oil_group_gram_per_year_per_person <span class="sc">+</span></span>
<span id="cb31-1799"><a href="#cb31-1799" aria-hidden="true" tabindex="-1"></a>                                                       total_fat_from_food_gram_per_year_per_person)<span class="sc">*</span></span>
<span id="cb31-1800"><a href="#cb31-1800" aria-hidden="true" tabindex="-1"></a>                                                       number_athlete,</span>
<span id="cb31-1801"><a href="#cb31-1801" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-1802"><a href="#cb31-1802" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1803"><a href="#cb31-1803" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1804"><a href="#cb31-1804" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1805"><a href="#cb31-1805" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total provided protein in gram (add back protein from rice and fat groups)</span></span>
<span id="cb31-1806"><a href="#cb31-1806" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1807"><a href="#cb31-1807" aria-hidden="true" tabindex="-1"></a>  protein_from_rice_group_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_rice_noodle_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1808"><a href="#cb31-1808" aria-hidden="true" tabindex="-1"></a>                                                      rice_noodle_cooked_per_serve_protein<span class="sc">*</span></span>
<span id="cb31-1809"><a href="#cb31-1809" aria-hidden="true" tabindex="-1"></a>                                                        number_athlete,</span>
<span id="cb31-1810"><a href="#cb31-1810" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-1811"><a href="#cb31-1811" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1812"><a href="#cb31-1812" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1813"><a href="#cb31-1813" aria-hidden="true" tabindex="-1"></a>  protein_from_fat_group_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_oil_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1814"><a href="#cb31-1814" aria-hidden="true" tabindex="-1"></a>                                                       oil_fat_per_serve_protein,</span>
<span id="cb31-1815"><a href="#cb31-1815" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-1816"><a href="#cb31-1816" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1817"><a href="#cb31-1817" aria-hidden="true" tabindex="-1"></a>  total_protein_provided_gram_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_protein_food_gram_per_year_all_athletes <span class="sc">+</span></span>
<span id="cb31-1818"><a href="#cb31-1818" aria-hidden="true" tabindex="-1"></a>                                                            protein_from_rice_group_per_year_all_athletes <span class="sc">+</span></span>
<span id="cb31-1819"><a href="#cb31-1819" aria-hidden="true" tabindex="-1"></a>                                                            protein_from_fat_group_per_year_all_athletes,</span>
<span id="cb31-1820"><a href="#cb31-1820" aria-hidden="true" tabindex="-1"></a>                                                          var_CV, n_year)</span>
<span id="cb31-1821"><a href="#cb31-1821" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1822"><a href="#cb31-1822" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate total provided carbohydrate in gram (add back carb from fat groups)</span></span>
<span id="cb31-1823"><a href="#cb31-1823" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1824"><a href="#cb31-1824" aria-hidden="true" tabindex="-1"></a>  carb_from_fat_group_gram_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_fat_oil_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1825"><a href="#cb31-1825" aria-hidden="true" tabindex="-1"></a>                                                         oil_fat_per_serve_CHO)<span class="sc">*</span></span>
<span id="cb31-1826"><a href="#cb31-1826" aria-hidden="true" tabindex="-1"></a>                                                         number_athlete,</span>
<span id="cb31-1827"><a href="#cb31-1827" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1828"><a href="#cb31-1828" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1829"><a href="#cb31-1829" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1830"><a href="#cb31-1830" aria-hidden="true" tabindex="-1"></a>  total_carb_provided_gram_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_carb_food_gram_per_year_all_athletes <span class="sc">+</span></span>
<span id="cb31-1831"><a href="#cb31-1831" aria-hidden="true" tabindex="-1"></a>                                                         carb_from_fat_group_gram_per_year_all_athletes,</span>
<span id="cb31-1832"><a href="#cb31-1832" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-1833"><a href="#cb31-1833" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1834"><a href="#cb31-1834" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check calorie</span></span>
<span id="cb31-1835"><a href="#cb31-1835" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1836"><a href="#cb31-1836" aria-hidden="true" tabindex="-1"></a>  total_kcal_provided_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_fat_oil_provided_per_year_all_athletes<span class="sc">*</span><span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb31-1837"><a href="#cb31-1837" aria-hidden="true" tabindex="-1"></a>                                                    (total_carb_provided_gram_per_year_all_athletes<span class="sc">*</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb31-1838"><a href="#cb31-1838" aria-hidden="true" tabindex="-1"></a>                                                    (total_protein_provided_gram_per_year_all_athletes<span class="sc">*</span><span class="dv">4</span>),</span>
<span id="cb31-1839"><a href="#cb31-1839" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1840"><a href="#cb31-1840" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1841"><a href="#cb31-1841" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate provided calcium</span></span>
<span id="cb31-1842"><a href="#cb31-1842" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1843"><a href="#cb31-1843" aria-hidden="true" tabindex="-1"></a>  total_Ca_provided_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((total_egg_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1844"><a href="#cb31-1844" aria-hidden="true" tabindex="-1"></a>                                                   egg_whole_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1845"><a href="#cb31-1845" aria-hidden="true" tabindex="-1"></a>                                                  (total_dairy_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1846"><a href="#cb31-1846" aria-hidden="true" tabindex="-1"></a>                                                     dairy_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1847"><a href="#cb31-1847" aria-hidden="true" tabindex="-1"></a>                                                  (total_sandwich_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1848"><a href="#cb31-1848" aria-hidden="true" tabindex="-1"></a>                                                     sandwich_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1849"><a href="#cb31-1849" aria-hidden="true" tabindex="-1"></a>                                                  (total_vegetable_mushroom_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1850"><a href="#cb31-1850" aria-hidden="true" tabindex="-1"></a>                                                     vegetable_mushroom_raw_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1851"><a href="#cb31-1851" aria-hidden="true" tabindex="-1"></a>                                                  (total_bean_nut_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1852"><a href="#cb31-1852" aria-hidden="true" tabindex="-1"></a>                                                     bean_nut_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1853"><a href="#cb31-1853" aria-hidden="true" tabindex="-1"></a>                                                  (total_fruit_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1854"><a href="#cb31-1854" aria-hidden="true" tabindex="-1"></a>                                                     fruit_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1855"><a href="#cb31-1855" aria-hidden="true" tabindex="-1"></a>                                                  (total_chicken_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1856"><a href="#cb31-1856" aria-hidden="true" tabindex="-1"></a>                                                     chicken_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1857"><a href="#cb31-1857" aria-hidden="true" tabindex="-1"></a>                                                  (total_pork_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1858"><a href="#cb31-1858" aria-hidden="true" tabindex="-1"></a>                                                     pork_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1859"><a href="#cb31-1859" aria-hidden="true" tabindex="-1"></a>                                                  (total_beef_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1860"><a href="#cb31-1860" aria-hidden="true" tabindex="-1"></a>                                                     beef_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1861"><a href="#cb31-1861" aria-hidden="true" tabindex="-1"></a>                                                  (total_fish_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1862"><a href="#cb31-1862" aria-hidden="true" tabindex="-1"></a>                                                     fish_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1863"><a href="#cb31-1863" aria-hidden="true" tabindex="-1"></a>                                                  (total_prawn_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1864"><a href="#cb31-1864" aria-hidden="true" tabindex="-1"></a>                                                     prawn_raw_per_serve_Ca)<span class="sc">+</span></span>
<span id="cb31-1865"><a href="#cb31-1865" aria-hidden="true" tabindex="-1"></a>                                                  (total_rice_noodle_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1866"><a href="#cb31-1866" aria-hidden="true" tabindex="-1"></a>                                                     rice_noodle_cooked_per_serve_Ca) <span class="sc">+</span></span>
<span id="cb31-1867"><a href="#cb31-1867" aria-hidden="true" tabindex="-1"></a>                                                  (total_fat_oil_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1868"><a href="#cb31-1868" aria-hidden="true" tabindex="-1"></a>                                                     oil_fat_per_serve_Ca)),</span>
<span id="cb31-1869"><a href="#cb31-1869" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1870"><a href="#cb31-1870" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1871"><a href="#cb31-1871" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate provided iron</span></span>
<span id="cb31-1872"><a href="#cb31-1872" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1873"><a href="#cb31-1873" aria-hidden="true" tabindex="-1"></a>  total_Fe_provided_per_year_per_person <span class="ot">&lt;-</span> <span class="fu">vv</span>(((total_egg_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1874"><a href="#cb31-1874" aria-hidden="true" tabindex="-1"></a>                                                    egg_whole_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1875"><a href="#cb31-1875" aria-hidden="true" tabindex="-1"></a>                                                   (total_dairy_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1876"><a href="#cb31-1876" aria-hidden="true" tabindex="-1"></a>                                                      dairy_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1877"><a href="#cb31-1877" aria-hidden="true" tabindex="-1"></a>                                                   (total_sandwich_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1878"><a href="#cb31-1878" aria-hidden="true" tabindex="-1"></a>                                                      sandwich_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1879"><a href="#cb31-1879" aria-hidden="true" tabindex="-1"></a>                                                   (total_vegetable_mushroom_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1880"><a href="#cb31-1880" aria-hidden="true" tabindex="-1"></a>                                                      vegetable_mushroom_raw_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1881"><a href="#cb31-1881" aria-hidden="true" tabindex="-1"></a>                                                   (total_bean_nut_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1882"><a href="#cb31-1882" aria-hidden="true" tabindex="-1"></a>                                                      bean_nut_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1883"><a href="#cb31-1883" aria-hidden="true" tabindex="-1"></a>                                                   (total_fruit_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1884"><a href="#cb31-1884" aria-hidden="true" tabindex="-1"></a>                                                      fruit_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1885"><a href="#cb31-1885" aria-hidden="true" tabindex="-1"></a>                                                   (total_chicken_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1886"><a href="#cb31-1886" aria-hidden="true" tabindex="-1"></a>                                                      chicken_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1887"><a href="#cb31-1887" aria-hidden="true" tabindex="-1"></a>                                                   (total_pork_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1888"><a href="#cb31-1888" aria-hidden="true" tabindex="-1"></a>                                                      pork_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1889"><a href="#cb31-1889" aria-hidden="true" tabindex="-1"></a>                                                   (total_beef_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1890"><a href="#cb31-1890" aria-hidden="true" tabindex="-1"></a>                                                      beef_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1891"><a href="#cb31-1891" aria-hidden="true" tabindex="-1"></a>                                                   (total_fish_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1892"><a href="#cb31-1892" aria-hidden="true" tabindex="-1"></a>                                                      fish_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1893"><a href="#cb31-1893" aria-hidden="true" tabindex="-1"></a>                                                   (total_prawn_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1894"><a href="#cb31-1894" aria-hidden="true" tabindex="-1"></a>                                                      prawn_raw_per_serve_Fe)<span class="sc">+</span></span>
<span id="cb31-1895"><a href="#cb31-1895" aria-hidden="true" tabindex="-1"></a>                                                   (total_rice_noodle_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1896"><a href="#cb31-1896" aria-hidden="true" tabindex="-1"></a>                                                      rice_noodle_cooked_per_serve_Fe) <span class="sc">+</span></span>
<span id="cb31-1897"><a href="#cb31-1897" aria-hidden="true" tabindex="-1"></a>                                                   (total_fat_oil_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1898"><a href="#cb31-1898" aria-hidden="true" tabindex="-1"></a>                                                      oil_fat_per_serve_Fe)),</span>
<span id="cb31-1899"><a href="#cb31-1899" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1900"><a href="#cb31-1900" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1901"><a href="#cb31-1901" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1902"><a href="#cb31-1902" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Total food servings for all athletes (to be used for next model)</span></span>
<span id="cb31-1903"><a href="#cb31-1903" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1904"><a href="#cb31-1904" aria-hidden="true" tabindex="-1"></a>  total_egg_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_per_year_per_person <span class="sc">*</span></span>
<span id="cb31-1905"><a href="#cb31-1905" aria-hidden="true" tabindex="-1"></a>                                                  number_athlete,</span>
<span id="cb31-1906"><a href="#cb31-1906" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-1907"><a href="#cb31-1907" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1908"><a href="#cb31-1908" aria-hidden="true" tabindex="-1"></a>  total_dairy_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1909"><a href="#cb31-1909" aria-hidden="true" tabindex="-1"></a>                                                    number_athlete,</span>
<span id="cb31-1910"><a href="#cb31-1910" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1911"><a href="#cb31-1911" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1912"><a href="#cb31-1912" aria-hidden="true" tabindex="-1"></a>  total_sandwich_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sandwich_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1913"><a href="#cb31-1913" aria-hidden="true" tabindex="-1"></a>                                                       number_athlete,</span>
<span id="cb31-1914"><a href="#cb31-1914" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-1915"><a href="#cb31-1915" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1916"><a href="#cb31-1916" aria-hidden="true" tabindex="-1"></a>  total_vegetable_mushroom_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_vegetable_mushroom_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1917"><a href="#cb31-1917" aria-hidden="true" tabindex="-1"></a>                                                                 number_athlete,</span>
<span id="cb31-1918"><a href="#cb31-1918" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-1919"><a href="#cb31-1919" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1920"><a href="#cb31-1920" aria-hidden="true" tabindex="-1"></a>  total_bean_nut_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_bean_nut_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1921"><a href="#cb31-1921" aria-hidden="true" tabindex="-1"></a>                                                       number_athlete,</span>
<span id="cb31-1922"><a href="#cb31-1922" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-1923"><a href="#cb31-1923" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1924"><a href="#cb31-1924" aria-hidden="true" tabindex="-1"></a>  total_fruit_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fruit_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1925"><a href="#cb31-1925" aria-hidden="true" tabindex="-1"></a>                                                    number_athlete,</span>
<span id="cb31-1926"><a href="#cb31-1926" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1927"><a href="#cb31-1927" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1928"><a href="#cb31-1928" aria-hidden="true" tabindex="-1"></a>  total_sports_drink_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sports_drink_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1929"><a href="#cb31-1929" aria-hidden="true" tabindex="-1"></a>                                                           number_athlete,</span>
<span id="cb31-1930"><a href="#cb31-1930" aria-hidden="true" tabindex="-1"></a>                                                         var_CV, n_year)</span>
<span id="cb31-1931"><a href="#cb31-1931" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1932"><a href="#cb31-1932" aria-hidden="true" tabindex="-1"></a>  total_chicken_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_chicken_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1933"><a href="#cb31-1933" aria-hidden="true" tabindex="-1"></a>                                                      number_athlete,</span>
<span id="cb31-1934"><a href="#cb31-1934" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1935"><a href="#cb31-1935" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1936"><a href="#cb31-1936" aria-hidden="true" tabindex="-1"></a>  total_pork_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1937"><a href="#cb31-1937" aria-hidden="true" tabindex="-1"></a>                                                   number_athlete,</span>
<span id="cb31-1938"><a href="#cb31-1938" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-1939"><a href="#cb31-1939" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1940"><a href="#cb31-1940" aria-hidden="true" tabindex="-1"></a>  total_beef_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1941"><a href="#cb31-1941" aria-hidden="true" tabindex="-1"></a>                                                   number_athlete,</span>
<span id="cb31-1942"><a href="#cb31-1942" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-1943"><a href="#cb31-1943" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1944"><a href="#cb31-1944" aria-hidden="true" tabindex="-1"></a>  total_fish_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fish_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1945"><a href="#cb31-1945" aria-hidden="true" tabindex="-1"></a>                                                   number_athlete,</span>
<span id="cb31-1946"><a href="#cb31-1946" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-1947"><a href="#cb31-1947" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1948"><a href="#cb31-1948" aria-hidden="true" tabindex="-1"></a>  total_prawn_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1949"><a href="#cb31-1949" aria-hidden="true" tabindex="-1"></a>                                                    number_athlete,</span>
<span id="cb31-1950"><a href="#cb31-1950" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-1951"><a href="#cb31-1951" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1952"><a href="#cb31-1952" aria-hidden="true" tabindex="-1"></a>  total_rice_noodle_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_rice_noodle_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1953"><a href="#cb31-1953" aria-hidden="true" tabindex="-1"></a>                                                          number_athlete,</span>
<span id="cb31-1954"><a href="#cb31-1954" aria-hidden="true" tabindex="-1"></a>                                                        var_CV, n_year)</span>
<span id="cb31-1955"><a href="#cb31-1955" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1956"><a href="#cb31-1956" aria-hidden="true" tabindex="-1"></a>  total_fat_oil_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_oil_serving_per_year_per_person<span class="sc">*</span></span>
<span id="cb31-1957"><a href="#cb31-1957" aria-hidden="true" tabindex="-1"></a>                                                      number_athlete,</span>
<span id="cb31-1958"><a href="#cb31-1958" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-1959"><a href="#cb31-1959" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1960"><a href="#cb31-1960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-1961"><a href="#cb31-1961" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1962"><a href="#cb31-1962" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################################ </span></span>
<span id="cb31-1963"><a href="#cb31-1963" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1964"><a href="#cb31-1964" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-1965"><a href="#cb31-1965" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">total_current_Ca_intake_per_person =</span> <span class="fu">sum</span>(total_current_Ca_intake_per_year_per_person),</span>
<span id="cb31-1966"><a href="#cb31-1966" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_current_Fe_intake_per_person =</span> <span class="fu">sum</span>(total_current_Ca_intake_per_year_per_person),</span>
<span id="cb31-1967"><a href="#cb31-1967" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_Ca_rdi =</span> <span class="fu">sum</span>(yearly_Ca_rdi),</span>
<span id="cb31-1968"><a href="#cb31-1968" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_Fe_rdi =</span> <span class="fu">sum</span>(yearly_Fe_rdi),</span>
<span id="cb31-1969"><a href="#cb31-1969" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_current_kcal_intake_all_athlete =</span> <span class="fu">sum</span>(total_current_kcal_intake_per_year_all_athlete),</span>
<span id="cb31-1970"><a href="#cb31-1970" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_kcal_need =</span> <span class="fu">sum</span>(total_kcal_need_yearly),</span>
<span id="cb31-1971"><a href="#cb31-1971" aria-hidden="true" tabindex="-1"></a>              <span class="at">model_check_current_kcal =</span> <span class="fu">sum</span>(model_check_current_kcal),</span>
<span id="cb31-1972"><a href="#cb31-1972" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_current_protein_intake_all_athlete =</span> <span class="fu">sum</span>(total_current_protein_intake_per_year_all_athlete),</span>
<span id="cb31-1973"><a href="#cb31-1973" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_protein_need_gram =</span> <span class="fu">sum</span>(total_protein_need_gram),</span>
<span id="cb31-1974"><a href="#cb31-1974" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_current_CHO_intake_all_athlete =</span> <span class="fu">sum</span>(total_current_CHO_intake_per_year_all_athlete),</span>
<span id="cb31-1975"><a href="#cb31-1975" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_carb_need_gram =</span> <span class="fu">sum</span>(total_carb_need_gram),</span>
<span id="cb31-1976"><a href="#cb31-1976" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_current_fat_intake_all_athlete =</span> <span class="fu">sum</span>(total_current_fat_intake_per_year_all_athlete),</span>
<span id="cb31-1977"><a href="#cb31-1977" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_need_gram =</span> <span class="fu">sum</span>(total_fat_need_gram),</span>
<span id="cb31-1978"><a href="#cb31-1978" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_before_after_training_protein_gram_per_person =</span> <span class="fu">sum</span>(total_before_after_training_protein_gram_per_year_per_person),</span>
<span id="cb31-1979"><a href="#cb31-1979" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_training_provided_protein_gram_per_person =</span> <span class="fu">sum</span>(total_training_provided_protein_gram_per_year_per_person),</span>
<span id="cb31-1980"><a href="#cb31-1980" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_protein_provided_gram_all_athletes =</span> <span class="fu">sum</span>(total_protein_provided_gram_per_year_all_athletes),</span>
<span id="cb31-1981"><a href="#cb31-1981" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_protein_provided_gram_per_year_all_athletes =</span> <span class="fu">list</span>(total_protein_provided_gram_per_year_all_athletes),</span>
<span id="cb31-1982"><a href="#cb31-1982" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_carb_provided_gram_all_athletes =</span> <span class="fu">sum</span>(total_carb_provided_gram_per_year_all_athletes),</span>
<span id="cb31-1983"><a href="#cb31-1983" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_carb_provided_gram_per_year_all_athletes =</span> <span class="fu">list</span>(total_carb_provided_gram_per_year_all_athletes),</span>
<span id="cb31-1984"><a href="#cb31-1984" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_oil_provided_all_athletes =</span> <span class="fu">sum</span>(total_fat_oil_provided_per_year_all_athletes),</span>
<span id="cb31-1985"><a href="#cb31-1985" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_oil_provided_per_year_all_athletes =</span> <span class="fu">list</span>(total_fat_oil_provided_per_year_all_athletes),</span>
<span id="cb31-1986"><a href="#cb31-1986" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_kcal_provided_all_athletes =</span> <span class="fu">sum</span>(total_kcal_provided_per_year_all_athletes),</span>
<span id="cb31-1987"><a href="#cb31-1987" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_kcal_provided_per_year_all_athletes =</span> <span class="fu">list</span>(total_kcal_provided_per_year_all_athletes),</span>
<span id="cb31-1988"><a href="#cb31-1988" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_Ca_provided_per_person =</span> <span class="fu">sum</span>(total_Ca_provided_per_year_per_person),</span>
<span id="cb31-1989"><a href="#cb31-1989" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_Fe_provided_per_person =</span> <span class="fu">sum</span>(total_Fe_provided_per_year_per_person),</span>
<span id="cb31-1990"><a href="#cb31-1990" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_egg_serving_all_athletes =</span> <span class="fu">sum</span>(total_egg_serving_per_year_all_athletes),</span>
<span id="cb31-1991"><a href="#cb31-1991" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_all_athletes =</span> <span class="fu">sum</span>(total_dairy_serving_per_year_all_athletes),</span>
<span id="cb31-1992"><a href="#cb31-1992" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sandwich_serving_all_athletes =</span> <span class="fu">sum</span>(total_sandwich_serving_per_year_all_athletes),</span>
<span id="cb31-1993"><a href="#cb31-1993" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_vegetable_mushroom_serving_all_athletes =</span> <span class="fu">sum</span>(total_vegetable_mushroom_serving_per_year_all_athletes),</span>
<span id="cb31-1994"><a href="#cb31-1994" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_bean_nut_serving_all_athletes =</span> <span class="fu">sum</span>(total_bean_nut_serving_per_year_all_athletes),</span>
<span id="cb31-1995"><a href="#cb31-1995" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fruit_serving_all_athletes =</span> <span class="fu">sum</span>(total_fruit_serving_per_year_all_athletes),</span>
<span id="cb31-1996"><a href="#cb31-1996" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sports_drink_serving_all_athletes =</span> <span class="fu">sum</span>(total_sports_drink_serving_per_year_all_athletes),</span>
<span id="cb31-1997"><a href="#cb31-1997" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_chicken_serving_all_athletes =</span> <span class="fu">sum</span>(total_chicken_serving_per_year_all_athletes),</span>
<span id="cb31-1998"><a href="#cb31-1998" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_all_athletes =</span> <span class="fu">sum</span>(total_pork_serving_per_year_all_athletes),</span>
<span id="cb31-1999"><a href="#cb31-1999" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_all_athletes =</span> <span class="fu">sum</span>(total_beef_serving_per_year_all_athletes),</span>
<span id="cb31-2000"><a href="#cb31-2000" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fish_serving_all_athletes =</span> <span class="fu">sum</span>(total_fish_serving_per_year_all_athletes),</span>
<span id="cb31-2001"><a href="#cb31-2001" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_all_athletes =</span> <span class="fu">sum</span>(total_prawn_serving_per_year_all_athletes),</span>
<span id="cb31-2002"><a href="#cb31-2002" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_rice_noodle_serving_all_athletes =</span> <span class="fu">sum</span>(total_rice_noodle_serving_per_year_all_athletes),</span>
<span id="cb31-2003"><a href="#cb31-2003" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_oil_serving_all_athletes =</span> <span class="fu">sum</span>(total_fat_oil_serving_per_year_all_athletes),</span>
<span id="cb31-2004"><a href="#cb31-2004" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_training_days =</span> <span class="fu">sum</span>(total_training_days_per_year),</span>
<span id="cb31-2005"><a href="#cb31-2005" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_main_meals_all_athletes =</span> <span class="fu">sum</span>(total_main_meals_per_year_all_athletes),</span>
<span id="cb31-2006"><a href="#cb31-2006" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_snack_time_all_athletes =</span> <span class="fu">sum</span>(total_snack_time_per_year_all_athletes),</span>
<span id="cb31-2007"><a href="#cb31-2007" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_per_person =</span> <span class="fu">sum</span>(total_prawn_serving_per_year_per_person),</span>
<span id="cb31-2008"><a href="#cb31-2008" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_per_person =</span> <span class="fu">sum</span>(total_beef_serving_per_year_per_person),</span>
<span id="cb31-2009"><a href="#cb31-2009" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_per_person =</span> <span class="fu">sum</span>(total_pork_serving_per_year_per_person),</span>
<span id="cb31-2010"><a href="#cb31-2010" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_per_person =</span> <span class="fu">sum</span>(total_dairy_serving_per_year_per_person),</span>
<span id="cb31-2011"><a href="#cb31-2011" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_egg_serving_per_person =</span> <span class="fu">sum</span>(total_egg_serving_per_year_per_person)</span>
<span id="cb31-2012"><a href="#cb31-2012" aria-hidden="true" tabindex="-1"></a>           ))</span>
<span id="cb31-2013"><a href="#cb31-2013" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2014"><a href="#cb31-2014" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-2015"><a href="#cb31-2015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2016"><a href="#cb31-2016" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the Monte Carlo Simulation</span></span>
<span id="cb31-2017"><a href="#cb31-2017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2018"><a href="#cb31-2018" aria-hidden="true" tabindex="-1"></a>Food_mc_simulation <span class="ot">&lt;-</span> <span class="fu">mcSimulation</span>(<span class="at">estimate =</span> <span class="fu">estimate_read_csv</span>(<span class="st">"2_Food_type.csv"</span>),</span>
<span id="cb31-2019"><a href="#cb31-2019" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">model_function =</span> Food_function,</span>
<span id="cb31-2020"><a href="#cb31-2020" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">numberOfModelRuns =</span> <span class="dv">1000</span>,</span>
<span id="cb31-2021"><a href="#cb31-2021" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">functionSyntax =</span> <span class="st">"plainNames"</span>)</span>
<span id="cb31-2022"><a href="#cb31-2022" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2023"><a href="#cb31-2023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2024"><a href="#cb31-2024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2025"><a href="#cb31-2025" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m21}</span></span>
<span id="cb31-2026"><a href="#cb31-2026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2027"><a href="#cb31-2027" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2028"><a href="#cb31-2028" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_current_protein_intake_all_athlete"</span>, <span class="st">"total_protein_need_gram"</span>),</span>
<span id="cb31-2029"><a href="#cb31-2029" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2030"><a href="#cb31-2030" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Protein (g)'</span>,</span>
<span id="cb31-2031"><a href="#cb31-2031" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2032"><a href="#cb31-2032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2033"><a href="#cb31-2033" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2034"><a href="#cb31-2034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2035"><a href="#cb31-2035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2036"><a href="#cb31-2036" aria-hidden="true" tabindex="-1"></a>The plot estimates current protein intake of athletes is a little higher than their protein requirement. But, we can assume their protein intake is okay since the minimum target protein (g/day) is used as the lower bound for estimation. Hence, their requirement can be higher than current estimates if we set their average needs as lower bound, which will be closer to their actual daily need. </span>
<span id="cb31-2037"><a href="#cb31-2037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2038"><a href="#cb31-2038" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2039"><a href="#cb31-2039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2040"><a href="#cb31-2040" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m22}</span></span>
<span id="cb31-2041"><a href="#cb31-2041" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2042"><a href="#cb31-2042" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2043"><a href="#cb31-2043" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_current_CHO_intake_all_athlete"</span>, <span class="st">"total_carb_need_gram"</span>),</span>
<span id="cb31-2044"><a href="#cb31-2044" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2045"><a href="#cb31-2045" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Carbohydrate (g)'</span>,</span>
<span id="cb31-2046"><a href="#cb31-2046" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2047"><a href="#cb31-2047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2048"><a href="#cb31-2048" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2049"><a href="#cb31-2049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2050"><a href="#cb31-2050" aria-hidden="true" tabindex="-1"></a>The athletes' current intake of carbohydrate is much lower than their needs.</span>
<span id="cb31-2051"><a href="#cb31-2051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2052"><a href="#cb31-2052" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2053"><a href="#cb31-2053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2054"><a href="#cb31-2054" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m23}</span></span>
<span id="cb31-2055"><a href="#cb31-2055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2056"><a href="#cb31-2056" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2057"><a href="#cb31-2057" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_current_fat_intake_all_athlete"</span>, <span class="st">"total_fat_need_gram"</span>),</span>
<span id="cb31-2058"><a href="#cb31-2058" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2059"><a href="#cb31-2059" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Fat (g)'</span>,</span>
<span id="cb31-2060"><a href="#cb31-2060" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2061"><a href="#cb31-2061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2062"><a href="#cb31-2062" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2063"><a href="#cb31-2063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2064"><a href="#cb31-2064" aria-hidden="true" tabindex="-1"></a>Current fat intake is significantly higher than the fat requirement, and it needs to be reduced. </span>
<span id="cb31-2065"><a href="#cb31-2065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2066"><a href="#cb31-2066" aria-hidden="true" tabindex="-1"></a>Hence, we can conclude, based on simulation results, that the athletes' calorie and protein intake meet the requirement, whereas fat intake exceeds the requirement, and carbohydrate intake is lower than the requirement.</span>
<span id="cb31-2067"><a href="#cb31-2067" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2068"><a href="#cb31-2068" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2069"><a href="#cb31-2069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2070"><a href="#cb31-2070" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculate required servings of food based on the target needs</span></span>
<span id="cb31-2071"><a href="#cb31-2071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2072"><a href="#cb31-2072" aria-hidden="true" tabindex="-1"></a>Next, we calculate how many servings of each food group is needed to meet the protein, carbohydrate and fat requirements. The table below shows the estimated servings required for each food group for all athletes for four simulation years.</span>
<span id="cb31-2073"><a href="#cb31-2073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2074"><a href="#cb31-2074" aria-hidden="true" tabindex="-1"></a><span class="in">``` {r save}</span></span>
<span id="cb31-2075"><a href="#cb31-2075" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"food_serve.csv"</span>)</span>
<span id="cb31-2076"><a href="#cb31-2076" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span>
<span id="cb31-2077"><a href="#cb31-2077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2078"><a href="#cb31-2078" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2079"><a href="#cb31-2079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2080"><a href="#cb31-2080" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2081"><a href="#cb31-2081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2082"><a href="#cb31-2082" aria-hidden="true" tabindex="-1"></a>Next, we confirm whether the calorie, protein, carbohydrate and fat provided by calculated food servings meet the requirements for athletes. </span>
<span id="cb31-2083"><a href="#cb31-2083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2084"><a href="#cb31-2084" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m24}</span></span>
<span id="cb31-2085"><a href="#cb31-2085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2086"><a href="#cb31-2086" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2087"><a href="#cb31-2087" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_protein_need_gram"</span>, <span class="st">"total_protein_provided_gram_all_athletes"</span>),</span>
<span id="cb31-2088"><a href="#cb31-2088" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2089"><a href="#cb31-2089" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Protein (g)'</span>,</span>
<span id="cb31-2090"><a href="#cb31-2090" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2091"><a href="#cb31-2091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2092"><a href="#cb31-2092" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2093"><a href="#cb31-2093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2094"><a href="#cb31-2094" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2095"><a href="#cb31-2095" aria-hidden="true" tabindex="-1"></a>Total protein provided by food is a bit higher than the protein needs, but we can assume this is okay since we set the minimum protein target as the lower bound when their actual requirement may be closer to the avearge protein target.</span>
<span id="cb31-2096"><a href="#cb31-2096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2097"><a href="#cb31-2097" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2098"><a href="#cb31-2098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2099"><a href="#cb31-2099" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m25}</span></span>
<span id="cb31-2100"><a href="#cb31-2100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2101"><a href="#cb31-2101" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2102"><a href="#cb31-2102" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_carb_provided_gram_all_athletes"</span>, <span class="st">"total_carb_need_gram"</span>),</span>
<span id="cb31-2103"><a href="#cb31-2103" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2104"><a href="#cb31-2104" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Carbohydrate (g)'</span>,</span>
<span id="cb31-2105"><a href="#cb31-2105" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2106"><a href="#cb31-2106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2107"><a href="#cb31-2107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2108"><a href="#cb31-2108" aria-hidden="true" tabindex="-1"></a>A perfect overlap between carbohydrate need and carbohydrate provided is seen in the plot.</span>
<span id="cb31-2109"><a href="#cb31-2109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2110"><a href="#cb31-2110" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2111"><a href="#cb31-2111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2112"><a href="#cb31-2112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m26}</span></span>
<span id="cb31-2113"><a href="#cb31-2113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2114"><a href="#cb31-2114" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2115"><a href="#cb31-2115" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_fat_oil_provided_all_athletes"</span>, <span class="st">"total_fat_need_gram"</span>),</span>
<span id="cb31-2116"><a href="#cb31-2116" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2117"><a href="#cb31-2117" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Fat (g)'</span>,</span>
<span id="cb31-2118"><a href="#cb31-2118" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2119"><a href="#cb31-2119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2120"><a href="#cb31-2120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2121"><a href="#cb31-2121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2122"><a href="#cb31-2122" aria-hidden="true" tabindex="-1"></a>A perfect overlap between fat need and fat provided is seen in the plot. </span>
<span id="cb31-2123"><a href="#cb31-2123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2124"><a href="#cb31-2124" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2125"><a href="#cb31-2125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2126"><a href="#cb31-2126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m27}</span></span>
<span id="cb31-2127"><a href="#cb31-2127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2128"><a href="#cb31-2128" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Food_mc_simulation,</span>
<span id="cb31-2129"><a href="#cb31-2129" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"total_kcal_provided_all_athletes"</span>, <span class="st">"total_kcal_need"</span>),</span>
<span id="cb31-2130"><a href="#cb31-2130" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-2131"><a href="#cb31-2131" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'Calorie (kcal)'</span>,</span>
<span id="cb31-2132"><a href="#cb31-2132" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-2133"><a href="#cb31-2133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2134"><a href="#cb31-2134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2135"><a href="#cb31-2135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2136"><a href="#cb31-2136" aria-hidden="true" tabindex="-1"></a>Provided calorie also meets the calorie requirement. </span>
<span id="cb31-2137"><a href="#cb31-2137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2138"><a href="#cb31-2138" aria-hidden="true" tabindex="-1"></a>We can double-confirm our calculations in the table below.</span>
<span id="cb31-2139"><a href="#cb31-2139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2140"><a href="#cb31-2140" aria-hidden="true" tabindex="-1"></a><span class="in">``` {r saven}</span></span>
<span id="cb31-2141"><a href="#cb31-2141" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"need_provided.csv"</span>)</span>
<span id="cb31-2142"><a href="#cb31-2142" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span>
<span id="cb31-2143"><a href="#cb31-2143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2144"><a href="#cb31-2144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2145"><a href="#cb31-2145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2146"><a href="#cb31-2146" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2147"><a href="#cb31-2147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2148"><a href="#cb31-2148" aria-hidden="true" tabindex="-1"></a><span class="fu">## Part 3: Impact of learning outcome on nutrition intake</span></span>
<span id="cb31-2149"><a href="#cb31-2149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2150"><a href="#cb31-2150" aria-hidden="true" tabindex="-1"></a>Athletes need to consume all the food provided to meet their nutrition goal by 100 percent. Our aim is for the athletes to meet at least 90% of their targeted nutrition goal. Hence, we simulate the probability of athletes consuming at least 90 percent of the nutrients provided for intervention one and two. </span>
<span id="cb31-2151"><a href="#cb31-2151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2152"><a href="#cb31-2152" aria-hidden="true" tabindex="-1"></a>In intervention one, athletes are expected to calculate their daily requirements and recommended daily servings. Intensive nutrition training will be given, and a nutrition personnel will be available for consultation after the training ends. Standard measurement tools such as ladle, cup, etc. will be provided and educational posters such as food exchange list will be posted in the dining hall. </span>
<span id="cb31-2153"><a href="#cb31-2153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2154"><a href="#cb31-2154" aria-hidden="true" tabindex="-1"></a>In intervention two, the nutrition team will calculate daily requirements of athletes and give dietary orders to the kitchen staff. Special dietary orders can be made for athletes at risk of malnutrition. Kitchen staff will prepare the orders accordingly and serve the athletes. </span>
<span id="cb31-2155"><a href="#cb31-2155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2156"><a href="#cb31-2156" aria-hidden="true" tabindex="-1"></a>In both intervention, tray checking for leftover will be done by a nutrition personnel or kitchen staff to estimate daily intake of the whole team. </span>
<span id="cb31-2157"><a href="#cb31-2157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2158"><a href="#cb31-2158" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2159"><a href="#cb31-2159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2160"><a href="#cb31-2160" aria-hidden="true" tabindex="-1"></a><span class="fu">### Simulation of learning outcome</span></span>
<span id="cb31-2161"><a href="#cb31-2161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2162"><a href="#cb31-2162" aria-hidden="true" tabindex="-1"></a>Percent probability of good learning outcome for intervention one was predicted based on athletes' prior knowledge on nutrition, their interest, motivation and persistence in learning. The same variables were used for intervention two except the persistance in learning since athletes are not expected to do the calculations by themselves.</span>
<span id="cb31-2163"><a href="#cb31-2163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2164"><a href="#cb31-2164" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2165"><a href="#cb31-2165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2166"><a href="#cb31-2166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2167"><a href="#cb31-2167" aria-hidden="true" tabindex="-1"></a><span class="fu">### Simulation of maintaining good nutrition</span></span>
<span id="cb31-2168"><a href="#cb31-2168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2169"><a href="#cb31-2169" aria-hidden="true" tabindex="-1"></a>Based on the percent learning outcome, the percent probability of athletes continue following good nutrition habits was simulated with additional variables such as the chance of having good nutritionists or kitchen staff, the chance of food safety and food quality.</span>
<span id="cb31-2170"><a href="#cb31-2170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2171"><a href="#cb31-2171" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2172"><a href="#cb31-2172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2173"><a href="#cb31-2173" aria-hidden="true" tabindex="-1"></a><span class="fu">### Percent probability of meeting nutrition target</span></span>
<span id="cb31-2174"><a href="#cb31-2174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2175"><a href="#cb31-2175" aria-hidden="true" tabindex="-1"></a>Considering their learning outcome and probability of maintaining good nutrition, their actual food intake was calculated. Their water intake was also estimated, and based on these estimates, we simulated the percent probability of the athletes meeting the nutrition goals. </span>
<span id="cb31-2176"><a href="#cb31-2176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2177"><a href="#cb31-2177" aria-hidden="true" tabindex="-1"></a>The output table below shows at least 90% of nutrition target was met in both intervention. Hence, based on the simulation results, both intervention one and two are equally effective to achieve the desired nutrition outcome.</span>
<span id="cb31-2178"><a href="#cb31-2178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2179"><a href="#cb31-2179" aria-hidden="true" tabindex="-1"></a>Since both interventions are equally effective, the percent probability of good sports performance and mental well-being are also equal.</span>
<span id="cb31-2180"><a href="#cb31-2180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2181"><a href="#cb31-2181" aria-hidden="true" tabindex="-1"></a><span class="in">``` {r savei}</span></span>
<span id="cb31-2182"><a href="#cb31-2182" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"inter_outcome.csv"</span>)</span>
<span id="cb31-2183"><a href="#cb31-2183" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span>
<span id="cb31-2184"><a href="#cb31-2184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2185"><a href="#cb31-2185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-2186"><a href="#cb31-2186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2187"><a href="#cb31-2187" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-2188"><a href="#cb31-2188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2189"><a href="#cb31-2189" aria-hidden="true" tabindex="-1"></a><span class="fu">### PLS and EVPI analysis</span></span>
<span id="cb31-2190"><a href="#cb31-2190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2191"><a href="#cb31-2191" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m30, echo=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb31-2192"><a href="#cb31-2192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2193"><a href="#cb31-2193" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12</span>)</span>
<span id="cb31-2194"><a href="#cb31-2194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2195"><a href="#cb31-2195" aria-hidden="true" tabindex="-1"></a>make_variables<span class="ot">&lt;-</span><span class="cf">function</span>(est,<span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb31-2196"><a href="#cb31-2196" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2197"><a href="#cb31-2197" aria-hidden="true" tabindex="-1"></a>{ x<span class="ot">&lt;-</span><span class="fu">random</span>(<span class="at">rho=</span>est, <span class="at">n=</span>n)</span>
<span id="cb31-2198"><a href="#cb31-2198" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">colnames</span>(x)) <span class="fu">assign</span>(i, <span class="fu">as.numeric</span>(x[<span class="dv">1</span>,i]),<span class="at">envir=</span>.GlobalEnv)}</span>
<span id="cb31-2199"><a href="#cb31-2199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2200"><a href="#cb31-2200" aria-hidden="true" tabindex="-1"></a><span class="fu">make_variables</span>(<span class="fu">estimate_read_csv</span>(<span class="fu">paste</span>(<span class="st">"3_Learning_behaviour.csv"</span>)))</span>
<span id="cb31-2201"><a href="#cb31-2201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2202"><a href="#cb31-2202" aria-hidden="true" tabindex="-1"></a>Learning_behaviour_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, varnames){</span>
<span id="cb31-2203"><a href="#cb31-2203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2204"><a href="#cb31-2204" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2205"><a href="#cb31-2205" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Learning outcome</span></span>
<span id="cb31-2206"><a href="#cb31-2206" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2207"><a href="#cb31-2207" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention one</span></span>
<span id="cb31-2208"><a href="#cb31-2208" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2209"><a href="#cb31-2209" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent contribution of having prior knowledge to good learning outcome</span></span>
<span id="cb31-2210"><a href="#cb31-2210" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2211"><a href="#cb31-2211" aria-hidden="true" tabindex="-1"></a>  prior_knowledge_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((prior_knowledge_ch_1<span class="sc">*</span>weight_contribution_ch_1) <span class="sc">+</span></span>
<span id="cb31-2212"><a href="#cb31-2212" aria-hidden="true" tabindex="-1"></a>                                    (prior_knowledge_ch_2<span class="sc">*</span>weight_contribution_ch_2) <span class="sc">+</span></span>
<span id="cb31-2213"><a href="#cb31-2213" aria-hidden="true" tabindex="-1"></a>                                    (prior_knowledge_ch_3<span class="sc">*</span>weight_contribution_ch_3) <span class="sc">+</span></span>
<span id="cb31-2214"><a href="#cb31-2214" aria-hidden="true" tabindex="-1"></a>                                    (prior_knowledge_ch_4<span class="sc">*</span>weight_contribution_ch_4))<span class="sc">/</span></span>
<span id="cb31-2215"><a href="#cb31-2215" aria-hidden="true" tabindex="-1"></a>                                  (weight_contribution_ch_1 <span class="sc">+</span></span>
<span id="cb31-2216"><a href="#cb31-2216" aria-hidden="true" tabindex="-1"></a>                                   weight_contribution_ch_2 <span class="sc">+</span></span>
<span id="cb31-2217"><a href="#cb31-2217" aria-hidden="true" tabindex="-1"></a>                                   weight_contribution_ch_3 <span class="sc">+</span></span>
<span id="cb31-2218"><a href="#cb31-2218" aria-hidden="true" tabindex="-1"></a>                                   weight_contribution_ch_4),</span>
<span id="cb31-2219"><a href="#cb31-2219" aria-hidden="true" tabindex="-1"></a>                                 var_CV, n_year)</span>
<span id="cb31-2220"><a href="#cb31-2220" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2221"><a href="#cb31-2221" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate improved knowledge with good trainer conditional on having prior knowledge</span></span>
<span id="cb31-2222"><a href="#cb31-2222" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2223"><a href="#cb31-2223" aria-hidden="true" tabindex="-1"></a>  knowledge_to_learning_outcome_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(prior_knowledge_inter_one <span class="sc">*</span></span>
<span id="cb31-2224"><a href="#cb31-2224" aria-hidden="true" tabindex="-1"></a>                                                  (((chance_of_good_trainer <span class="sc">*</span></span>
<span id="cb31-2225"><a href="#cb31-2225" aria-hidden="true" tabindex="-1"></a>                                                       weight_good_trainer_to_successful_ch1) <span class="sc">+</span></span>
<span id="cb31-2226"><a href="#cb31-2226" aria-hidden="true" tabindex="-1"></a>                                                      (chance_of_good_trainer <span class="sc">*</span></span>
<span id="cb31-2227"><a href="#cb31-2227" aria-hidden="true" tabindex="-1"></a>                                                         weight_good_trainer_to_successful_ch2) <span class="sc">+</span></span>
<span id="cb31-2228"><a href="#cb31-2228" aria-hidden="true" tabindex="-1"></a>                                                      (chance_of_good_trainer <span class="sc">*</span></span>
<span id="cb31-2229"><a href="#cb31-2229" aria-hidden="true" tabindex="-1"></a>                                                         weight_good_trainer_to_successful_ch3) <span class="sc">+</span></span>
<span id="cb31-2230"><a href="#cb31-2230" aria-hidden="true" tabindex="-1"></a>                                                      (chance_of_good_trainer <span class="sc">*</span></span>
<span id="cb31-2231"><a href="#cb31-2231" aria-hidden="true" tabindex="-1"></a>                                                         weight_good_trainer_to_successful_ch4))<span class="sc">/</span></span>
<span id="cb31-2232"><a href="#cb31-2232" aria-hidden="true" tabindex="-1"></a>                                                     (weight_good_trainer_to_successful_ch1 <span class="sc">+</span></span>
<span id="cb31-2233"><a href="#cb31-2233" aria-hidden="true" tabindex="-1"></a>                                                        weight_good_trainer_to_successful_ch2 <span class="sc">+</span></span>
<span id="cb31-2234"><a href="#cb31-2234" aria-hidden="true" tabindex="-1"></a>                                                        weight_good_trainer_to_successful_ch3 <span class="sc">+</span></span>
<span id="cb31-2235"><a href="#cb31-2235" aria-hidden="true" tabindex="-1"></a>                                                        weight_good_trainer_to_successful_ch4)),</span>
<span id="cb31-2236"><a href="#cb31-2236" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-2237"><a href="#cb31-2237" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2238"><a href="#cb31-2238" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate athletes' interest percent</span></span>
<span id="cb31-2239"><a href="#cb31-2239" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2240"><a href="#cb31-2240" aria-hidden="true" tabindex="-1"></a>  chance_athletes_interest_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_of_good_learning_material<span class="sc">*</span></span>
<span id="cb31-2241"><a href="#cb31-2241" aria-hidden="true" tabindex="-1"></a>                                               weight_learning_material_to_interest) <span class="sc">+</span></span>
<span id="cb31-2242"><a href="#cb31-2242" aria-hidden="true" tabindex="-1"></a>                                              (chance_of_good_trainer<span class="sc">*</span>weight_good_trainer_to_interest) <span class="sc">+</span></span>
<span id="cb31-2243"><a href="#cb31-2243" aria-hidden="true" tabindex="-1"></a>                                              (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2244"><a href="#cb31-2244" aria-hidden="true" tabindex="-1"></a>                                                 weight_understand_nutrition_importance_to_interest) <span class="sc">+</span></span>
<span id="cb31-2245"><a href="#cb31-2245" aria-hidden="true" tabindex="-1"></a>                                              (chance_of_good_learning_hour<span class="sc">*</span></span>
<span id="cb31-2246"><a href="#cb31-2246" aria-hidden="true" tabindex="-1"></a>                                                 weight_learning_hour_to_interest_in_class))<span class="sc">/</span></span>
<span id="cb31-2247"><a href="#cb31-2247" aria-hidden="true" tabindex="-1"></a>                                             (weight_learning_material_to_interest <span class="sc">+</span></span>
<span id="cb31-2248"><a href="#cb31-2248" aria-hidden="true" tabindex="-1"></a>                                                weight_good_trainer_to_interest <span class="sc">+</span></span>
<span id="cb31-2249"><a href="#cb31-2249" aria-hidden="true" tabindex="-1"></a>                                                weight_understand_nutrition_importance_to_interest <span class="sc">+</span></span>
<span id="cb31-2250"><a href="#cb31-2250" aria-hidden="true" tabindex="-1"></a>                                                weight_learning_hour_to_interest_in_class),</span>
<span id="cb31-2251"><a href="#cb31-2251" aria-hidden="true" tabindex="-1"></a>                                           var_CV, n_year)</span>
<span id="cb31-2252"><a href="#cb31-2252" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2253"><a href="#cb31-2253" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2254"><a href="#cb31-2254" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate athlete's motivation percent</span></span>
<span id="cb31-2255"><a href="#cb31-2255" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2256"><a href="#cb31-2256" aria-hidden="true" tabindex="-1"></a>  chance_athletes_motivation_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_of_good_learning_material<span class="sc">*</span></span>
<span id="cb31-2257"><a href="#cb31-2257" aria-hidden="true" tabindex="-1"></a>                                                 weight_learning_material_to_motivation_inter_one) <span class="sc">+</span></span>
<span id="cb31-2258"><a href="#cb31-2258" aria-hidden="true" tabindex="-1"></a>                                                (chance_of_good_trainer<span class="sc">*</span></span>
<span id="cb31-2259"><a href="#cb31-2259" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_trainer_to_motivation_inter_one) <span class="sc">+</span></span>
<span id="cb31-2260"><a href="#cb31-2260" aria-hidden="true" tabindex="-1"></a>                                                (chance_of_good_facility<span class="sc">*</span></span>
<span id="cb31-2261"><a href="#cb31-2261" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_facility_to_motivation) <span class="sc">+</span></span>
<span id="cb31-2262"><a href="#cb31-2262" aria-hidden="true" tabindex="-1"></a>                                                (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2263"><a href="#cb31-2263" aria-hidden="true" tabindex="-1"></a>                                                   weight_understand_nutrition_importance_to_motivation))<span class="sc">/</span></span>
<span id="cb31-2264"><a href="#cb31-2264" aria-hidden="true" tabindex="-1"></a>                                               (weight_learning_material_to_motivation_inter_one <span class="sc">+</span></span>
<span id="cb31-2265"><a href="#cb31-2265" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_trainer_to_motivation_inter_two <span class="sc">+</span></span>
<span id="cb31-2266"><a href="#cb31-2266" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_facility_to_motivation <span class="sc">+</span></span>
<span id="cb31-2267"><a href="#cb31-2267" aria-hidden="true" tabindex="-1"></a>                                                  weight_understand_nutrition_importance_to_motivation),</span>
<span id="cb31-2268"><a href="#cb31-2268" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2269"><a href="#cb31-2269" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2270"><a href="#cb31-2270" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2271"><a href="#cb31-2271" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate athletes' persistence percent</span></span>
<span id="cb31-2272"><a href="#cb31-2272" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2273"><a href="#cb31-2273" aria-hidden="true" tabindex="-1"></a>  chance_athletes_persistence_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2274"><a href="#cb31-2274" aria-hidden="true" tabindex="-1"></a>                                                weight_understand_nutrition_importance_to_persistence,</span>
<span id="cb31-2275"><a href="#cb31-2275" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-2276"><a href="#cb31-2276" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2277"><a href="#cb31-2277" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate chance of good learning outcome</span></span>
<span id="cb31-2278"><a href="#cb31-2278" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2279"><a href="#cb31-2279" aria-hidden="true" tabindex="-1"></a>  good_learning_outcome_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((knowledge_to_learning_outcome_inter_one<span class="sc">*</span></span>
<span id="cb31-2280"><a href="#cb31-2280" aria-hidden="true" tabindex="-1"></a>                                           weight_knowledge_to_learning_success) <span class="sc">+</span></span>
<span id="cb31-2281"><a href="#cb31-2281" aria-hidden="true" tabindex="-1"></a>                                           (chance_athletes_interest_inter_one<span class="sc">*</span></span>
<span id="cb31-2282"><a href="#cb31-2282" aria-hidden="true" tabindex="-1"></a>                                              weight_interest_to_learning_success) <span class="sc">+</span></span>
<span id="cb31-2283"><a href="#cb31-2283" aria-hidden="true" tabindex="-1"></a>                                           (chance_athletes_motivation_inter_one<span class="sc">*</span></span>
<span id="cb31-2284"><a href="#cb31-2284" aria-hidden="true" tabindex="-1"></a>                                              weight_motivation_to_learning_success) <span class="sc">+</span></span>
<span id="cb31-2285"><a href="#cb31-2285" aria-hidden="true" tabindex="-1"></a>                                           (chance_athletes_persistence_inter_one<span class="sc">*</span></span>
<span id="cb31-2286"><a href="#cb31-2286" aria-hidden="true" tabindex="-1"></a>                                              weight_persistence_to_learning_success))<span class="sc">/</span></span>
<span id="cb31-2287"><a href="#cb31-2287" aria-hidden="true" tabindex="-1"></a>                                          (weight_knowledge_to_learning_success <span class="sc">+</span></span>
<span id="cb31-2288"><a href="#cb31-2288" aria-hidden="true" tabindex="-1"></a>                                             weight_interest_to_learning_success <span class="sc">+</span></span>
<span id="cb31-2289"><a href="#cb31-2289" aria-hidden="true" tabindex="-1"></a>                                             weight_motivation_to_learning_success <span class="sc">+</span></span>
<span id="cb31-2290"><a href="#cb31-2290" aria-hidden="true" tabindex="-1"></a>                                             weight_persistence_to_learning_success),</span>
<span id="cb31-2291"><a href="#cb31-2291" aria-hidden="true" tabindex="-1"></a>                                        var_CV, n_year)</span>
<span id="cb31-2292"><a href="#cb31-2292" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2293"><a href="#cb31-2293" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2294"><a href="#cb31-2294" aria-hidden="true" tabindex="-1"></a>  <span class="do">#################################</span></span>
<span id="cb31-2295"><a href="#cb31-2295" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2296"><a href="#cb31-2296" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention two</span></span>
<span id="cb31-2297"><a href="#cb31-2297" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2298"><a href="#cb31-2298" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent contribution of having prior knowledge to good learning outcome</span></span>
<span id="cb31-2299"><a href="#cb31-2299" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2300"><a href="#cb31-2300" aria-hidden="true" tabindex="-1"></a>  prior_knowledge_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((prior_knowledge_ch_1<span class="sc">*</span></span>
<span id="cb31-2301"><a href="#cb31-2301" aria-hidden="true" tabindex="-1"></a>                                     weight_contribution_ch_1) <span class="sc">+</span></span>
<span id="cb31-2302"><a href="#cb31-2302" aria-hidden="true" tabindex="-1"></a>                                     (prior_knowledge_ch_2<span class="sc">*</span></span>
<span id="cb31-2303"><a href="#cb31-2303" aria-hidden="true" tabindex="-1"></a>                                        weight_contribution_ch_2))<span class="sc">/</span></span>
<span id="cb31-2304"><a href="#cb31-2304" aria-hidden="true" tabindex="-1"></a>                                    (weight_contribution_ch_1 <span class="sc">+</span></span>
<span id="cb31-2305"><a href="#cb31-2305" aria-hidden="true" tabindex="-1"></a>                                       weight_contribution_ch_2),</span>
<span id="cb31-2306"><a href="#cb31-2306" aria-hidden="true" tabindex="-1"></a>                                  var_CV, n_year)</span>
<span id="cb31-2307"><a href="#cb31-2307" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2308"><a href="#cb31-2308" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate improved knowledge with good trainer conditional on having prior knowledge</span></span>
<span id="cb31-2309"><a href="#cb31-2309" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2310"><a href="#cb31-2310" aria-hidden="true" tabindex="-1"></a>  knowledge_to_learning_outcome_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(prior_knowledge_inter_two <span class="sc">*</span></span>
<span id="cb31-2311"><a href="#cb31-2311" aria-hidden="true" tabindex="-1"></a>                                                  (((chance_of_good_trainer<span class="sc">*</span></span>
<span id="cb31-2312"><a href="#cb31-2312" aria-hidden="true" tabindex="-1"></a>                                                       weight_good_trainer_to_successful_ch1) <span class="sc">+</span></span>
<span id="cb31-2313"><a href="#cb31-2313" aria-hidden="true" tabindex="-1"></a>                                                      (chance_of_good_trainer<span class="sc">*</span></span>
<span id="cb31-2314"><a href="#cb31-2314" aria-hidden="true" tabindex="-1"></a>                                                         weight_good_trainer_to_successful_ch2))<span class="sc">/</span></span>
<span id="cb31-2315"><a href="#cb31-2315" aria-hidden="true" tabindex="-1"></a>                                                     (weight_good_trainer_to_successful_ch1 <span class="sc">+</span></span>
<span id="cb31-2316"><a href="#cb31-2316" aria-hidden="true" tabindex="-1"></a>                                                        weight_good_trainer_to_successful_ch2)),</span>
<span id="cb31-2317"><a href="#cb31-2317" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-2318"><a href="#cb31-2318" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2319"><a href="#cb31-2319" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate athletes' interest percent</span></span>
<span id="cb31-2320"><a href="#cb31-2320" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2321"><a href="#cb31-2321" aria-hidden="true" tabindex="-1"></a>  chance_athletes_interest_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_of_good_learning_hour<span class="sc">*</span></span>
<span id="cb31-2322"><a href="#cb31-2322" aria-hidden="true" tabindex="-1"></a>                                              weight_learning_hour_to_interest_in_class) <span class="sc">+</span></span>
<span id="cb31-2323"><a href="#cb31-2323" aria-hidden="true" tabindex="-1"></a>                                              (chance_of_good_learning_material<span class="sc">*</span></span>
<span id="cb31-2324"><a href="#cb31-2324" aria-hidden="true" tabindex="-1"></a>                                                 weight_learning_material_to_interest) <span class="sc">+</span></span>
<span id="cb31-2325"><a href="#cb31-2325" aria-hidden="true" tabindex="-1"></a>                                              (chance_of_good_trainer<span class="sc">*</span></span>
<span id="cb31-2326"><a href="#cb31-2326" aria-hidden="true" tabindex="-1"></a>                                                 weight_good_trainer_to_interest) <span class="sc">+</span></span>
<span id="cb31-2327"><a href="#cb31-2327" aria-hidden="true" tabindex="-1"></a>                                              (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2328"><a href="#cb31-2328" aria-hidden="true" tabindex="-1"></a>                                                 weight_understand_nutrition_importance_to_interest))<span class="sc">/</span></span>
<span id="cb31-2329"><a href="#cb31-2329" aria-hidden="true" tabindex="-1"></a>                                             (weight_learning_hour_to_interest_in_class <span class="sc">+</span></span>
<span id="cb31-2330"><a href="#cb31-2330" aria-hidden="true" tabindex="-1"></a>                                                weight_learning_material_to_interest <span class="sc">+</span></span>
<span id="cb31-2331"><a href="#cb31-2331" aria-hidden="true" tabindex="-1"></a>                                                weight_good_trainer_to_interest <span class="sc">+</span></span>
<span id="cb31-2332"><a href="#cb31-2332" aria-hidden="true" tabindex="-1"></a>                                                weight_understand_nutrition_importance_to_interest),</span>
<span id="cb31-2333"><a href="#cb31-2333" aria-hidden="true" tabindex="-1"></a>                                           var_CV, n_year)</span>
<span id="cb31-2334"><a href="#cb31-2334" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2335"><a href="#cb31-2335" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2336"><a href="#cb31-2336" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate athlete's motivation percent</span></span>
<span id="cb31-2337"><a href="#cb31-2337" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2338"><a href="#cb31-2338" aria-hidden="true" tabindex="-1"></a>  chance_athletes_motivation_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_of_good_learning_material<span class="sc">*</span></span>
<span id="cb31-2339"><a href="#cb31-2339" aria-hidden="true" tabindex="-1"></a>                                                 weight_learning_material_to_motivation_inter_two) <span class="sc">+</span></span>
<span id="cb31-2340"><a href="#cb31-2340" aria-hidden="true" tabindex="-1"></a>                                                (chance_of_good_trainer<span class="sc">*</span></span>
<span id="cb31-2341"><a href="#cb31-2341" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_trainer_to_motivation_inter_two) <span class="sc">+</span></span>
<span id="cb31-2342"><a href="#cb31-2342" aria-hidden="true" tabindex="-1"></a>                                                (chance_of_good_facility<span class="sc">*</span></span>
<span id="cb31-2343"><a href="#cb31-2343" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_facility_to_motivation) <span class="sc">+</span></span>
<span id="cb31-2344"><a href="#cb31-2344" aria-hidden="true" tabindex="-1"></a>                                                (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2345"><a href="#cb31-2345" aria-hidden="true" tabindex="-1"></a>                                                   weight_understand_nutrition_importance_to_motivation))<span class="sc">/</span></span>
<span id="cb31-2346"><a href="#cb31-2346" aria-hidden="true" tabindex="-1"></a>                                               (weight_learning_material_to_motivation_inter_two <span class="sc">+</span></span>
<span id="cb31-2347"><a href="#cb31-2347" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_trainer_to_motivation_inter_two <span class="sc">+</span></span>
<span id="cb31-2348"><a href="#cb31-2348" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_facility_to_motivation <span class="sc">+</span></span>
<span id="cb31-2349"><a href="#cb31-2349" aria-hidden="true" tabindex="-1"></a>                                                  weight_understand_nutrition_importance_to_motivation),</span>
<span id="cb31-2350"><a href="#cb31-2350" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2351"><a href="#cb31-2351" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2352"><a href="#cb31-2352" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2353"><a href="#cb31-2353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2354"><a href="#cb31-2354" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate chance of good learning outcome</span></span>
<span id="cb31-2355"><a href="#cb31-2355" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2356"><a href="#cb31-2356" aria-hidden="true" tabindex="-1"></a>  good_learning_outcome_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((knowledge_to_learning_outcome_inter_two<span class="sc">*</span></span>
<span id="cb31-2357"><a href="#cb31-2357" aria-hidden="true" tabindex="-1"></a>                                            weight_knowledge_to_learning_success) <span class="sc">+</span></span>
<span id="cb31-2358"><a href="#cb31-2358" aria-hidden="true" tabindex="-1"></a>                                           (chance_athletes_interest_inter_two<span class="sc">*</span></span>
<span id="cb31-2359"><a href="#cb31-2359" aria-hidden="true" tabindex="-1"></a>                                              weight_interest_to_learning_success) <span class="sc">+</span></span>
<span id="cb31-2360"><a href="#cb31-2360" aria-hidden="true" tabindex="-1"></a>                                           (chance_athletes_motivation_inter_two<span class="sc">*</span></span>
<span id="cb31-2361"><a href="#cb31-2361" aria-hidden="true" tabindex="-1"></a>                                              weight_motivation_to_learning_success))<span class="sc">/</span></span>
<span id="cb31-2362"><a href="#cb31-2362" aria-hidden="true" tabindex="-1"></a>                                          (weight_knowledge_to_learning_success <span class="sc">+</span></span>
<span id="cb31-2363"><a href="#cb31-2363" aria-hidden="true" tabindex="-1"></a>                                             weight_interest_to_learning_success <span class="sc">+</span></span>
<span id="cb31-2364"><a href="#cb31-2364" aria-hidden="true" tabindex="-1"></a>                                             weight_motivation_to_learning_success),</span>
<span id="cb31-2365"><a href="#cb31-2365" aria-hidden="true" tabindex="-1"></a>                                        var_CV, n_year)</span>
<span id="cb31-2366"><a href="#cb31-2366" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2367"><a href="#cb31-2367" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2368"><a href="#cb31-2368" aria-hidden="true" tabindex="-1"></a>  <span class="do">################################################################################</span></span>
<span id="cb31-2369"><a href="#cb31-2369" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2370"><a href="#cb31-2370" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Maintain good nutrition</span></span>
<span id="cb31-2371"><a href="#cb31-2371" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2372"><a href="#cb31-2372" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Chance of good food safety</span></span>
<span id="cb31-2373"><a href="#cb31-2373" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2374"><a href="#cb31-2374" aria-hidden="true" tabindex="-1"></a>  chance_good_food_safety <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_good_kitchen_staff<span class="sc">*</span></span>
<span id="cb31-2375"><a href="#cb31-2375" aria-hidden="true" tabindex="-1"></a>                                    weight_good_kitchen_staff_to_good_food_safety) <span class="sc">+</span></span>
<span id="cb31-2376"><a href="#cb31-2376" aria-hidden="true" tabindex="-1"></a>                                   (chance_regular_audit<span class="sc">*</span></span>
<span id="cb31-2377"><a href="#cb31-2377" aria-hidden="true" tabindex="-1"></a>                                      weight_regular_audit_to_good_food_safety))<span class="sc">/</span></span>
<span id="cb31-2378"><a href="#cb31-2378" aria-hidden="true" tabindex="-1"></a>                                  (weight_good_kitchen_staff_to_good_food_safety <span class="sc">+</span></span>
<span id="cb31-2379"><a href="#cb31-2379" aria-hidden="true" tabindex="-1"></a>                                     weight_regular_audit_to_good_food_safety),</span>
<span id="cb31-2380"><a href="#cb31-2380" aria-hidden="true" tabindex="-1"></a>                                var_CV, n_year)</span>
<span id="cb31-2381"><a href="#cb31-2381" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2382"><a href="#cb31-2382" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Chance of delicious meals</span></span>
<span id="cb31-2383"><a href="#cb31-2383" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2384"><a href="#cb31-2384" aria-hidden="true" tabindex="-1"></a>  good_kitchen_staff <span class="ot">&lt;-</span> <span class="fu">chance_event</span>(chance_good_kitchen_staff,</span>
<span id="cb31-2385"><a href="#cb31-2385" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">value_if =</span> <span class="dv">1</span>,</span>
<span id="cb31-2386"><a href="#cb31-2386" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">value_if_not =</span> <span class="dv">0</span>)</span>
<span id="cb31-2387"><a href="#cb31-2387" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2388"><a href="#cb31-2388" aria-hidden="true" tabindex="-1"></a>  chance_tasty_meal <span class="ot">&lt;-</span> <span class="cf">if</span>(good_kitchen_staff <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb31-2389"><a href="#cb31-2389" aria-hidden="true" tabindex="-1"></a>    chance_tasty_food_conditional_on_good_kitchen_staff</span>
<span id="cb31-2390"><a href="#cb31-2390" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb31-2391"><a href="#cb31-2391" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span> <span class="sc">-</span> chance_tasty_food_conditional_on_good_kitchen_staff</span>
<span id="cb31-2392"><a href="#cb31-2392" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-2393"><a href="#cb31-2393" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2394"><a href="#cb31-2394" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention one</span></span>
<span id="cb31-2395"><a href="#cb31-2395" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2396"><a href="#cb31-2396" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability that athletes will maintain good nutrition habits</span></span>
<span id="cb31-2397"><a href="#cb31-2397" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 100% probability means their actual intake will match the amount of nutrients provided</span></span>
<span id="cb31-2398"><a href="#cb31-2398" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2399"><a href="#cb31-2399" aria-hidden="true" tabindex="-1"></a>  maintain_good_nutrition_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((good_learning_outcome_inter_one<span class="sc">*</span></span>
<span id="cb31-2400"><a href="#cb31-2400" aria-hidden="true" tabindex="-1"></a>                                              weight_learning_outcome_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2401"><a href="#cb31-2401" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_interest_inter_one<span class="sc">*</span></span>
<span id="cb31-2402"><a href="#cb31-2402" aria-hidden="true" tabindex="-1"></a>                                                weight_interest_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2403"><a href="#cb31-2403" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2404"><a href="#cb31-2404" aria-hidden="true" tabindex="-1"></a>                                                weight_understand_importance_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2405"><a href="#cb31-2405" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_motivation_inter_one<span class="sc">*</span></span>
<span id="cb31-2406"><a href="#cb31-2406" aria-hidden="true" tabindex="-1"></a>                                                weight_motivation_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2407"><a href="#cb31-2407" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_persistence_inter_one<span class="sc">*</span></span>
<span id="cb31-2408"><a href="#cb31-2408" aria-hidden="true" tabindex="-1"></a>                                                weight_persistence_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2409"><a href="#cb31-2409" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_nutritionist_inter_one<span class="sc">*</span></span>
<span id="cb31-2410"><a href="#cb31-2410" aria-hidden="true" tabindex="-1"></a>                                                weight_good_nutritionist_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2411"><a href="#cb31-2411" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_support<span class="sc">*</span></span>
<span id="cb31-2412"><a href="#cb31-2412" aria-hidden="true" tabindex="-1"></a>                                                weight_good_support_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2413"><a href="#cb31-2413" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_food_safety<span class="sc">*</span></span>
<span id="cb31-2414"><a href="#cb31-2414" aria-hidden="true" tabindex="-1"></a>                                                weight_good_food_safety_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2415"><a href="#cb31-2415" aria-hidden="true" tabindex="-1"></a>                                             (chance_tasty_meal<span class="sc">*</span></span>
<span id="cb31-2416"><a href="#cb31-2416" aria-hidden="true" tabindex="-1"></a>                                                weight_tasty_food_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2417"><a href="#cb31-2417" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_kitchen_staff<span class="sc">*</span></span>
<span id="cb31-2418"><a href="#cb31-2418" aria-hidden="true" tabindex="-1"></a>                                                weight_good_kitchen_staff_to_maintain_good_nutrition_inter_one) <span class="sc">+</span></span>
<span id="cb31-2419"><a href="#cb31-2419" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_good_health<span class="sc">*</span></span>
<span id="cb31-2420"><a href="#cb31-2420" aria-hidden="true" tabindex="-1"></a>                                                weight_good_health_to_maintain_good_nutrition))<span class="sc">/</span></span>
<span id="cb31-2421"><a href="#cb31-2421" aria-hidden="true" tabindex="-1"></a>                                            (weight_learning_outcome_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2422"><a href="#cb31-2422" aria-hidden="true" tabindex="-1"></a>                                               weight_interest_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2423"><a href="#cb31-2423" aria-hidden="true" tabindex="-1"></a>                                               weight_understand_importance_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2424"><a href="#cb31-2424" aria-hidden="true" tabindex="-1"></a>                                               weight_motivation_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2425"><a href="#cb31-2425" aria-hidden="true" tabindex="-1"></a>                                               weight_persistence_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2426"><a href="#cb31-2426" aria-hidden="true" tabindex="-1"></a>                                               weight_good_nutritionist_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2427"><a href="#cb31-2427" aria-hidden="true" tabindex="-1"></a>                                               weight_good_support_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2428"><a href="#cb31-2428" aria-hidden="true" tabindex="-1"></a>                                               weight_good_food_safety_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2429"><a href="#cb31-2429" aria-hidden="true" tabindex="-1"></a>                                               weight_tasty_food_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2430"><a href="#cb31-2430" aria-hidden="true" tabindex="-1"></a>                                               weight_good_kitchen_staff_to_maintain_good_nutrition_inter_one <span class="sc">+</span></span>
<span id="cb31-2431"><a href="#cb31-2431" aria-hidden="true" tabindex="-1"></a>                                               weight_good_health_to_maintain_good_nutrition),</span>
<span id="cb31-2432"><a href="#cb31-2432" aria-hidden="true" tabindex="-1"></a>                                          var_CV, n_year)</span>
<span id="cb31-2433"><a href="#cb31-2433" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2434"><a href="#cb31-2434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2435"><a href="#cb31-2435" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2436"><a href="#cb31-2436" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention two</span></span>
<span id="cb31-2437"><a href="#cb31-2437" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2438"><a href="#cb31-2438" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability that athletes will maintain good nutrition habits</span></span>
<span id="cb31-2439"><a href="#cb31-2439" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2440"><a href="#cb31-2440" aria-hidden="true" tabindex="-1"></a>  maintain_good_nutrition_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((good_learning_outcome_inter_two<span class="sc">*</span></span>
<span id="cb31-2441"><a href="#cb31-2441" aria-hidden="true" tabindex="-1"></a>                                              weight_learning_outcome_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2442"><a href="#cb31-2442" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_interest_inter_two<span class="sc">*</span></span>
<span id="cb31-2443"><a href="#cb31-2443" aria-hidden="true" tabindex="-1"></a>                                                weight_interest_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2444"><a href="#cb31-2444" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_understand_nutrition_importance<span class="sc">*</span></span>
<span id="cb31-2445"><a href="#cb31-2445" aria-hidden="true" tabindex="-1"></a>                                                weight_understand_importance_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2446"><a href="#cb31-2446" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_motivation_inter_two<span class="sc">*</span></span>
<span id="cb31-2447"><a href="#cb31-2447" aria-hidden="true" tabindex="-1"></a>                                                weight_motivation_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2448"><a href="#cb31-2448" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_nutrition_team_inter_two<span class="sc">*</span></span>
<span id="cb31-2449"><a href="#cb31-2449" aria-hidden="true" tabindex="-1"></a>                                                weight_good_nutrition_team_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2450"><a href="#cb31-2450" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_support<span class="sc">*</span></span>
<span id="cb31-2451"><a href="#cb31-2451" aria-hidden="true" tabindex="-1"></a>                                                weight_good_support_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2452"><a href="#cb31-2452" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_food_safety<span class="sc">*</span></span>
<span id="cb31-2453"><a href="#cb31-2453" aria-hidden="true" tabindex="-1"></a>                                                weight_good_food_safety_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2454"><a href="#cb31-2454" aria-hidden="true" tabindex="-1"></a>                                             (chance_tasty_meal<span class="sc">*</span></span>
<span id="cb31-2455"><a href="#cb31-2455" aria-hidden="true" tabindex="-1"></a>                                                weight_tasty_food_to_maintain_good_nutrition) <span class="sc">+</span></span>
<span id="cb31-2456"><a href="#cb31-2456" aria-hidden="true" tabindex="-1"></a>                                             (chance_good_kitchen_staff<span class="sc">*</span></span>
<span id="cb31-2457"><a href="#cb31-2457" aria-hidden="true" tabindex="-1"></a>                                                weight_good_kitchen_staff_to_maintain_good_nutrition_inter_two) <span class="sc">+</span></span>
<span id="cb31-2458"><a href="#cb31-2458" aria-hidden="true" tabindex="-1"></a>                                             (chance_athletes_good_health<span class="sc">*</span></span>
<span id="cb31-2459"><a href="#cb31-2459" aria-hidden="true" tabindex="-1"></a>                                                weight_good_health_to_maintain_good_nutrition))<span class="sc">/</span></span>
<span id="cb31-2460"><a href="#cb31-2460" aria-hidden="true" tabindex="-1"></a>                                            (weight_learning_outcome_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2461"><a href="#cb31-2461" aria-hidden="true" tabindex="-1"></a>                                               weight_interest_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2462"><a href="#cb31-2462" aria-hidden="true" tabindex="-1"></a>                                               weight_understand_importance_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2463"><a href="#cb31-2463" aria-hidden="true" tabindex="-1"></a>                                               weight_motivation_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2464"><a href="#cb31-2464" aria-hidden="true" tabindex="-1"></a>                                               weight_good_nutrition_team_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2465"><a href="#cb31-2465" aria-hidden="true" tabindex="-1"></a>                                               weight_good_support_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2466"><a href="#cb31-2466" aria-hidden="true" tabindex="-1"></a>                                               weight_good_food_safety_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2467"><a href="#cb31-2467" aria-hidden="true" tabindex="-1"></a>                                               weight_tasty_food_to_maintain_good_nutrition <span class="sc">+</span></span>
<span id="cb31-2468"><a href="#cb31-2468" aria-hidden="true" tabindex="-1"></a>                                               weight_good_kitchen_staff_to_maintain_good_nutrition_inter_two <span class="sc">+</span></span>
<span id="cb31-2469"><a href="#cb31-2469" aria-hidden="true" tabindex="-1"></a>                                               weight_good_health_to_maintain_good_nutrition),</span>
<span id="cb31-2470"><a href="#cb31-2470" aria-hidden="true" tabindex="-1"></a>                                          var_CV, n_year)</span>
<span id="cb31-2471"><a href="#cb31-2471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2472"><a href="#cb31-2472" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2473"><a href="#cb31-2473" aria-hidden="true" tabindex="-1"></a>  <span class="do">################################################################################</span></span>
<span id="cb31-2474"><a href="#cb31-2474" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2475"><a href="#cb31-2475" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Calculate actual intake and potential food waste (from leftover/uneaten food only)</span></span>
<span id="cb31-2476"><a href="#cb31-2476" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2477"><a href="#cb31-2477" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Dietary restriction</span></span>
<span id="cb31-2478"><a href="#cb31-2478" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2479"><a href="#cb31-2479" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This is the only risk added to the nutrition outcome model. I take risk as the opposite of chance.</span></span>
<span id="cb31-2480"><a href="#cb31-2480" aria-hidden="true" tabindex="-1"></a>  <span class="co"># For example, risk of having a bad trainer is (1 - chance of having a good trainer). So, no additional</span></span>
<span id="cb31-2481"><a href="#cb31-2481" aria-hidden="true" tabindex="-1"></a>  <span class="co"># risks are added, instead I just reduce the chance (I initially added risk of junk food and intake issue</span></span>
<span id="cb31-2482"><a href="#cb31-2482" aria-hidden="true" tabindex="-1"></a>  <span class="co"># due to personal problem but I think it might be redundant, since I already reduce the chance. Risk may</span></span>
<span id="cb31-2483"><a href="#cb31-2483" aria-hidden="true" tabindex="-1"></a>  <span class="co"># only required if it is a case of chance_event?)</span></span>
<span id="cb31-2484"><a href="#cb31-2484" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2485"><a href="#cb31-2485" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Here the first assumption is a small fraction of athletes have dietary restriction, possibly to pork, beef, prawn,</span></span>
<span id="cb31-2486"><a href="#cb31-2486" aria-hidden="true" tabindex="-1"></a>  <span class="co"># egg and diary. The second assumption is each of those athlete only have one type of dietary restriction (they might</span></span>
<span id="cb31-2487"><a href="#cb31-2487" aria-hidden="true" tabindex="-1"></a>  <span class="co"># have more than one type but here it can be quite rare because allergy risk is low). So, a person who</span></span>
<span id="cb31-2488"><a href="#cb31-2488" aria-hidden="true" tabindex="-1"></a>  <span class="co"># restrict eating pork will eat beef, prawn, egg and diary. </span></span>
<span id="cb31-2489"><a href="#cb31-2489" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2490"><a href="#cb31-2490" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of athlete with dietary restriction</span></span>
<span id="cb31-2491"><a href="#cb31-2491" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2492"><a href="#cb31-2492" aria-hidden="true" tabindex="-1"></a>  number_athlete_dietary_restriction <span class="ot">&lt;-</span> percent_athlete_with_dietary_restriction <span class="sc">*</span> number_athlete</span>
<span id="cb31-2493"><a href="#cb31-2493" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2494"><a href="#cb31-2494" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent athlete restricting each type of food </span></span>
<span id="cb31-2495"><a href="#cb31-2495" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2496"><a href="#cb31-2496" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_pork <span class="ot">&lt;-</span> <span class="fu">vv</span>(pork_restriction <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> beef_restriction) <span class="sc">*</span></span>
<span id="cb31-2497"><a href="#cb31-2497" aria-hidden="true" tabindex="-1"></a>                                        (<span class="dv">1</span><span class="sc">-</span> prawn_restriction) <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> egg_restriction)<span class="sc">*</span></span>
<span id="cb31-2498"><a href="#cb31-2498" aria-hidden="true" tabindex="-1"></a>                                        (<span class="dv">1</span><span class="sc">-</span> dairy_restriction), var_CV, n_year)</span>
<span id="cb31-2499"><a href="#cb31-2499" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2500"><a href="#cb31-2500" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_beef <span class="ot">&lt;-</span> <span class="fu">vv</span>(beef_restriction <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> pork_restriction) <span class="sc">*</span></span>
<span id="cb31-2501"><a href="#cb31-2501" aria-hidden="true" tabindex="-1"></a>                                        (<span class="dv">1</span><span class="sc">-</span> prawn_restriction) <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> egg_restriction)<span class="sc">*</span></span>
<span id="cb31-2502"><a href="#cb31-2502" aria-hidden="true" tabindex="-1"></a>                                        (<span class="dv">1</span><span class="sc">-</span> dairy_restriction), var_CV, n_year)</span>
<span id="cb31-2503"><a href="#cb31-2503" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2504"><a href="#cb31-2504" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_prawn <span class="ot">&lt;-</span> <span class="fu">vv</span>(prawn_restriction <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> pork_restriction)<span class="sc">*</span></span>
<span id="cb31-2505"><a href="#cb31-2505" aria-hidden="true" tabindex="-1"></a>                                         (<span class="dv">1</span><span class="sc">-</span> beef_restriction)<span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> egg_restriction)<span class="sc">*</span></span>
<span id="cb31-2506"><a href="#cb31-2506" aria-hidden="true" tabindex="-1"></a>                                         (<span class="dv">1</span><span class="sc">-</span> dairy_restriction), var_CV, n_year)</span>
<span id="cb31-2507"><a href="#cb31-2507" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2508"><a href="#cb31-2508" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_egg <span class="ot">&lt;-</span> <span class="fu">vv</span>(egg_restriction<span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> pork_restriction)<span class="sc">*</span></span>
<span id="cb31-2509"><a href="#cb31-2509" aria-hidden="true" tabindex="-1"></a>                                       (<span class="dv">1</span><span class="sc">-</span> beef_restriction)<span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> prawn_restriction)<span class="sc">*</span></span>
<span id="cb31-2510"><a href="#cb31-2510" aria-hidden="true" tabindex="-1"></a>                                       (<span class="dv">1</span><span class="sc">-</span> dairy_restriction), var_CV, n_year)</span>
<span id="cb31-2511"><a href="#cb31-2511" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2512"><a href="#cb31-2512" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_dairy <span class="ot">&lt;-</span> <span class="fu">vv</span>(dairy_restriction<span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> pork_restriction)<span class="sc">*</span></span>
<span id="cb31-2513"><a href="#cb31-2513" aria-hidden="true" tabindex="-1"></a>                                         (<span class="dv">1</span><span class="sc">-</span> beef_restriction)<span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span> prawn_restriction)<span class="sc">*</span></span>
<span id="cb31-2514"><a href="#cb31-2514" aria-hidden="true" tabindex="-1"></a>                                         (<span class="dv">1</span><span class="sc">-</span> egg_restriction), var_CV, n_year)</span>
<span id="cb31-2515"><a href="#cb31-2515" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2516"><a href="#cb31-2516" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2517"><a href="#cb31-2517" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Normalize the percent so the percent value add up to 1</span></span>
<span id="cb31-2518"><a href="#cb31-2518" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2519"><a href="#cb31-2519" aria-hidden="true" tabindex="-1"></a>  total_percent <span class="ot">&lt;-</span> (percent_athlete_restrict_pork <span class="sc">+</span> percent_athlete_restrict_dairy <span class="sc">+</span></span>
<span id="cb31-2520"><a href="#cb31-2520" aria-hidden="true" tabindex="-1"></a>                        percent_athlete_restrict_beef <span class="sc">+</span> percent_athlete_restrict_egg <span class="sc">+</span></span>
<span id="cb31-2521"><a href="#cb31-2521" aria-hidden="true" tabindex="-1"></a>                        percent_athlete_restrict_prawn)</span>
<span id="cb31-2522"><a href="#cb31-2522" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-2523"><a href="#cb31-2523" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2524"><a href="#cb31-2524" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_pork_normalized <span class="ot">&lt;-</span> <span class="fu">vv</span>(percent_athlete_restrict_pork<span class="sc">/</span>total_percent,</span>
<span id="cb31-2525"><a href="#cb31-2525" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2526"><a href="#cb31-2526" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2527"><a href="#cb31-2527" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_beef_normalized <span class="ot">&lt;-</span> <span class="fu">vv</span>(percent_athlete_restrict_beef<span class="sc">/</span> total_percent,</span>
<span id="cb31-2528"><a href="#cb31-2528" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2529"><a href="#cb31-2529" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2530"><a href="#cb31-2530" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_prawn_normalized <span class="ot">&lt;-</span> <span class="fu">vv</span>(percent_athlete_restrict_prawn<span class="sc">/</span>total_percent,</span>
<span id="cb31-2531"><a href="#cb31-2531" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2532"><a href="#cb31-2532" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2533"><a href="#cb31-2533" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_egg_normalized <span class="ot">&lt;-</span> <span class="fu">vv</span>(percent_athlete_restrict_egg<span class="sc">/</span>total_percent,</span>
<span id="cb31-2534"><a href="#cb31-2534" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-2535"><a href="#cb31-2535" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2536"><a href="#cb31-2536" aria-hidden="true" tabindex="-1"></a>  percent_athlete_restrict_dairy_normalized <span class="ot">&lt;-</span> <span class="fu">vv</span>(percent_athlete_restrict_dairy<span class="sc">/</span>total_percent,</span>
<span id="cb31-2537"><a href="#cb31-2537" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2538"><a href="#cb31-2538" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2539"><a href="#cb31-2539" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of athlete for each type of dietary restriction</span></span>
<span id="cb31-2540"><a href="#cb31-2540" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2541"><a href="#cb31-2541" aria-hidden="true" tabindex="-1"></a>  number_restrict_pork <span class="ot">&lt;-</span> <span class="fu">round</span>(percent_athlete_restrict_pork_normalized<span class="sc">*</span></span>
<span id="cb31-2542"><a href="#cb31-2542" aria-hidden="true" tabindex="-1"></a>                                  number_athlete_dietary_restriction, <span class="dv">0</span>)</span>
<span id="cb31-2543"><a href="#cb31-2543" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2544"><a href="#cb31-2544" aria-hidden="true" tabindex="-1"></a>  number_restrict_beef <span class="ot">&lt;-</span> <span class="fu">round</span>(percent_athlete_restrict_beef_normalized<span class="sc">*</span></span>
<span id="cb31-2545"><a href="#cb31-2545" aria-hidden="true" tabindex="-1"></a>                                  number_athlete_dietary_restriction, <span class="dv">0</span>)</span>
<span id="cb31-2546"><a href="#cb31-2546" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2547"><a href="#cb31-2547" aria-hidden="true" tabindex="-1"></a>  number_restrict_prawn <span class="ot">&lt;-</span> <span class="fu">round</span>(percent_athlete_restrict_prawn_normalized<span class="sc">*</span></span>
<span id="cb31-2548"><a href="#cb31-2548" aria-hidden="true" tabindex="-1"></a>                                   number_athlete_dietary_restriction, <span class="dv">0</span>)</span>
<span id="cb31-2549"><a href="#cb31-2549" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2550"><a href="#cb31-2550" aria-hidden="true" tabindex="-1"></a>  number_restrict_egg <span class="ot">&lt;-</span> <span class="fu">round</span>(percent_athlete_restrict_egg_normalized<span class="sc">*</span></span>
<span id="cb31-2551"><a href="#cb31-2551" aria-hidden="true" tabindex="-1"></a>                                 number_athlete_dietary_restriction, <span class="dv">0</span>)</span>
<span id="cb31-2552"><a href="#cb31-2552" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2553"><a href="#cb31-2553" aria-hidden="true" tabindex="-1"></a>  number_restrict_dairy <span class="ot">&lt;-</span> <span class="fu">round</span>(percent_athlete_restrict_dairy_normalized<span class="sc">*</span></span>
<span id="cb31-2554"><a href="#cb31-2554" aria-hidden="true" tabindex="-1"></a>                                   number_athlete_dietary_restriction, <span class="dv">0</span>)</span>
<span id="cb31-2555"><a href="#cb31-2555" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2556"><a href="#cb31-2556" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of serving to minus out from total servings</span></span>
<span id="cb31-2557"><a href="#cb31-2557" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2558"><a href="#cb31-2558" aria-hidden="true" tabindex="-1"></a>  restrict_pork_serving <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_pork_serving_per_person<span class="sc">/</span>n_year)<span class="sc">*</span> <span class="co"># divide by n_year because they are total 4 years value</span></span>
<span id="cb31-2559"><a href="#cb31-2559" aria-hidden="true" tabindex="-1"></a>                                number_restrict_pork, var_CV, n_year)</span>
<span id="cb31-2560"><a href="#cb31-2560" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2561"><a href="#cb31-2561" aria-hidden="true" tabindex="-1"></a>  restrict_beef_serving <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_beef_serving_per_person<span class="sc">/</span>n_year)<span class="sc">*</span></span>
<span id="cb31-2562"><a href="#cb31-2562" aria-hidden="true" tabindex="-1"></a>                                number_restrict_beef, var_CV, n_year)</span>
<span id="cb31-2563"><a href="#cb31-2563" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2564"><a href="#cb31-2564" aria-hidden="true" tabindex="-1"></a>  restrict_prawn_serving <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_prawn_serving_per_person<span class="sc">/</span>n_year)<span class="sc">*</span></span>
<span id="cb31-2565"><a href="#cb31-2565" aria-hidden="true" tabindex="-1"></a>                                 number_restrict_prawn, var_CV, n_year)</span>
<span id="cb31-2566"><a href="#cb31-2566" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2567"><a href="#cb31-2567" aria-hidden="true" tabindex="-1"></a>  restrict_egg_serving <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_egg_serving_per_person<span class="sc">/</span>n_year)<span class="sc">*</span></span>
<span id="cb31-2568"><a href="#cb31-2568" aria-hidden="true" tabindex="-1"></a>                               number_restrict_egg, var_CV, n_year)</span>
<span id="cb31-2569"><a href="#cb31-2569" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2570"><a href="#cb31-2570" aria-hidden="true" tabindex="-1"></a>  restrict_dairy_serving <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_dairy_serving_per_person<span class="sc">/</span>n_year)<span class="sc">*</span></span>
<span id="cb31-2571"><a href="#cb31-2571" aria-hidden="true" tabindex="-1"></a>                                 number_restrict_dairy, var_CV, n_year)</span>
<span id="cb31-2572"><a href="#cb31-2572" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2573"><a href="#cb31-2573" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate adjusted total servings </span></span>
<span id="cb31-2574"><a href="#cb31-2574" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2575"><a href="#cb31-2575" aria-hidden="true" tabindex="-1"></a>  total_pork_serving_per_year_adjusted_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_pork_serving_all_athletes<span class="sc">/</span>n_year) <span class="sc">-</span></span>
<span id="cb31-2576"><a href="#cb31-2576" aria-hidden="true" tabindex="-1"></a>                                                        restrict_pork_serving, var_CV, n_year)</span>
<span id="cb31-2577"><a href="#cb31-2577" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2578"><a href="#cb31-2578" aria-hidden="true" tabindex="-1"></a>  total_beef_serving_per_year_adjusted_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_beef_serving_all_athletes<span class="sc">/</span>n_year) <span class="sc">-</span></span>
<span id="cb31-2579"><a href="#cb31-2579" aria-hidden="true" tabindex="-1"></a>                                                        restrict_beef_serving, var_CV, n_year)</span>
<span id="cb31-2580"><a href="#cb31-2580" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2581"><a href="#cb31-2581" aria-hidden="true" tabindex="-1"></a>  total_prawn_serving_per_year_adjusted_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_prawn_serving_all_athletes<span class="sc">/</span>n_year) <span class="sc">-</span></span>
<span id="cb31-2582"><a href="#cb31-2582" aria-hidden="true" tabindex="-1"></a>                                                         restrict_prawn_serving, var_CV, n_year)</span>
<span id="cb31-2583"><a href="#cb31-2583" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2584"><a href="#cb31-2584" aria-hidden="true" tabindex="-1"></a>  total_egg_serving_per_year_adjusted_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_egg_serving_all_athletes<span class="sc">/</span>n_year) <span class="sc">-</span></span>
<span id="cb31-2585"><a href="#cb31-2585" aria-hidden="true" tabindex="-1"></a>                                                       restrict_egg_serving, var_CV, n_year)</span>
<span id="cb31-2586"><a href="#cb31-2586" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2587"><a href="#cb31-2587" aria-hidden="true" tabindex="-1"></a>  total_dairy_serving_per_year_adjusted_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>((total_dairy_serving_all_athletes<span class="sc">/</span>n_year) <span class="sc">-</span></span>
<span id="cb31-2588"><a href="#cb31-2588" aria-hidden="true" tabindex="-1"></a>                                                         restrict_dairy_serving, var_CV, n_year)</span>
<span id="cb31-2589"><a href="#cb31-2589" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2590"><a href="#cb31-2590" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate actual intake (Intervention one)</span></span>
<span id="cb31-2591"><a href="#cb31-2591" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2592"><a href="#cb31-2592" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Here I differentiate between not eating because of bad dietary habits (esp don't like food) and</span></span>
<span id="cb31-2593"><a href="#cb31-2593" aria-hidden="true" tabindex="-1"></a>  <span class="co"># not eating because not enough food was provided. So, I chose (need experts' input here) vegetable,</span></span>
<span id="cb31-2594"><a href="#cb31-2594" aria-hidden="true" tabindex="-1"></a>  <span class="co"># bean, fish as potential "don't-like" food (can be improved by intervention), and egg, dairy, beef, pork, prawn as</span></span>
<span id="cb31-2595"><a href="#cb31-2595" aria-hidden="true" tabindex="-1"></a>  <span class="co"># restricted due to health or religious reason (assuming no replacement is given- this is also a limitation, I need</span></span>
<span id="cb31-2596"><a href="#cb31-2596" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to do more calculation to adjust those. Not worth it since these portions are quite small). </span></span>
<span id="cb31-2597"><a href="#cb31-2597" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2598"><a href="#cb31-2598" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Another assumption, especially for intervention 1 is that they may like the food and enough food is also </span></span>
<span id="cb31-2599"><a href="#cb31-2599" aria-hidden="true" tabindex="-1"></a>  <span class="co"># provided, but they don't meet intake (or increase intake- need more links for this, I didn't include this</span></span>
<span id="cb31-2600"><a href="#cb31-2600" aria-hidden="true" tabindex="-1"></a>  <span class="co"># in these models) because their learning outcome and chance of maintaining good nutrition are not good </span></span>
<span id="cb31-2601"><a href="#cb31-2601" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (they don't know how to manage diet well or just not interested). While it is a possibility, I assume the chance</span></span>
<span id="cb31-2602"><a href="#cb31-2602" aria-hidden="true" tabindex="-1"></a>  <span class="co"># is quite low- for example, protein food will be provided in serving sizes and there is still a nutritionist around</span></span>
<span id="cb31-2603"><a href="#cb31-2603" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for consultation. And the nutritionist and the kitchen will collaborate to provide adequate amount of food in </span></span>
<span id="cb31-2604"><a href="#cb31-2604" aria-hidden="true" tabindex="-1"></a>  <span class="co"># appropriate serving size and also measuring tools will be provided. In intervention 1, </span></span>
<span id="cb31-2605"><a href="#cb31-2605" aria-hidden="true" tabindex="-1"></a>  <span class="co"># athletes are expected to serve themselves, but all food will be provided more or less the amount they need- </span></span>
<span id="cb31-2606"><a href="#cb31-2606" aria-hidden="true" tabindex="-1"></a>  <span class="co"># not much extra. That means they will all get around the same portion they need, unless their learning outcome</span></span>
<span id="cb31-2607"><a href="#cb31-2607" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and chance of maintaining good nutrition is extremely low. Things will work out otherwise.  </span></span>
<span id="cb31-2608"><a href="#cb31-2608" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2609"><a href="#cb31-2609" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This chance is also very slim for intervention 2 where the kitchen staff are expected to fill the food trays</span></span>
<span id="cb31-2610"><a href="#cb31-2610" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for athletes. So, I won't consider the chance of happening for both interventions. </span></span>
<span id="cb31-2611"><a href="#cb31-2611" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2612"><a href="#cb31-2612" aria-hidden="true" tabindex="-1"></a>  <span class="co"># But that chance will become important if I consider outside food. Here, the model is built as if outside food</span></span>
<span id="cb31-2613"><a href="#cb31-2613" aria-hidden="true" tabindex="-1"></a>  <span class="co"># is non-existence, and that means there's no chance of over-nutrition but only under-nutrition, no replacement food. </span></span>
<span id="cb31-2614"><a href="#cb31-2614" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assumption here is they will eat the food provided or just starve. This is also a limitation of the model. If I</span></span>
<span id="cb31-2615"><a href="#cb31-2615" aria-hidden="true" tabindex="-1"></a>  <span class="co"># consider outside food, there will be a whole new model with lots of calculations. I rather not go into detail for</span></span>
<span id="cb31-2616"><a href="#cb31-2616" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a practice. </span></span>
<span id="cb31-2617"><a href="#cb31-2617" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2618"><a href="#cb31-2618" aria-hidden="true" tabindex="-1"></a>  actual_egg_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2619"><a href="#cb31-2619" aria-hidden="true" tabindex="-1"></a>                                                          var_CV, n_year)</span>
<span id="cb31-2620"><a href="#cb31-2620" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2621"><a href="#cb31-2621" aria-hidden="true" tabindex="-1"></a>  actual_dairy_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2622"><a href="#cb31-2622" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2623"><a href="#cb31-2623" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2624"><a href="#cb31-2624" aria-hidden="true" tabindex="-1"></a>  actual_sandwich_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sandwich_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2625"><a href="#cb31-2625" aria-hidden="true" tabindex="-1"></a>                                                                var_CV, n_year) <span class="co">#values will sum to 4 years again in return function, so divide by 4 now</span></span>
<span id="cb31-2626"><a href="#cb31-2626" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2627"><a href="#cb31-2627" aria-hidden="true" tabindex="-1"></a>  actual_vegetable_mushroom_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_one<span class="sc">*</span></span>
<span id="cb31-2628"><a href="#cb31-2628" aria-hidden="true" tabindex="-1"></a>                                                                   (total_vegetable_mushroom_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2629"><a href="#cb31-2629" aria-hidden="true" tabindex="-1"></a>                                                                 var_CV, n_year)</span>
<span id="cb31-2630"><a href="#cb31-2630" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2631"><a href="#cb31-2631" aria-hidden="true" tabindex="-1"></a>  actual_bean_nut_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_one<span class="sc">*</span></span>
<span id="cb31-2632"><a href="#cb31-2632" aria-hidden="true" tabindex="-1"></a>                                                                  (total_bean_nut_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2633"><a href="#cb31-2633" aria-hidden="true" tabindex="-1"></a>                                                                var_CV, n_year)</span>
<span id="cb31-2634"><a href="#cb31-2634" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2635"><a href="#cb31-2635" aria-hidden="true" tabindex="-1"></a>  actual_fruit_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fruit_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2636"><a href="#cb31-2636" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-2637"><a href="#cb31-2637" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2638"><a href="#cb31-2638" aria-hidden="true" tabindex="-1"></a>  actual_sports_drink_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sports_drink_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2639"><a href="#cb31-2639" aria-hidden="true" tabindex="-1"></a>                                                                    var_CV, n_year)</span>
<span id="cb31-2640"><a href="#cb31-2640" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2641"><a href="#cb31-2641" aria-hidden="true" tabindex="-1"></a>  actual_chicken_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_chicken_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2642"><a href="#cb31-2642" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-2643"><a href="#cb31-2643" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2644"><a href="#cb31-2644" aria-hidden="true" tabindex="-1"></a>  actual_pork_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2645"><a href="#cb31-2645" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2646"><a href="#cb31-2646" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2647"><a href="#cb31-2647" aria-hidden="true" tabindex="-1"></a>  actual_beef_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2648"><a href="#cb31-2648" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2649"><a href="#cb31-2649" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2650"><a href="#cb31-2650" aria-hidden="true" tabindex="-1"></a>  actual_fish_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_one<span class="sc">*</span></span>
<span id="cb31-2651"><a href="#cb31-2651" aria-hidden="true" tabindex="-1"></a>                                                              (total_fish_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2652"><a href="#cb31-2652" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2653"><a href="#cb31-2653" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2654"><a href="#cb31-2654" aria-hidden="true" tabindex="-1"></a>  actual_prawn_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2655"><a href="#cb31-2655" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-2656"><a href="#cb31-2656" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2657"><a href="#cb31-2657" aria-hidden="true" tabindex="-1"></a>  actual_rice_noodle_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_rice_noodle_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2658"><a href="#cb31-2658" aria-hidden="true" tabindex="-1"></a>                                                                   var_CV, n_year)</span>
<span id="cb31-2659"><a href="#cb31-2659" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2660"><a href="#cb31-2660" aria-hidden="true" tabindex="-1"></a>  actual_fat_oil_serving_per_year_all_athletes_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_oil_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2661"><a href="#cb31-2661" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-2662"><a href="#cb31-2662" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2663"><a href="#cb31-2663" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate actual intake (intervention 2)</span></span>
<span id="cb31-2664"><a href="#cb31-2664" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2665"><a href="#cb31-2665" aria-hidden="true" tabindex="-1"></a>  actual_egg_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2666"><a href="#cb31-2666" aria-hidden="true" tabindex="-1"></a>                                                           var_CV, n_year)</span>
<span id="cb31-2667"><a href="#cb31-2667" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2668"><a href="#cb31-2668" aria-hidden="true" tabindex="-1"></a>  actual_dairy_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2669"><a href="#cb31-2669" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-2670"><a href="#cb31-2670" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2671"><a href="#cb31-2671" aria-hidden="true" tabindex="-1"></a>  actual_sandwich_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sandwich_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2672"><a href="#cb31-2672" aria-hidden="true" tabindex="-1"></a>                                                                var_CV, n_year)</span>
<span id="cb31-2673"><a href="#cb31-2673" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2674"><a href="#cb31-2674" aria-hidden="true" tabindex="-1"></a>  actual_vegetable_mushroom_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_two<span class="sc">*</span></span>
<span id="cb31-2675"><a href="#cb31-2675" aria-hidden="true" tabindex="-1"></a>                                                                   (total_vegetable_mushroom_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2676"><a href="#cb31-2676" aria-hidden="true" tabindex="-1"></a>                                                                 var_CV, n_year)</span>
<span id="cb31-2677"><a href="#cb31-2677" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2678"><a href="#cb31-2678" aria-hidden="true" tabindex="-1"></a>  actual_bean_nut_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_two<span class="sc">*</span></span>
<span id="cb31-2679"><a href="#cb31-2679" aria-hidden="true" tabindex="-1"></a>                                                                  (total_bean_nut_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2680"><a href="#cb31-2680" aria-hidden="true" tabindex="-1"></a>                                                                var_CV, n_year)</span>
<span id="cb31-2681"><a href="#cb31-2681" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2682"><a href="#cb31-2682" aria-hidden="true" tabindex="-1"></a>  actual_fruit_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fruit_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2683"><a href="#cb31-2683" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-2684"><a href="#cb31-2684" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2685"><a href="#cb31-2685" aria-hidden="true" tabindex="-1"></a>  actual_sports_drink_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sports_drink_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2686"><a href="#cb31-2686" aria-hidden="true" tabindex="-1"></a>                                                                    var_CV, n_year)</span>
<span id="cb31-2687"><a href="#cb31-2687" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2688"><a href="#cb31-2688" aria-hidden="true" tabindex="-1"></a>  actual_chicken_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_chicken_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2689"><a href="#cb31-2689" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-2690"><a href="#cb31-2690" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2691"><a href="#cb31-2691" aria-hidden="true" tabindex="-1"></a>  actual_pork_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2692"><a href="#cb31-2692" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2693"><a href="#cb31-2693" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2694"><a href="#cb31-2694" aria-hidden="true" tabindex="-1"></a>  actual_beef_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2695"><a href="#cb31-2695" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2696"><a href="#cb31-2696" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2697"><a href="#cb31-2697" aria-hidden="true" tabindex="-1"></a>  actual_fish_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(maintain_good_nutrition_inter_two<span class="sc">*</span></span>
<span id="cb31-2698"><a href="#cb31-2698" aria-hidden="true" tabindex="-1"></a>                                                              (total_fish_serving_all_athletes<span class="sc">/</span>n_year),</span>
<span id="cb31-2699"><a href="#cb31-2699" aria-hidden="true" tabindex="-1"></a>                                                            var_CV, n_year)</span>
<span id="cb31-2700"><a href="#cb31-2700" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2701"><a href="#cb31-2701" aria-hidden="true" tabindex="-1"></a>  actual_prawn_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_per_year_adjusted_athletes,</span>
<span id="cb31-2702"><a href="#cb31-2702" aria-hidden="true" tabindex="-1"></a>                                                             var_CV, n_year)</span>
<span id="cb31-2703"><a href="#cb31-2703" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2704"><a href="#cb31-2704" aria-hidden="true" tabindex="-1"></a>  actual_rice_noodle_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_rice_noodle_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2705"><a href="#cb31-2705" aria-hidden="true" tabindex="-1"></a>                                                                   var_CV, n_year)</span>
<span id="cb31-2706"><a href="#cb31-2706" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2707"><a href="#cb31-2707" aria-hidden="true" tabindex="-1"></a>  actual_fat_oil_serving_per_year_all_athletes_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_oil_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2708"><a href="#cb31-2708" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-2709"><a href="#cb31-2709" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2710"><a href="#cb31-2710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2711"><a href="#cb31-2711" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add total serving for all food in the function because I want to make comparison in plots</span></span>
<span id="cb31-2712"><a href="#cb31-2712" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2713"><a href="#cb31-2713" aria-hidden="true" tabindex="-1"></a>  total_egg_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2714"><a href="#cb31-2714" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-2715"><a href="#cb31-2715" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2716"><a href="#cb31-2716" aria-hidden="true" tabindex="-1"></a>  total_dairy_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2717"><a href="#cb31-2717" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2718"><a href="#cb31-2718" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2719"><a href="#cb31-2719" aria-hidden="true" tabindex="-1"></a>  total_sandwich_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sandwich_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2720"><a href="#cb31-2720" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-2721"><a href="#cb31-2721" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2722"><a href="#cb31-2722" aria-hidden="true" tabindex="-1"></a>  total_vegetable_mushroom_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_vegetable_mushroom_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2723"><a href="#cb31-2723" aria-hidden="true" tabindex="-1"></a>                                                               var_CV, n_year)</span>
<span id="cb31-2724"><a href="#cb31-2724" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2725"><a href="#cb31-2725" aria-hidden="true" tabindex="-1"></a>  total_bean_nut_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_bean_nut_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2726"><a href="#cb31-2726" aria-hidden="true" tabindex="-1"></a>                                                     var_CV, n_year)</span>
<span id="cb31-2727"><a href="#cb31-2727" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2728"><a href="#cb31-2728" aria-hidden="true" tabindex="-1"></a>  total_fruit_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fruit_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2729"><a href="#cb31-2729" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2730"><a href="#cb31-2730" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2731"><a href="#cb31-2731" aria-hidden="true" tabindex="-1"></a>  total_sports_drink_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_sports_drink_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2732"><a href="#cb31-2732" aria-hidden="true" tabindex="-1"></a>                                                         var_CV, n_year)</span>
<span id="cb31-2733"><a href="#cb31-2733" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2734"><a href="#cb31-2734" aria-hidden="true" tabindex="-1"></a>  total_chicken_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_chicken_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2735"><a href="#cb31-2735" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2736"><a href="#cb31-2736" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2737"><a href="#cb31-2737" aria-hidden="true" tabindex="-1"></a>  total_pork_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2738"><a href="#cb31-2738" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2739"><a href="#cb31-2739" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2740"><a href="#cb31-2740" aria-hidden="true" tabindex="-1"></a>  total_fish_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fish_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2741"><a href="#cb31-2741" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2742"><a href="#cb31-2742" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2743"><a href="#cb31-2743" aria-hidden="true" tabindex="-1"></a>  total_beef_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2744"><a href="#cb31-2744" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2745"><a href="#cb31-2745" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2746"><a href="#cb31-2746" aria-hidden="true" tabindex="-1"></a>  total_prawn_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2747"><a href="#cb31-2747" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2748"><a href="#cb31-2748" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2749"><a href="#cb31-2749" aria-hidden="true" tabindex="-1"></a>  total_rice_noodle_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_rice_noodle_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2750"><a href="#cb31-2750" aria-hidden="true" tabindex="-1"></a>                                                        var_CV, n_year)</span>
<span id="cb31-2751"><a href="#cb31-2751" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2752"><a href="#cb31-2752" aria-hidden="true" tabindex="-1"></a>  total_fat_oil_serving_per_year_all_athletes <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fat_oil_serving_all_athletes<span class="sc">/</span>n_year,</span>
<span id="cb31-2753"><a href="#cb31-2753" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2754"><a href="#cb31-2754" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2755"><a href="#cb31-2755" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2756"><a href="#cb31-2756" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate food waste (Intervention one) (for model 5)</span></span>
<span id="cb31-2757"><a href="#cb31-2757" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2758"><a href="#cb31-2758" aria-hidden="true" tabindex="-1"></a>  total_yearly_egg_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2759"><a href="#cb31-2759" aria-hidden="true" tabindex="-1"></a>                                                    actual_egg_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2760"><a href="#cb31-2760" aria-hidden="true" tabindex="-1"></a>                                                var_CV, n_year)</span>
<span id="cb31-2761"><a href="#cb31-2761" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2762"><a href="#cb31-2762" aria-hidden="true" tabindex="-1"></a>  total_yearly_dairy_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2763"><a href="#cb31-2763" aria-hidden="true" tabindex="-1"></a>                                                      actual_dairy_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2764"><a href="#cb31-2764" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2765"><a href="#cb31-2765" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2766"><a href="#cb31-2766" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2767"><a href="#cb31-2767" aria-hidden="true" tabindex="-1"></a>  total_yearly_vegetable_mushroom_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_vegetable_mushroom_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2768"><a href="#cb31-2768" aria-hidden="true" tabindex="-1"></a>                                                                    actual_vegetable_mushroom_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2769"><a href="#cb31-2769" aria-hidden="true" tabindex="-1"></a>                                                                  var_CV, n_year)</span>
<span id="cb31-2770"><a href="#cb31-2770" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2771"><a href="#cb31-2771" aria-hidden="true" tabindex="-1"></a>  total_yearly_bean_nut_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_bean_nut_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2772"><a href="#cb31-2772" aria-hidden="true" tabindex="-1"></a>                                                        actual_bean_nut_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2773"><a href="#cb31-2773" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-2774"><a href="#cb31-2774" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2775"><a href="#cb31-2775" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2776"><a href="#cb31-2776" aria-hidden="true" tabindex="-1"></a>  total_yearly_pork_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2777"><a href="#cb31-2777" aria-hidden="true" tabindex="-1"></a>                                                      actual_pork_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2778"><a href="#cb31-2778" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2779"><a href="#cb31-2779" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2780"><a href="#cb31-2780" aria-hidden="true" tabindex="-1"></a>  total_yearly_beef_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2781"><a href="#cb31-2781" aria-hidden="true" tabindex="-1"></a>                                                      actual_beef_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2782"><a href="#cb31-2782" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2783"><a href="#cb31-2783" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2784"><a href="#cb31-2784" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2785"><a href="#cb31-2785" aria-hidden="true" tabindex="-1"></a>  total_yearly_fish_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fish_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2786"><a href="#cb31-2786" aria-hidden="true" tabindex="-1"></a>                                                      actual_fish_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2787"><a href="#cb31-2787" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2788"><a href="#cb31-2788" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2789"><a href="#cb31-2789" aria-hidden="true" tabindex="-1"></a>  total_yearly_prawn_serving_wasted_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2790"><a href="#cb31-2790" aria-hidden="true" tabindex="-1"></a>                                                       actual_prawn_serving_per_year_all_athletes_inter_one,</span>
<span id="cb31-2791"><a href="#cb31-2791" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2792"><a href="#cb31-2792" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2793"><a href="#cb31-2793" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2794"><a href="#cb31-2794" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2795"><a href="#cb31-2795" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate food waste (Intervention two) (for model 5)</span></span>
<span id="cb31-2796"><a href="#cb31-2796" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2797"><a href="#cb31-2797" aria-hidden="true" tabindex="-1"></a>  total_yearly_egg_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_egg_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2798"><a href="#cb31-2798" aria-hidden="true" tabindex="-1"></a>                                                    actual_egg_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2799"><a href="#cb31-2799" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2800"><a href="#cb31-2800" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2801"><a href="#cb31-2801" aria-hidden="true" tabindex="-1"></a>  total_yearly_dairy_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_dairy_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2802"><a href="#cb31-2802" aria-hidden="true" tabindex="-1"></a>                                                      actual_dairy_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2803"><a href="#cb31-2803" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2804"><a href="#cb31-2804" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2805"><a href="#cb31-2805" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2806"><a href="#cb31-2806" aria-hidden="true" tabindex="-1"></a>  total_yearly_vegetable_mushroom_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_vegetable_mushroom_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2807"><a href="#cb31-2807" aria-hidden="true" tabindex="-1"></a>                                                                   actual_vegetable_mushroom_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2808"><a href="#cb31-2808" aria-hidden="true" tabindex="-1"></a>                                                                 var_CV, n_year)</span>
<span id="cb31-2809"><a href="#cb31-2809" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2810"><a href="#cb31-2810" aria-hidden="true" tabindex="-1"></a>  total_yearly_bean_nut_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_bean_nut_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2811"><a href="#cb31-2811" aria-hidden="true" tabindex="-1"></a>                                                         actual_bean_nut_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2812"><a href="#cb31-2812" aria-hidden="true" tabindex="-1"></a>                                                       var_CV, n_year)</span>
<span id="cb31-2813"><a href="#cb31-2813" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2814"><a href="#cb31-2814" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2815"><a href="#cb31-2815" aria-hidden="true" tabindex="-1"></a>  total_yearly_pork_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_pork_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2816"><a href="#cb31-2816" aria-hidden="true" tabindex="-1"></a>                                                     actual_pork_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2817"><a href="#cb31-2817" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-2818"><a href="#cb31-2818" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2819"><a href="#cb31-2819" aria-hidden="true" tabindex="-1"></a>  total_yearly_beef_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_beef_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2820"><a href="#cb31-2820" aria-hidden="true" tabindex="-1"></a>                                                     actual_beef_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2821"><a href="#cb31-2821" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-2822"><a href="#cb31-2822" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2823"><a href="#cb31-2823" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2824"><a href="#cb31-2824" aria-hidden="true" tabindex="-1"></a>  total_yearly_fish_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_fish_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2825"><a href="#cb31-2825" aria-hidden="true" tabindex="-1"></a>                                                     actual_fish_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2826"><a href="#cb31-2826" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-2827"><a href="#cb31-2827" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2828"><a href="#cb31-2828" aria-hidden="true" tabindex="-1"></a>  total_yearly_prawn_serving_wasted_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(total_prawn_serving_per_year_all_athletes <span class="sc">-</span></span>
<span id="cb31-2829"><a href="#cb31-2829" aria-hidden="true" tabindex="-1"></a>                                                      actual_prawn_serving_per_year_all_athletes_inter_two,</span>
<span id="cb31-2830"><a href="#cb31-2830" aria-hidden="true" tabindex="-1"></a>                                                    var_CV, n_year)</span>
<span id="cb31-2831"><a href="#cb31-2831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2832"><a href="#cb31-2832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2833"><a href="#cb31-2833" aria-hidden="true" tabindex="-1"></a>  <span class="do">################################################################################</span></span>
<span id="cb31-2834"><a href="#cb31-2834" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2835"><a href="#cb31-2835" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Meeting nutrition goal</span></span>
<span id="cb31-2836"><a href="#cb31-2836" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2837"><a href="#cb31-2837" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Calculate probability of achieving nutrition outcome</span></span>
<span id="cb31-2838"><a href="#cb31-2838" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2839"><a href="#cb31-2839" aria-hidden="true" tabindex="-1"></a>  <span class="co"># In the impact pathway model, achieving nutrition outcome is characterized as </span></span>
<span id="cb31-2840"><a href="#cb31-2840" aria-hidden="true" tabindex="-1"></a>  <span class="co"># meeting calorie requirement, meeting protein requirement, meeting carbohydrate requirement</span></span>
<span id="cb31-2841"><a href="#cb31-2841" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adequate water intake, right type of food at right time </span></span>
<span id="cb31-2842"><a href="#cb31-2842" aria-hidden="true" tabindex="-1"></a>  <span class="co"># In calculating probability of achieving nutrition goal, I won't include meeting calorie requirement</span></span>
<span id="cb31-2843"><a href="#cb31-2843" aria-hidden="true" tabindex="-1"></a>  <span class="co"># since kcal req will be meet if food groups target are met (no need to include separately) and</span></span>
<span id="cb31-2844"><a href="#cb31-2844" aria-hidden="true" tabindex="-1"></a>  <span class="co"># having right type of food at right time (this is achieved if the kitchen provide intake needs, no need to </span></span>
<span id="cb31-2845"><a href="#cb31-2845" aria-hidden="true" tabindex="-1"></a>  <span class="co"># include separately since already accounted for in the calculation of prob of maintaining good nutrition)</span></span>
<span id="cb31-2846"><a href="#cb31-2846" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2847"><a href="#cb31-2847" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2848"><a href="#cb31-2848" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention one</span></span>
<span id="cb31-2849"><a href="#cb31-2849" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2850"><a href="#cb31-2850" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of having adequate water intake</span></span>
<span id="cb31-2851"><a href="#cb31-2851" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2852"><a href="#cb31-2852" aria-hidden="true" tabindex="-1"></a>  maintain_good_water_intake_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_good_water_intake_current<span class="sc">*</span></span>
<span id="cb31-2853"><a href="#cb31-2853" aria-hidden="true" tabindex="-1"></a>                                                 weight_current_good_water_intake_to_maintain_good_water_intake) <span class="sc">+</span></span>
<span id="cb31-2854"><a href="#cb31-2854" aria-hidden="true" tabindex="-1"></a>                                                (good_learning_outcome_inter_one<span class="sc">*</span></span>
<span id="cb31-2855"><a href="#cb31-2855" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_learning_outcome_to_maintain_good_water_intake) <span class="sc">+</span></span>
<span id="cb31-2856"><a href="#cb31-2856" aria-hidden="true" tabindex="-1"></a>                                                (maintain_good_nutrition_inter_one<span class="sc">*</span></span>
<span id="cb31-2857"><a href="#cb31-2857" aria-hidden="true" tabindex="-1"></a>                                                   weight_maintain_good_nutrition_to_maintain_good_water_intake))<span class="sc">/</span></span>
<span id="cb31-2858"><a href="#cb31-2858" aria-hidden="true" tabindex="-1"></a>                                               (weight_current_good_water_intake_to_maintain_good_water_intake <span class="sc">+</span></span>
<span id="cb31-2859"><a href="#cb31-2859" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_learning_outcome_to_maintain_good_water_intake <span class="sc">+</span></span>
<span id="cb31-2860"><a href="#cb31-2860" aria-hidden="true" tabindex="-1"></a>                                                  weight_maintain_good_nutrition_to_maintain_good_water_intake),</span>
<span id="cb31-2861"><a href="#cb31-2861" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2862"><a href="#cb31-2862" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2863"><a href="#cb31-2863" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2864"><a href="#cb31-2864" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of meeting target for each food group</span></span>
<span id="cb31-2865"><a href="#cb31-2865" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2866"><a href="#cb31-2866" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_egg_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_egg_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2867"><a href="#cb31-2867" aria-hidden="true" tabindex="-1"></a>                                               total_egg_serving_per_year_all_athletes,</span>
<span id="cb31-2868"><a href="#cb31-2868" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2869"><a href="#cb31-2869" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2870"><a href="#cb31-2870" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_dairy_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_dairy_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2871"><a href="#cb31-2871" aria-hidden="true" tabindex="-1"></a>                                                 total_dairy_serving_per_year_all_athletes,</span>
<span id="cb31-2872"><a href="#cb31-2872" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-2873"><a href="#cb31-2873" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2874"><a href="#cb31-2874" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_sandwich_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_sandwich_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2875"><a href="#cb31-2875" aria-hidden="true" tabindex="-1"></a>                                                    total_sandwich_serving_per_year_all_athletes,</span>
<span id="cb31-2876"><a href="#cb31-2876" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2877"><a href="#cb31-2877" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2878"><a href="#cb31-2878" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_vegetable_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_vegetable_mushroom_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2879"><a href="#cb31-2879" aria-hidden="true" tabindex="-1"></a>                                                     total_vegetable_mushroom_serving_per_year_all_athletes,</span>
<span id="cb31-2880"><a href="#cb31-2880" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-2881"><a href="#cb31-2881" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2882"><a href="#cb31-2882" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_bean_nut_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_bean_nut_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2883"><a href="#cb31-2883" aria-hidden="true" tabindex="-1"></a>                                                    total_bean_nut_serving_per_year_all_athletes,</span>
<span id="cb31-2884"><a href="#cb31-2884" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-2885"><a href="#cb31-2885" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2886"><a href="#cb31-2886" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fruit_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fruit_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2887"><a href="#cb31-2887" aria-hidden="true" tabindex="-1"></a>                                                 total_fruit_serving_per_year_all_athletes,</span>
<span id="cb31-2888"><a href="#cb31-2888" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-2889"><a href="#cb31-2889" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2890"><a href="#cb31-2890" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_sports_drink_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_sports_drink_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2891"><a href="#cb31-2891" aria-hidden="true" tabindex="-1"></a>                                                        total_sports_drink_serving_per_year_all_athletes,</span>
<span id="cb31-2892"><a href="#cb31-2892" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-2893"><a href="#cb31-2893" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2894"><a href="#cb31-2894" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_chicken_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_chicken_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2895"><a href="#cb31-2895" aria-hidden="true" tabindex="-1"></a>                                                   total_chicken_serving_per_year_all_athletes,</span>
<span id="cb31-2896"><a href="#cb31-2896" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-2897"><a href="#cb31-2897" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2898"><a href="#cb31-2898" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_pork_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_pork_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2899"><a href="#cb31-2899" aria-hidden="true" tabindex="-1"></a>                                                total_pork_serving_per_year_all_athletes,</span>
<span id="cb31-2900"><a href="#cb31-2900" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-2901"><a href="#cb31-2901" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2902"><a href="#cb31-2902" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_beef_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_beef_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2903"><a href="#cb31-2903" aria-hidden="true" tabindex="-1"></a>                                                total_beef_serving_per_year_all_athletes,</span>
<span id="cb31-2904"><a href="#cb31-2904" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-2905"><a href="#cb31-2905" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2906"><a href="#cb31-2906" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fish_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fish_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2907"><a href="#cb31-2907" aria-hidden="true" tabindex="-1"></a>                                                total_fish_serving_per_year_all_athletes,</span>
<span id="cb31-2908"><a href="#cb31-2908" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-2909"><a href="#cb31-2909" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2910"><a href="#cb31-2910" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_prawn_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_prawn_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2911"><a href="#cb31-2911" aria-hidden="true" tabindex="-1"></a>                                                 total_prawn_serving_per_year_all_athletes,</span>
<span id="cb31-2912"><a href="#cb31-2912" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-2913"><a href="#cb31-2913" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2914"><a href="#cb31-2914" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_rice_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_rice_noodle_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2915"><a href="#cb31-2915" aria-hidden="true" tabindex="-1"></a>                                                total_rice_noodle_serving_per_year_all_athletes,</span>
<span id="cb31-2916"><a href="#cb31-2916" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-2917"><a href="#cb31-2917" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2918"><a href="#cb31-2918" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fat_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fat_oil_serving_per_year_all_athletes_inter_one<span class="sc">/</span></span>
<span id="cb31-2919"><a href="#cb31-2919" aria-hidden="true" tabindex="-1"></a>                                               total_fat_oil_serving_per_year_all_athletes,</span>
<span id="cb31-2920"><a href="#cb31-2920" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2921"><a href="#cb31-2921" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2922"><a href="#cb31-2922" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2923"><a href="#cb31-2923" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of meeting nutrition goals</span></span>
<span id="cb31-2924"><a href="#cb31-2924" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2925"><a href="#cb31-2925" aria-hidden="true" tabindex="-1"></a>  percent_achieving_nutrition_outcome_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((maintain_good_water_intake_inter_one<span class="sc">*</span></span>
<span id="cb31-2926"><a href="#cb31-2926" aria-hidden="true" tabindex="-1"></a>                                                          weight_good_water_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2927"><a href="#cb31-2927" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_egg_inter_one<span class="sc">*</span></span>
<span id="cb31-2928"><a href="#cb31-2928" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2929"><a href="#cb31-2929" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_dairy_inter_one<span class="sc">*</span></span>
<span id="cb31-2930"><a href="#cb31-2930" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2931"><a href="#cb31-2931" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_sandwich_inter_one<span class="sc">*</span></span>
<span id="cb31-2932"><a href="#cb31-2932" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2933"><a href="#cb31-2933" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_vegetable_inter_one<span class="sc">*</span></span>
<span id="cb31-2934"><a href="#cb31-2934" aria-hidden="true" tabindex="-1"></a>                                                            weight_vegetable_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2935"><a href="#cb31-2935" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_bean_nut_inter_one<span class="sc">*</span></span>
<span id="cb31-2936"><a href="#cb31-2936" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2937"><a href="#cb31-2937" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fruit_inter_one<span class="sc">*</span></span>
<span id="cb31-2938"><a href="#cb31-2938" aria-hidden="true" tabindex="-1"></a>                                                            weight_fruit_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2939"><a href="#cb31-2939" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_sports_drink_inter_one<span class="sc">*</span></span>
<span id="cb31-2940"><a href="#cb31-2940" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_water_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2941"><a href="#cb31-2941" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_chicken_inter_one<span class="sc">*</span></span>
<span id="cb31-2942"><a href="#cb31-2942" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2943"><a href="#cb31-2943" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_pork_inter_one<span class="sc">*</span></span>
<span id="cb31-2944"><a href="#cb31-2944" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2945"><a href="#cb31-2945" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_beef_inter_one<span class="sc">*</span></span>
<span id="cb31-2946"><a href="#cb31-2946" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2947"><a href="#cb31-2947" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fish_inter_one<span class="sc">*</span></span>
<span id="cb31-2948"><a href="#cb31-2948" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2949"><a href="#cb31-2949" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_prawn_inter_one<span class="sc">*</span></span>
<span id="cb31-2950"><a href="#cb31-2950" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2951"><a href="#cb31-2951" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_rice_inter_one<span class="sc">*</span></span>
<span id="cb31-2952"><a href="#cb31-2952" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_carb_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-2953"><a href="#cb31-2953" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fat_inter_one<span class="sc">*</span></span>
<span id="cb31-2954"><a href="#cb31-2954" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_fat_intake_to_nutrition_outcome))<span class="sc">/</span></span>
<span id="cb31-2955"><a href="#cb31-2955" aria-hidden="true" tabindex="-1"></a>                                                        (weight_good_water_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2956"><a href="#cb31-2956" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2957"><a href="#cb31-2957" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2958"><a href="#cb31-2958" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2959"><a href="#cb31-2959" aria-hidden="true" tabindex="-1"></a>                                                           weight_vegetable_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2960"><a href="#cb31-2960" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2961"><a href="#cb31-2961" aria-hidden="true" tabindex="-1"></a>                                                           weight_fruit_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2962"><a href="#cb31-2962" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_water_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2963"><a href="#cb31-2963" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2964"><a href="#cb31-2964" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2965"><a href="#cb31-2965" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2966"><a href="#cb31-2966" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2967"><a href="#cb31-2967" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2968"><a href="#cb31-2968" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_carb_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-2969"><a href="#cb31-2969" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_fat_intake_to_nutrition_outcome),</span>
<span id="cb31-2970"><a href="#cb31-2970" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-2971"><a href="#cb31-2971" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2972"><a href="#cb31-2972" aria-hidden="true" tabindex="-1"></a> <span class="do">##############</span></span>
<span id="cb31-2973"><a href="#cb31-2973" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2974"><a href="#cb31-2974" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention two</span></span>
<span id="cb31-2975"><a href="#cb31-2975" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2976"><a href="#cb31-2976" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of having adequate water intake</span></span>
<span id="cb31-2977"><a href="#cb31-2977" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2978"><a href="#cb31-2978" aria-hidden="true" tabindex="-1"></a>  maintain_good_water_intake_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((chance_good_water_intake_current<span class="sc">*</span></span>
<span id="cb31-2979"><a href="#cb31-2979" aria-hidden="true" tabindex="-1"></a>                                                 weight_current_good_water_intake_to_maintain_good_water_intake) <span class="sc">+</span></span>
<span id="cb31-2980"><a href="#cb31-2980" aria-hidden="true" tabindex="-1"></a>                                                (good_learning_outcome_inter_two<span class="sc">*</span></span>
<span id="cb31-2981"><a href="#cb31-2981" aria-hidden="true" tabindex="-1"></a>                                                   weight_good_learning_outcome_to_maintain_good_water_intake) <span class="sc">+</span></span>
<span id="cb31-2982"><a href="#cb31-2982" aria-hidden="true" tabindex="-1"></a>                                                (maintain_good_nutrition_inter_two<span class="sc">*</span></span>
<span id="cb31-2983"><a href="#cb31-2983" aria-hidden="true" tabindex="-1"></a>                                                   weight_maintain_good_nutrition_to_maintain_good_water_intake))<span class="sc">/</span></span>
<span id="cb31-2984"><a href="#cb31-2984" aria-hidden="true" tabindex="-1"></a>                                               (weight_current_good_water_intake_to_maintain_good_water_intake <span class="sc">+</span></span>
<span id="cb31-2985"><a href="#cb31-2985" aria-hidden="true" tabindex="-1"></a>                                                  weight_good_learning_outcome_to_maintain_good_water_intake <span class="sc">+</span></span>
<span id="cb31-2986"><a href="#cb31-2986" aria-hidden="true" tabindex="-1"></a>                                                  weight_maintain_good_nutrition_to_maintain_good_water_intake),</span>
<span id="cb31-2987"><a href="#cb31-2987" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2988"><a href="#cb31-2988" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2989"><a href="#cb31-2989" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2990"><a href="#cb31-2990" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of meeting target for each food group</span></span>
<span id="cb31-2991"><a href="#cb31-2991" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2992"><a href="#cb31-2992" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_egg_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_egg_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-2993"><a href="#cb31-2993" aria-hidden="true" tabindex="-1"></a>                                               total_egg_serving_per_year_all_athletes,</span>
<span id="cb31-2994"><a href="#cb31-2994" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-2995"><a href="#cb31-2995" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-2996"><a href="#cb31-2996" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_dairy_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_dairy_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-2997"><a href="#cb31-2997" aria-hidden="true" tabindex="-1"></a>                                                 total_dairy_serving_per_year_all_athletes,</span>
<span id="cb31-2998"><a href="#cb31-2998" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-2999"><a href="#cb31-2999" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3000"><a href="#cb31-3000" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_sandwich_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_sandwich_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3001"><a href="#cb31-3001" aria-hidden="true" tabindex="-1"></a>                                                    total_sandwich_serving_per_year_all_athletes,</span>
<span id="cb31-3002"><a href="#cb31-3002" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-3003"><a href="#cb31-3003" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3004"><a href="#cb31-3004" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_vegetable_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_vegetable_mushroom_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3005"><a href="#cb31-3005" aria-hidden="true" tabindex="-1"></a>                                                     total_vegetable_mushroom_serving_per_year_all_athletes,</span>
<span id="cb31-3006"><a href="#cb31-3006" aria-hidden="true" tabindex="-1"></a>                                                   var_CV, n_year)</span>
<span id="cb31-3007"><a href="#cb31-3007" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3008"><a href="#cb31-3008" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_bean_nut_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_bean_nut_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3009"><a href="#cb31-3009" aria-hidden="true" tabindex="-1"></a>                                                    total_bean_nut_serving_per_year_all_athletes,</span>
<span id="cb31-3010"><a href="#cb31-3010" aria-hidden="true" tabindex="-1"></a>                                                  var_CV, n_year)</span>
<span id="cb31-3011"><a href="#cb31-3011" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3012"><a href="#cb31-3012" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fruit_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fruit_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3013"><a href="#cb31-3013" aria-hidden="true" tabindex="-1"></a>                                                 total_fruit_serving_per_year_all_athletes,</span>
<span id="cb31-3014"><a href="#cb31-3014" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-3015"><a href="#cb31-3015" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3016"><a href="#cb31-3016" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_sports_drink_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_sports_drink_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3017"><a href="#cb31-3017" aria-hidden="true" tabindex="-1"></a>                                                        total_sports_drink_serving_per_year_all_athletes,</span>
<span id="cb31-3018"><a href="#cb31-3018" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-3019"><a href="#cb31-3019" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3020"><a href="#cb31-3020" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_chicken_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_chicken_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3021"><a href="#cb31-3021" aria-hidden="true" tabindex="-1"></a>                                                   total_chicken_serving_per_year_all_athletes,</span>
<span id="cb31-3022"><a href="#cb31-3022" aria-hidden="true" tabindex="-1"></a>                                                 var_CV, n_year)</span>
<span id="cb31-3023"><a href="#cb31-3023" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3024"><a href="#cb31-3024" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_pork_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_pork_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3025"><a href="#cb31-3025" aria-hidden="true" tabindex="-1"></a>                                                total_pork_serving_per_year_all_athletes,</span>
<span id="cb31-3026"><a href="#cb31-3026" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-3027"><a href="#cb31-3027" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3028"><a href="#cb31-3028" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_beef_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_beef_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3029"><a href="#cb31-3029" aria-hidden="true" tabindex="-1"></a>                                                total_beef_serving_per_year_all_athletes,</span>
<span id="cb31-3030"><a href="#cb31-3030" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-3031"><a href="#cb31-3031" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3032"><a href="#cb31-3032" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fish_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fish_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3033"><a href="#cb31-3033" aria-hidden="true" tabindex="-1"></a>                                                total_fish_serving_per_year_all_athletes,</span>
<span id="cb31-3034"><a href="#cb31-3034" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-3035"><a href="#cb31-3035" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3036"><a href="#cb31-3036" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_prawn_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_prawn_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3037"><a href="#cb31-3037" aria-hidden="true" tabindex="-1"></a>                                                 total_prawn_serving_per_year_all_athletes,</span>
<span id="cb31-3038"><a href="#cb31-3038" aria-hidden="true" tabindex="-1"></a>                                               var_CV, n_year)</span>
<span id="cb31-3039"><a href="#cb31-3039" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3040"><a href="#cb31-3040" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_rice_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_rice_noodle_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3041"><a href="#cb31-3041" aria-hidden="true" tabindex="-1"></a>                                                total_rice_noodle_serving_per_year_all_athletes,</span>
<span id="cb31-3042"><a href="#cb31-3042" aria-hidden="true" tabindex="-1"></a>                                              var_CV, n_year)</span>
<span id="cb31-3043"><a href="#cb31-3043" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3044"><a href="#cb31-3044" aria-hidden="true" tabindex="-1"></a>  percent_meeting_target_fat_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(actual_fat_oil_serving_per_year_all_athletes_inter_two<span class="sc">/</span></span>
<span id="cb31-3045"><a href="#cb31-3045" aria-hidden="true" tabindex="-1"></a>                                               total_fat_oil_serving_per_year_all_athletes,</span>
<span id="cb31-3046"><a href="#cb31-3046" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-3047"><a href="#cb31-3047" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3048"><a href="#cb31-3048" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3049"><a href="#cb31-3049" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate percent probability of meeting nutrition goals</span></span>
<span id="cb31-3050"><a href="#cb31-3050" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3051"><a href="#cb31-3051" aria-hidden="true" tabindex="-1"></a>  percent_achieving_nutrition_outcome_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((maintain_good_water_intake_inter_two<span class="sc">*</span></span>
<span id="cb31-3052"><a href="#cb31-3052" aria-hidden="true" tabindex="-1"></a>                                                          weight_good_water_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3053"><a href="#cb31-3053" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_egg_inter_two<span class="sc">*</span></span>
<span id="cb31-3054"><a href="#cb31-3054" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3055"><a href="#cb31-3055" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_dairy_inter_two<span class="sc">*</span></span>
<span id="cb31-3056"><a href="#cb31-3056" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3057"><a href="#cb31-3057" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_sandwich_inter_two<span class="sc">*</span></span>
<span id="cb31-3058"><a href="#cb31-3058" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3059"><a href="#cb31-3059" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_vegetable_inter_two<span class="sc">*</span></span>
<span id="cb31-3060"><a href="#cb31-3060" aria-hidden="true" tabindex="-1"></a>                                                            weight_vegetable_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3061"><a href="#cb31-3061" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_bean_nut_inter_two<span class="sc">*</span></span>
<span id="cb31-3062"><a href="#cb31-3062" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3063"><a href="#cb31-3063" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fruit_inter_two<span class="sc">*</span></span>
<span id="cb31-3064"><a href="#cb31-3064" aria-hidden="true" tabindex="-1"></a>                                                            weight_fruit_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3065"><a href="#cb31-3065" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_sports_drink_inter_two<span class="sc">*</span></span>
<span id="cb31-3066"><a href="#cb31-3066" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_water_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3067"><a href="#cb31-3067" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_chicken_inter_two<span class="sc">*</span></span>
<span id="cb31-3068"><a href="#cb31-3068" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3069"><a href="#cb31-3069" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_pork_inter_two<span class="sc">*</span></span>
<span id="cb31-3070"><a href="#cb31-3070" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3071"><a href="#cb31-3071" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_beef_inter_two<span class="sc">*</span></span>
<span id="cb31-3072"><a href="#cb31-3072" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3073"><a href="#cb31-3073" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fish_inter_two<span class="sc">*</span></span>
<span id="cb31-3074"><a href="#cb31-3074" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3075"><a href="#cb31-3075" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_prawn_inter_two<span class="sc">*</span></span>
<span id="cb31-3076"><a href="#cb31-3076" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_protein_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3077"><a href="#cb31-3077" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_rice_inter_two<span class="sc">*</span></span>
<span id="cb31-3078"><a href="#cb31-3078" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_carb_intake_to_nutrition_outcome) <span class="sc">+</span></span>
<span id="cb31-3079"><a href="#cb31-3079" aria-hidden="true" tabindex="-1"></a>                                                         (percent_meeting_target_fat_inter_two<span class="sc">*</span></span>
<span id="cb31-3080"><a href="#cb31-3080" aria-hidden="true" tabindex="-1"></a>                                                            weight_good_fat_intake_to_nutrition_outcome))<span class="sc">/</span></span>
<span id="cb31-3081"><a href="#cb31-3081" aria-hidden="true" tabindex="-1"></a>                                                        (weight_good_water_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3082"><a href="#cb31-3082" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3083"><a href="#cb31-3083" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3084"><a href="#cb31-3084" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3085"><a href="#cb31-3085" aria-hidden="true" tabindex="-1"></a>                                                           weight_vegetable_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3086"><a href="#cb31-3086" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3087"><a href="#cb31-3087" aria-hidden="true" tabindex="-1"></a>                                                           weight_fruit_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3088"><a href="#cb31-3088" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_water_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3089"><a href="#cb31-3089" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3090"><a href="#cb31-3090" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3091"><a href="#cb31-3091" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3092"><a href="#cb31-3092" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3093"><a href="#cb31-3093" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_protein_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3094"><a href="#cb31-3094" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_carb_intake_to_nutrition_outcome <span class="sc">+</span></span>
<span id="cb31-3095"><a href="#cb31-3095" aria-hidden="true" tabindex="-1"></a>                                                           weight_good_fat_intake_to_nutrition_outcome),</span>
<span id="cb31-3096"><a href="#cb31-3096" aria-hidden="true" tabindex="-1"></a>                                                      var_CV, n_year)</span>
<span id="cb31-3097"><a href="#cb31-3097" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3098"><a href="#cb31-3098" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3099"><a href="#cb31-3099" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3100"><a href="#cb31-3100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3101"><a href="#cb31-3101" aria-hidden="true" tabindex="-1"></a>  <span class="do">################################################################################</span></span>
<span id="cb31-3102"><a href="#cb31-3102" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3103"><a href="#cb31-3103" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Emotional well-being (feeling energized for training, match)</span></span>
<span id="cb31-3104"><a href="#cb31-3104" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3105"><a href="#cb31-3105" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention one</span></span>
<span id="cb31-3106"><a href="#cb31-3106" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3107"><a href="#cb31-3107" aria-hidden="true" tabindex="-1"></a>  good_mental_wellbeing_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((percent_achieving_nutrition_outcome_inter_one<span class="sc">*</span></span>
<span id="cb31-3108"><a href="#cb31-3108" aria-hidden="true" tabindex="-1"></a>                                            weight_nutrition_outcome_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3109"><a href="#cb31-3109" aria-hidden="true" tabindex="-1"></a>                                           (chance_good_rest<span class="sc">*</span></span>
<span id="cb31-3110"><a href="#cb31-3110" aria-hidden="true" tabindex="-1"></a>                                              weight_good_rest_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3111"><a href="#cb31-3111" aria-hidden="true" tabindex="-1"></a>                                           (chance_enough_recovery_time<span class="sc">*</span></span>
<span id="cb31-3112"><a href="#cb31-3112" aria-hidden="true" tabindex="-1"></a>                                              weight_recovery_time_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3113"><a href="#cb31-3113" aria-hidden="true" tabindex="-1"></a>                                           ((<span class="dv">1</span><span class="sc">-</span> chance_personal_problem)<span class="sc">*</span></span>
<span id="cb31-3114"><a href="#cb31-3114" aria-hidden="true" tabindex="-1"></a>                                              weight_personal_problem_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3115"><a href="#cb31-3115" aria-hidden="true" tabindex="-1"></a>                                           (chance_good_team_relationship<span class="sc">*</span></span>
<span id="cb31-3116"><a href="#cb31-3116" aria-hidden="true" tabindex="-1"></a>                                              weight_team_relationship_to_mental_health))<span class="sc">/</span></span>
<span id="cb31-3117"><a href="#cb31-3117" aria-hidden="true" tabindex="-1"></a>                                          (weight_nutrition_outcome_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3118"><a href="#cb31-3118" aria-hidden="true" tabindex="-1"></a>                                             weight_good_rest_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3119"><a href="#cb31-3119" aria-hidden="true" tabindex="-1"></a>                                             weight_personal_problem_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3120"><a href="#cb31-3120" aria-hidden="true" tabindex="-1"></a>                                             weight_team_relationship_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3121"><a href="#cb31-3121" aria-hidden="true" tabindex="-1"></a>                                             weight_recovery_time_to_mental_health),</span>
<span id="cb31-3122"><a href="#cb31-3122" aria-hidden="true" tabindex="-1"></a>                                        var_CV, n_year)</span>
<span id="cb31-3123"><a href="#cb31-3123" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3124"><a href="#cb31-3124" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3125"><a href="#cb31-3125" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention two</span></span>
<span id="cb31-3126"><a href="#cb31-3126" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3127"><a href="#cb31-3127" aria-hidden="true" tabindex="-1"></a>  good_mental_wellbeing_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((percent_achieving_nutrition_outcome_inter_two<span class="sc">*</span></span>
<span id="cb31-3128"><a href="#cb31-3128" aria-hidden="true" tabindex="-1"></a>                                            weight_nutrition_outcome_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3129"><a href="#cb31-3129" aria-hidden="true" tabindex="-1"></a>                                           (chance_good_rest<span class="sc">*</span></span>
<span id="cb31-3130"><a href="#cb31-3130" aria-hidden="true" tabindex="-1"></a>                                              weight_good_rest_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3131"><a href="#cb31-3131" aria-hidden="true" tabindex="-1"></a>                                           (chance_enough_recovery_time<span class="sc">*</span></span>
<span id="cb31-3132"><a href="#cb31-3132" aria-hidden="true" tabindex="-1"></a>                                              weight_recovery_time_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3133"><a href="#cb31-3133" aria-hidden="true" tabindex="-1"></a>                                           ((<span class="dv">1</span><span class="sc">-</span> chance_personal_problem)<span class="sc">*</span></span>
<span id="cb31-3134"><a href="#cb31-3134" aria-hidden="true" tabindex="-1"></a>                                              weight_personal_problem_to_mental_health) <span class="sc">+</span></span>
<span id="cb31-3135"><a href="#cb31-3135" aria-hidden="true" tabindex="-1"></a>                                           (chance_good_team_relationship<span class="sc">*</span></span>
<span id="cb31-3136"><a href="#cb31-3136" aria-hidden="true" tabindex="-1"></a>                                              weight_team_relationship_to_mental_health))<span class="sc">/</span></span>
<span id="cb31-3137"><a href="#cb31-3137" aria-hidden="true" tabindex="-1"></a>                                          (weight_nutrition_outcome_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3138"><a href="#cb31-3138" aria-hidden="true" tabindex="-1"></a>                                             weight_good_rest_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3139"><a href="#cb31-3139" aria-hidden="true" tabindex="-1"></a>                                             weight_personal_problem_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3140"><a href="#cb31-3140" aria-hidden="true" tabindex="-1"></a>                                             weight_team_relationship_to_mental_health <span class="sc">+</span></span>
<span id="cb31-3141"><a href="#cb31-3141" aria-hidden="true" tabindex="-1"></a>                                             weight_recovery_time_to_mental_health),</span>
<span id="cb31-3142"><a href="#cb31-3142" aria-hidden="true" tabindex="-1"></a>                                        var_CV, n_year)</span>
<span id="cb31-3143"><a href="#cb31-3143" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3144"><a href="#cb31-3144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3145"><a href="#cb31-3145" aria-hidden="true" tabindex="-1"></a>  <span class="do">###############################################################################</span></span>
<span id="cb31-3146"><a href="#cb31-3146" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3147"><a href="#cb31-3147" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Sports outcome (training performance)</span></span>
<span id="cb31-3148"><a href="#cb31-3148" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3149"><a href="#cb31-3149" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If I do a proper simulation for training performance, I would need a whole new model just for this because</span></span>
<span id="cb31-3150"><a href="#cb31-3150" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the variables and relevant threshold to measure the performance may vary with position in the field. I won't</span></span>
<span id="cb31-3151"><a href="#cb31-3151" aria-hidden="true" tabindex="-1"></a>  <span class="co"># consider such minute details for a practice, so this part of the model is just to show sports outcome is also</span></span>
<span id="cb31-3152"><a href="#cb31-3152" aria-hidden="true" tabindex="-1"></a>  <span class="co"># included in the model. </span></span>
<span id="cb31-3153"><a href="#cb31-3153" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3154"><a href="#cb31-3154" aria-hidden="true" tabindex="-1"></a>  <span class="co"># So, I only included 3 variables to measure sports performance (there are other test measures like yo-yo, drill,</span></span>
<span id="cb31-3155"><a href="#cb31-3155" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1 RM, etc.) I only include 3 because the answer to which intervention is better can be answerable with just 3 or less,</span></span>
<span id="cb31-3156"><a href="#cb31-3156" aria-hidden="true" tabindex="-1"></a>  <span class="co"># since all other conditions are equal and only slight difference in nutrition target score, I can pretty much guess</span></span>
<span id="cb31-3157"><a href="#cb31-3157" aria-hidden="true" tabindex="-1"></a>  <span class="co"># that the two interventions will give more or less similar improvement in terms of sports performance. This part won't</span></span>
<span id="cb31-3158"><a href="#cb31-3158" aria-hidden="true" tabindex="-1"></a>  <span class="co"># be necessary if my goal is just to know which intervention is better. But it is necessary here because I need this model</span></span>
<span id="cb31-3159"><a href="#cb31-3159" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output for next model (chance_of_winning)</span></span>
<span id="cb31-3160"><a href="#cb31-3160" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3161"><a href="#cb31-3161" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Another thing is I only considered nutrition and sports performance during training, and not on the match days. </span></span>
<span id="cb31-3162"><a href="#cb31-3162" aria-hidden="true" tabindex="-1"></a>  <span class="co"># It is possible that intake on match days can differ based on each intervention success- intervention one may</span></span>
<span id="cb31-3163"><a href="#cb31-3163" aria-hidden="true" tabindex="-1"></a>  <span class="co"># fare better on match days because athletes know which food is good or bad for them, while intervention two </span></span>
<span id="cb31-3164"><a href="#cb31-3164" aria-hidden="true" tabindex="-1"></a>  <span class="co"># may not give that much knowledge. But, usually there's a medical person who would put stickers on the provided food,</span></span>
<span id="cb31-3165"><a href="#cb31-3165" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and we don't control their intake too much during match period as long as they meet their carb and protein for </span></span>
<span id="cb31-3166"><a href="#cb31-3166" aria-hidden="true" tabindex="-1"></a>  <span class="co"># loading and recovery. So, I don't think including match day nutrition will change the current scores for each</span></span>
<span id="cb31-3167"><a href="#cb31-3167" aria-hidden="true" tabindex="-1"></a>  <span class="co"># intervention. I consider it as redundant in decision making. </span></span>
<span id="cb31-3168"><a href="#cb31-3168" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3169"><a href="#cb31-3169" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention one</span></span>
<span id="cb31-3170"><a href="#cb31-3170" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3171"><a href="#cb31-3171" aria-hidden="true" tabindex="-1"></a>  optimal_training_condition_inter_one <span class="ot">&lt;-</span> <span class="fu">vv</span>(((percent_achieving_nutrition_outcome_inter_one<span class="sc">*</span></span>
<span id="cb31-3172"><a href="#cb31-3172" aria-hidden="true" tabindex="-1"></a>                                                 weight_nutrition_outcome_to_sports_performance) <span class="sc">+</span></span>
<span id="cb31-3173"><a href="#cb31-3173" aria-hidden="true" tabindex="-1"></a>                                                (maintain_good_water_intake_inter_one<span class="sc">*</span></span>
<span id="cb31-3174"><a href="#cb31-3174" aria-hidden="true" tabindex="-1"></a>                                                   weight_water_intake_to_sports_performance) <span class="sc">+</span></span>
<span id="cb31-3175"><a href="#cb31-3175" aria-hidden="true" tabindex="-1"></a>                                                (good_mental_wellbeing_inter_one<span class="sc">*</span></span>
<span id="cb31-3176"><a href="#cb31-3176" aria-hidden="true" tabindex="-1"></a>                                                   weight_mental_health_to_sports_performance))<span class="sc">/</span></span>
<span id="cb31-3177"><a href="#cb31-3177" aria-hidden="true" tabindex="-1"></a>                                               (weight_nutrition_outcome_to_sports_performance <span class="sc">+</span></span>
<span id="cb31-3178"><a href="#cb31-3178" aria-hidden="true" tabindex="-1"></a>                                                  weight_water_intake_to_sports_performance <span class="sc">+</span></span>
<span id="cb31-3179"><a href="#cb31-3179" aria-hidden="true" tabindex="-1"></a>                                                  weight_mental_health_to_sports_performance),</span>
<span id="cb31-3180"><a href="#cb31-3180" aria-hidden="true" tabindex="-1"></a>                                             var_CV, n_year)</span>
<span id="cb31-3181"><a href="#cb31-3181" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3182"><a href="#cb31-3182" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3183"><a href="#cb31-3183" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3184"><a href="#cb31-3184" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of days to reach target for each training test</span></span>
<span id="cb31-3185"><a href="#cb31-3185" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I don't use vv() function here because once reach the target, it's more likely maintain performance than reach</span></span>
<span id="cb31-3186"><a href="#cb31-3186" aria-hidden="true" tabindex="-1"></a>  <span class="co"># target again. </span></span>
<span id="cb31-3187"><a href="#cb31-3187" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I set 0.7 as threshold for good training condition</span></span>
<span id="cb31-3188"><a href="#cb31-3188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3189"><a href="#cb31-3189" aria-hidden="true" tabindex="-1"></a>  days_40_dash_inter_one <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_one <span class="sc">&gt;=</span> <span class="fl">0.7</span>,</span>
<span id="cb31-3190"><a href="#cb31-3190" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">log</span>(forty_dash_current_sec<span class="sc">/</span>forty_dash_target_sec)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_40_dash_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3191"><a href="#cb31-3191" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">log</span>(forty_dash_current_sec<span class="sc">/</span>forty_dash_target_sec)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_40_dash_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3192"><a href="#cb31-3192" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3193"><a href="#cb31-3193" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3194"><a href="#cb31-3194" aria-hidden="true" tabindex="-1"></a>  days_10_dash_inter_one <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_one <span class="sc">&gt;=</span> <span class="fl">0.7</span>,</span>
<span id="cb31-3195"><a href="#cb31-3195" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">log</span>(ten_dash_current_sec<span class="sc">/</span>ten_dash_target_sec)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_10_dash_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3196"><a href="#cb31-3196" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">log</span>(ten_dash_current_sec<span class="sc">/</span>ten_dash_target_sec)<span class="sc">/</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_10_dash_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3197"><a href="#cb31-3197" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3198"><a href="#cb31-3198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3199"><a href="#cb31-3199" aria-hidden="true" tabindex="-1"></a>  days_shuttle_run_inter_one <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_one <span class="sc">&gt;=</span><span class="fl">0.7</span>,</span>
<span id="cb31-3200"><a href="#cb31-3200" aria-hidden="true" tabindex="-1"></a>                                         (<span class="fu">log</span>(shuttle_run_current<span class="sc">/</span>shuttle_run_target)<span class="sc">/</span></span>
<span id="cb31-3201"><a href="#cb31-3201" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_shuttle_run_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3202"><a href="#cb31-3202" aria-hidden="true" tabindex="-1"></a>                                         (<span class="fu">log</span>(shuttle_run_current<span class="sc">/</span>shuttle_run_target)<span class="sc">/</span></span>
<span id="cb31-3203"><a href="#cb31-3203" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_shuttle_run_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3204"><a href="#cb31-3204" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3205"><a href="#cb31-3205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3206"><a href="#cb31-3206" aria-hidden="true" tabindex="-1"></a>  <span class="do">###################</span></span>
<span id="cb31-3207"><a href="#cb31-3207" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3208"><a href="#cb31-3208" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Intervention two</span></span>
<span id="cb31-3209"><a href="#cb31-3209" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3210"><a href="#cb31-3210" aria-hidden="true" tabindex="-1"></a>  optimal_training_condition_inter_two <span class="ot">&lt;-</span> <span class="fu">vv</span>(((percent_achieving_nutrition_outcome_inter_two<span class="sc">*</span></span>
<span id="cb31-3211"><a href="#cb31-3211" aria-hidden="true" tabindex="-1"></a>                                                 weight_nutrition_outcome_to_sports_performance) <span class="sc">+</span></span>
<span id="cb31-3212"><a href="#cb31-3212" aria-hidden="true" tabindex="-1"></a>                                                (maintain_good_water_intake_inter_two<span class="sc">*</span></span>
<span id="cb31-3213"><a href="#cb31-3213" aria-hidden="true" tabindex="-1"></a>                                                   weight_water_intake_to_sports_performance) <span class="sc">+</span></span>
<span id="cb31-3214"><a href="#cb31-3214" aria-hidden="true" tabindex="-1"></a>                                                (good_mental_wellbeing_inter_two<span class="sc">*</span></span>
<span id="cb31-3215"><a href="#cb31-3215" aria-hidden="true" tabindex="-1"></a>                                                   weight_mental_health_to_sports_performance))<span class="sc">/</span></span>
<span id="cb31-3216"><a href="#cb31-3216" aria-hidden="true" tabindex="-1"></a>                                               (weight_nutrition_outcome_to_sports_performance <span class="sc">+</span></span>
<span id="cb31-3217"><a href="#cb31-3217" aria-hidden="true" tabindex="-1"></a>                                                  weight_water_intake_to_sports_performance <span class="sc">+</span></span>
<span id="cb31-3218"><a href="#cb31-3218" aria-hidden="true" tabindex="-1"></a>                                                  weight_mental_health_to_sports_performance),</span>
<span id="cb31-3219"><a href="#cb31-3219" aria-hidden="true" tabindex="-1"></a>                                             var_CV,n_year)</span>
<span id="cb31-3220"><a href="#cb31-3220" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3221"><a href="#cb31-3221" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3222"><a href="#cb31-3222" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3223"><a href="#cb31-3223" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate number of days to reach target for each training test</span></span>
<span id="cb31-3224"><a href="#cb31-3224" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3225"><a href="#cb31-3225" aria-hidden="true" tabindex="-1"></a>  days_40_dash_inter_two <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_two <span class="sc">&gt;=</span> <span class="fl">0.7</span>,</span>
<span id="cb31-3226"><a href="#cb31-3226" aria-hidden="true" tabindex="-1"></a>                                     (<span class="fu">log</span>(forty_dash_current_sec<span class="sc">/</span>forty_dash_target_sec)<span class="sc">/</span></span>
<span id="cb31-3227"><a href="#cb31-3227" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_40_dash_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3228"><a href="#cb31-3228" aria-hidden="true" tabindex="-1"></a>                                     (<span class="fu">log</span>(forty_dash_current_sec<span class="sc">/</span>forty_dash_target_sec)<span class="sc">/</span></span>
<span id="cb31-3229"><a href="#cb31-3229" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_40_dash_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3230"><a href="#cb31-3230" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3231"><a href="#cb31-3231" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3232"><a href="#cb31-3232" aria-hidden="true" tabindex="-1"></a>  days_10_dash_inter_two <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_two <span class="sc">&gt;=</span> <span class="fl">0.7</span>,</span>
<span id="cb31-3233"><a href="#cb31-3233" aria-hidden="true" tabindex="-1"></a>                                     (<span class="fu">log</span>(ten_dash_current_sec<span class="sc">/</span>ten_dash_target_sec)<span class="sc">/</span></span>
<span id="cb31-3234"><a href="#cb31-3234" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_10_dash_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3235"><a href="#cb31-3235" aria-hidden="true" tabindex="-1"></a>                                     (<span class="fu">log</span>(ten_dash_current_sec<span class="sc">/</span>ten_dash_target_sec)<span class="sc">/</span></span>
<span id="cb31-3236"><a href="#cb31-3236" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_10_dash_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3237"><a href="#cb31-3237" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3238"><a href="#cb31-3238" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3239"><a href="#cb31-3239" aria-hidden="true" tabindex="-1"></a>  days_shuttle_run_inter_two <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(optimal_training_condition_inter_two <span class="sc">&gt;=</span><span class="fl">0.7</span>,</span>
<span id="cb31-3240"><a href="#cb31-3240" aria-hidden="true" tabindex="-1"></a>                                         (<span class="fu">log</span>(shuttle_run_current<span class="sc">/</span>shuttle_run_target)<span class="sc">/</span></span>
<span id="cb31-3241"><a href="#cb31-3241" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_shuttle_run_if_optimal_training))<span class="sc">*</span><span class="dv">30</span>,</span>
<span id="cb31-3242"><a href="#cb31-3242" aria-hidden="true" tabindex="-1"></a>                                         (<span class="fu">log</span>(shuttle_run_current<span class="sc">/</span>shuttle_run_target)<span class="sc">/</span></span>
<span id="cb31-3243"><a href="#cb31-3243" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">+</span> percent_increment_shuttle_run_current))<span class="sc">*</span><span class="dv">30</span>)</span>
<span id="cb31-3244"><a href="#cb31-3244" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3245"><a href="#cb31-3245" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3246"><a href="#cb31-3246" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3247"><a href="#cb31-3247" aria-hidden="true" tabindex="-1"></a>  <span class="do">################################################################################</span></span>
<span id="cb31-3248"><a href="#cb31-3248" aria-hidden="true" tabindex="-1"></a>  <span class="co"># total serving values have slight differences from model 2 results because I divided by 4 and vary the values. </span></span>
<span id="cb31-3249"><a href="#cb31-3249" aria-hidden="true" tabindex="-1"></a>  <span class="co"># I will use the new ones from here onwards. I won't have this problem if models are connected by codes. Don't know how to do it. </span></span>
<span id="cb31-3250"><a href="#cb31-3250" aria-hidden="true" tabindex="-1"></a>  <span class="co"># here I use both sum() and list(). Sum values (4 years value) for result plots and list value (yearly value) </span></span>
<span id="cb31-3251"><a href="#cb31-3251" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for feeding into next model. </span></span>
<span id="cb31-3252"><a href="#cb31-3252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">total_egg_serving_all_athletes =</span> <span class="fu">sum</span>(total_egg_serving_per_year_all_athletes), </span>
<span id="cb31-3253"><a href="#cb31-3253" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_egg_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_egg_serving_per_year_all_athletes),</span>
<span id="cb31-3254"><a href="#cb31-3254" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_egg_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_egg_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3255"><a href="#cb31-3255" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_egg_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_egg_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3256"><a href="#cb31-3256" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_all_athletes =</span> <span class="fu">sum</span>(total_dairy_serving_per_year_all_athletes),</span>
<span id="cb31-3257"><a href="#cb31-3257" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_dairy_serving_per_year_all_athletes),</span>
<span id="cb31-3258"><a href="#cb31-3258" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_dairy_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_dairy_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3259"><a href="#cb31-3259" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_dairy_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_dairy_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3260"><a href="#cb31-3260" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sandwich_serving_all_athletes =</span> <span class="fu">sum</span>(total_sandwich_serving_per_year_all_athletes),</span>
<span id="cb31-3261"><a href="#cb31-3261" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sandwich_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_sandwich_serving_per_year_all_athletes),</span>
<span id="cb31-3262"><a href="#cb31-3262" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_sandwich_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_sandwich_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3263"><a href="#cb31-3263" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_sandwich_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_sandwich_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3264"><a href="#cb31-3264" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_vegetable_mushroom_serving_all_athletes =</span> <span class="fu">sum</span>(total_vegetable_mushroom_serving_per_year_all_athletes),</span>
<span id="cb31-3265"><a href="#cb31-3265" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_vegetable_mushroom_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_vegetable_mushroom_serving_per_year_all_athletes),</span>
<span id="cb31-3266"><a href="#cb31-3266" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_vegetable_mushroom_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_vegetable_mushroom_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3267"><a href="#cb31-3267" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_vegetable_mushroom_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_vegetable_mushroom_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3268"><a href="#cb31-3268" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_bean_nut_serving_all_athletes =</span> <span class="fu">sum</span>(total_bean_nut_serving_per_year_all_athletes),</span>
<span id="cb31-3269"><a href="#cb31-3269" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_bean_nut_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_bean_nut_serving_per_year_all_athletes),</span>
<span id="cb31-3270"><a href="#cb31-3270" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_bean_nut_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_bean_nut_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3271"><a href="#cb31-3271" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_bean_nut_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_bean_nut_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3272"><a href="#cb31-3272" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fruit_serving_all_athletes =</span> <span class="fu">sum</span>(total_fruit_serving_per_year_all_athletes),</span>
<span id="cb31-3273"><a href="#cb31-3273" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fruit_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_fruit_serving_per_year_all_athletes),</span>
<span id="cb31-3274"><a href="#cb31-3274" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fruit_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_fruit_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3275"><a href="#cb31-3275" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fruit_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_fruit_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3276"><a href="#cb31-3276" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sports_drink_serving_all_athletes =</span> <span class="fu">sum</span>(total_sports_drink_serving_per_year_all_athletes),</span>
<span id="cb31-3277"><a href="#cb31-3277" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_sports_drink_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_sports_drink_serving_per_year_all_athletes),</span>
<span id="cb31-3278"><a href="#cb31-3278" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_sports_drink_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_sports_drink_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3279"><a href="#cb31-3279" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_sports_drink_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_sports_drink_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3280"><a href="#cb31-3280" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_chicken_serving_all_athletes =</span> <span class="fu">sum</span>(total_chicken_serving_per_year_all_athletes),</span>
<span id="cb31-3281"><a href="#cb31-3281" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_chicken_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_chicken_serving_per_year_all_athletes),</span>
<span id="cb31-3282"><a href="#cb31-3282" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_chicken_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_chicken_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3283"><a href="#cb31-3283" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_chicken_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_chicken_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3284"><a href="#cb31-3284" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_all_athletes =</span> <span class="fu">sum</span>(total_pork_serving_per_year_all_athletes),</span>
<span id="cb31-3285"><a href="#cb31-3285" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_pork_serving_per_year_all_athletes),</span>
<span id="cb31-3286"><a href="#cb31-3286" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_pork_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_pork_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3287"><a href="#cb31-3287" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_pork_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_pork_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3288"><a href="#cb31-3288" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_all_athletes =</span> <span class="fu">sum</span>(total_beef_serving_per_year_all_athletes),</span>
<span id="cb31-3289"><a href="#cb31-3289" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_beef_serving_per_year_all_athletes),</span>
<span id="cb31-3290"><a href="#cb31-3290" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_beef_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_beef_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3291"><a href="#cb31-3291" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_beef_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_beef_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3292"><a href="#cb31-3292" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fish_serving_all_athletes =</span> <span class="fu">sum</span>(total_fish_serving_per_year_all_athletes),</span>
<span id="cb31-3293"><a href="#cb31-3293" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fish_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_fish_serving_per_year_all_athletes),</span>
<span id="cb31-3294"><a href="#cb31-3294" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fish_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_fish_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3295"><a href="#cb31-3295" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fish_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_fish_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3296"><a href="#cb31-3296" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_all_athletes =</span> <span class="fu">sum</span>(total_prawn_serving_per_year_all_athletes),</span>
<span id="cb31-3297"><a href="#cb31-3297" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_prawn_serving_per_year_all_athletes),</span>
<span id="cb31-3298"><a href="#cb31-3298" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_prawn_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_prawn_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3299"><a href="#cb31-3299" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_prawn_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_prawn_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3300"><a href="#cb31-3300" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_rice_noodle_serving_all_athletes =</span> <span class="fu">sum</span>(total_rice_noodle_serving_per_year_all_athletes),</span>
<span id="cb31-3301"><a href="#cb31-3301" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_rice_noodle_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_rice_noodle_serving_per_year_all_athletes),</span>
<span id="cb31-3302"><a href="#cb31-3302" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_rice_noodle_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_rice_noodle_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3303"><a href="#cb31-3303" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_rice_noodle_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_rice_noodle_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3304"><a href="#cb31-3304" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_oil_serving_all_athletes =</span> <span class="fu">sum</span>(total_fat_oil_serving_per_year_all_athletes),</span>
<span id="cb31-3305"><a href="#cb31-3305" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fat_oil_serving_per_year_all_athletes =</span> <span class="fu">list</span>(total_fat_oil_serving_per_year_all_athletes),</span>
<span id="cb31-3306"><a href="#cb31-3306" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fat_oil_serving_all_athletes_inter_one =</span> <span class="fu">sum</span>(actual_fat_oil_serving_per_year_all_athletes_inter_one),</span>
<span id="cb31-3307"><a href="#cb31-3307" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_actual_fat_oil_serving_all_athletes_inter_two =</span> <span class="fu">sum</span>(actual_fat_oil_serving_per_year_all_athletes_inter_two),</span>
<span id="cb31-3308"><a href="#cb31-3308" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_egg_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_egg_serving_wasted_inter_one),</span>
<span id="cb31-3309"><a href="#cb31-3309" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_egg_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_egg_serving_wasted_inter_one),</span>
<span id="cb31-3310"><a href="#cb31-3310" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_egg_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_egg_serving_wasted_inter_two),</span>
<span id="cb31-3311"><a href="#cb31-3311" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_egg_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_egg_serving_wasted_inter_two),</span>
<span id="cb31-3312"><a href="#cb31-3312" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_dairy_serving_wasted_inter_one),</span>
<span id="cb31-3313"><a href="#cb31-3313" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_dairy_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_dairy_serving_wasted_inter_one),</span>
<span id="cb31-3314"><a href="#cb31-3314" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_dairy_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_dairy_serving_wasted_inter_two),</span>
<span id="cb31-3315"><a href="#cb31-3315" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_dairy_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_dairy_serving_wasted_inter_two),</span>
<span id="cb31-3316"><a href="#cb31-3316" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_vegetable_mushroom_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_vegetable_mushroom_serving_wasted_inter_one),</span>
<span id="cb31-3317"><a href="#cb31-3317" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_vegetable_mushroom_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_vegetable_mushroom_serving_wasted_inter_one),</span>
<span id="cb31-3318"><a href="#cb31-3318" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_vegetable_mushroom_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_vegetable_mushroom_serving_wasted_inter_two),</span>
<span id="cb31-3319"><a href="#cb31-3319" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_vegetable_mushroom_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_vegetable_mushroom_serving_wasted_inter_two),</span>
<span id="cb31-3320"><a href="#cb31-3320" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_bean_nut_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_bean_nut_serving_wasted_inter_one),</span>
<span id="cb31-3321"><a href="#cb31-3321" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_bean_nut_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_bean_nut_serving_wasted_inter_one),</span>
<span id="cb31-3322"><a href="#cb31-3322" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_bean_nut_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_bean_nut_serving_wasted_inter_two),</span>
<span id="cb31-3323"><a href="#cb31-3323" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_bean_nut_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_bean_nut_serving_wasted_inter_two),</span>
<span id="cb31-3324"><a href="#cb31-3324" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_pork_serving_wasted_inter_one),</span>
<span id="cb31-3325"><a href="#cb31-3325" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_pork_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_pork_serving_wasted_inter_one),</span>
<span id="cb31-3326"><a href="#cb31-3326" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_pork_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_pork_serving_wasted_inter_two),</span>
<span id="cb31-3327"><a href="#cb31-3327" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_pork_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_pork_serving_wasted_inter_two),</span>
<span id="cb31-3328"><a href="#cb31-3328" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_beef_serving_wasted_inter_one),</span>
<span id="cb31-3329"><a href="#cb31-3329" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_beef_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_beef_serving_wasted_inter_one),</span>
<span id="cb31-3330"><a href="#cb31-3330" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_beef_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_beef_serving_wasted_inter_two),</span>
<span id="cb31-3331"><a href="#cb31-3331" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_beef_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_beef_serving_wasted_inter_two),</span>
<span id="cb31-3332"><a href="#cb31-3332" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fish_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_fish_serving_wasted_inter_one),</span>
<span id="cb31-3333"><a href="#cb31-3333" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_fish_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_fish_serving_wasted_inter_one),</span>
<span id="cb31-3334"><a href="#cb31-3334" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_fish_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_fish_serving_wasted_inter_two),</span>
<span id="cb31-3335"><a href="#cb31-3335" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_fish_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_fish_serving_wasted_inter_two),</span>
<span id="cb31-3336"><a href="#cb31-3336" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_wasted_inter_one =</span> <span class="fu">sum</span>(total_yearly_prawn_serving_wasted_inter_one),</span>
<span id="cb31-3337"><a href="#cb31-3337" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_prawn_serving_wasted_inter_one =</span> <span class="fu">list</span>(total_yearly_prawn_serving_wasted_inter_one),</span>
<span id="cb31-3338"><a href="#cb31-3338" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_prawn_serving_wasted_inter_two =</span> <span class="fu">sum</span>(total_yearly_prawn_serving_wasted_inter_two),</span>
<span id="cb31-3339"><a href="#cb31-3339" aria-hidden="true" tabindex="-1"></a>              <span class="at">total_yearly_prawn_serving_wasted_inter_two =</span> <span class="fu">list</span>(total_yearly_prawn_serving_wasted_inter_two),</span>
<span id="cb31-3340"><a href="#cb31-3340" aria-hidden="true" tabindex="-1"></a>              <span class="at">good_learning_outcome_inter_one =</span> <span class="fu">list</span>(good_learning_outcome_inter_one),</span>
<span id="cb31-3341"><a href="#cb31-3341" aria-hidden="true" tabindex="-1"></a>              <span class="at">good_learning_outcome_inter_two =</span> <span class="fu">list</span>(good_learning_outcome_inter_two),</span>
<span id="cb31-3342"><a href="#cb31-3342" aria-hidden="true" tabindex="-1"></a>              <span class="at">maintain_good_nutrition_inter_one =</span> <span class="fu">list</span>(maintain_good_nutrition_inter_one),</span>
<span id="cb31-3343"><a href="#cb31-3343" aria-hidden="true" tabindex="-1"></a>              <span class="at">maintain_good_nutrition_inter_two =</span> <span class="fu">list</span>(maintain_good_nutrition_inter_two),</span>
<span id="cb31-3344"><a href="#cb31-3344" aria-hidden="true" tabindex="-1"></a>              <span class="at">maintain_good_water_intake_inter_one =</span> <span class="fu">list</span>(maintain_good_water_intake_inter_one),</span>
<span id="cb31-3345"><a href="#cb31-3345" aria-hidden="true" tabindex="-1"></a>              <span class="at">maintain_good_water_intake_inter_two =</span> <span class="fu">list</span>(maintain_good_water_intake_inter_two),</span>
<span id="cb31-3346"><a href="#cb31-3346" aria-hidden="true" tabindex="-1"></a>              <span class="at">percent_achieving_nutrition_outcome_inter_one =</span> <span class="fu">list</span>(percent_achieving_nutrition_outcome_inter_one),</span>
<span id="cb31-3347"><a href="#cb31-3347" aria-hidden="true" tabindex="-1"></a>              <span class="at">percent_achieving_nutrition_outcome_inter_two =</span> <span class="fu">list</span>(percent_achieving_nutrition_outcome_inter_two),</span>
<span id="cb31-3348"><a href="#cb31-3348" aria-hidden="true" tabindex="-1"></a>              <span class="at">good_mental_wellbeing_inter_one =</span> <span class="fu">list</span>(good_mental_wellbeing_inter_one),</span>
<span id="cb31-3349"><a href="#cb31-3349" aria-hidden="true" tabindex="-1"></a>              <span class="at">good_mental_wellbeing_inter_two =</span> <span class="fu">list</span>(good_mental_wellbeing_inter_two),</span>
<span id="cb31-3350"><a href="#cb31-3350" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_40_dash_inter_one =</span> <span class="fu">list</span>(days_40_dash_inter_one),</span>
<span id="cb31-3351"><a href="#cb31-3351" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_40_dash_inter_two =</span> <span class="fu">list</span>(days_40_dash_inter_two),</span>
<span id="cb31-3352"><a href="#cb31-3352" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_10_dash_inter_one =</span> <span class="fu">list</span>(days_10_dash_inter_one),</span>
<span id="cb31-3353"><a href="#cb31-3353" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_10_dash_inter_two =</span> <span class="fu">list</span>(days_10_dash_inter_two),</span>
<span id="cb31-3354"><a href="#cb31-3354" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_shuttle_run_inter_one =</span> <span class="fu">list</span>(days_shuttle_run_inter_one),</span>
<span id="cb31-3355"><a href="#cb31-3355" aria-hidden="true" tabindex="-1"></a>              <span class="at">days_shuttle_run_inter_two =</span> <span class="fu">list</span>(days_shuttle_run_inter_two),</span>
<span id="cb31-3356"><a href="#cb31-3356" aria-hidden="true" tabindex="-1"></a>              <span class="at">optimal_training_condition_inter_two =</span> <span class="fu">list</span>(optimal_training_condition_inter_two),</span>
<span id="cb31-3357"><a href="#cb31-3357" aria-hidden="true" tabindex="-1"></a>              <span class="at">optimal_training_condition_inter_one =</span> <span class="fu">list</span>(optimal_training_condition_inter_one)</span>
<span id="cb31-3358"><a href="#cb31-3358" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb31-3359"><a href="#cb31-3359" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3360"><a href="#cb31-3360" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-3361"><a href="#cb31-3361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3362"><a href="#cb31-3362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3363"><a href="#cb31-3363" aria-hidden="true" tabindex="-1"></a>Learning_behaviour_mc_simulation <span class="ot">&lt;-</span> <span class="fu">mcSimulation</span>(<span class="at">estimate =</span> <span class="fu">estimate_read_csv</span>(<span class="st">"3_Learning_behaviour.csv"</span>),</span>
<span id="cb31-3364"><a href="#cb31-3364" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">model_function =</span> Learning_behaviour_function,</span>
<span id="cb31-3365"><a href="#cb31-3365" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">numberOfModelRuns =</span> <span class="dv">1000</span>,</span>
<span id="cb31-3366"><a href="#cb31-3366" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">functionSyntax =</span> <span class="st">"plainNames"</span>)</span>
<span id="cb31-3367"><a href="#cb31-3367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3368"><a href="#cb31-3368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3369"><a href="#cb31-3369" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3370"><a href="#cb31-3370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3371"><a href="#cb31-3371" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m31}</span></span>
<span id="cb31-3372"><a href="#cb31-3372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3373"><a href="#cb31-3373" aria-hidden="true" tabindex="-1"></a>pls_result <span class="ot">&lt;-</span> <span class="fu">plsr.mcSimulation</span>(<span class="at">object =</span> Learning_behaviour_mc_simulation,</span>
<span id="cb31-3374"><a href="#cb31-3374" aria-hidden="true" tabindex="-1"></a>                                <span class="at">resultName =</span> names</span>
<span id="cb31-3375"><a href="#cb31-3375" aria-hidden="true" tabindex="-1"></a>                                (Learning_behaviour_mc_simulation<span class="sc">$</span>y)[<span class="dv">1</span>], </span>
<span id="cb31-3376"><a href="#cb31-3376" aria-hidden="true" tabindex="-1"></a>                                <span class="at">ncomp =</span> <span class="dv">1</span>)</span>
<span id="cb31-3377"><a href="#cb31-3377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3378"><a href="#cb31-3378" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_pls</span>(pls_result, <span class="at">input_table =</span> <span class="fu">read.csv</span>(<span class="st">"3_Learning_behaviour.csv"</span>), <span class="at">threshold =</span> <span class="fl">0.8</span>)</span>
<span id="cb31-3379"><a href="#cb31-3379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3380"><a href="#cb31-3380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3381"><a href="#cb31-3381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3382"><a href="#cb31-3382" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3383"><a href="#cb31-3383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3384"><a href="#cb31-3384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3385"><a href="#cb31-3385" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3386"><a href="#cb31-3386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3387"><a href="#cb31-3387" aria-hidden="true" tabindex="-1"></a><span class="in">```{r evpi3, warning=TRUE}</span></span>
<span id="cb31-3388"><a href="#cb31-3388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3389"><a href="#cb31-3389" aria-hidden="true" tabindex="-1"></a>Learning_behaviour_mcSimulation_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Learning_behaviour_mc_simulation<span class="sc">$</span>x,</span>
<span id="cb31-3390"><a href="#cb31-3390" aria-hidden="true" tabindex="-1"></a>                                        Learning_behaviour_mc_simulation<span class="sc">$</span>y[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb31-3391"><a href="#cb31-3391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3392"><a href="#cb31-3392" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(evpi <span class="ot">&lt;-</span> <span class="fu">multi_EVPI</span>(<span class="at">mc =</span> Learning_behaviour_mcSimulation_table, <span class="at">first_out_var =</span> </span>
<span id="cb31-3393"><a href="#cb31-3393" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"total_egg_serving_all_athletes"</span>))</span>
<span id="cb31-3394"><a href="#cb31-3394" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_evpi</span>(evpi, <span class="at">decision_vars =</span> <span class="st">"total_egg_serving_all_athletes"</span>)</span>
<span id="cb31-3395"><a href="#cb31-3395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3396"><a href="#cb31-3396" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3397"><a href="#cb31-3397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3398"><a href="#cb31-3398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3399"><a href="#cb31-3399" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3400"><a href="#cb31-3400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3401"><a href="#cb31-3401" aria-hidden="true" tabindex="-1"></a><span class="fu">## Part 4: Chance of Winning</span></span>
<span id="cb31-3402"><a href="#cb31-3402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3403"><a href="#cb31-3403" aria-hidden="true" tabindex="-1"></a>Using the probability estimates of nutrition and sports outcome, we simulated the chance of winning for the MFF team. This is not to compare between intervention one and two, since it is already clear in part 3 that both are equally effective interventions. This part of the model aims to predict whether nutrition intervention can impact the winning chance significantly. </span>
<span id="cb31-3404"><a href="#cb31-3404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3405"><a href="#cb31-3405" aria-hidden="true" tabindex="-1"></a>The team's chance of winning was predicted based on their physical strength (nutrition and sports outcome), their readiness for game (energy, motivation, confidence), probability of playing in the home field, having good key and backup players, and advantage in strategy. All predictor variables except nutrition and sports outcome are left to random chance by setting lower bound at 10% and upper bound at 90%. The nutrition and sports outcome at baseline were set at 30% for lower bound and 50% for upper bound- the team's nutrition and sports performance are comparable or lower than their nutrition needs or their opponents.</span>
<span id="cb31-3406"><a href="#cb31-3406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3407"><a href="#cb31-3407" aria-hidden="true" tabindex="-1"></a>We used the output from part 3 of the model to simulate the increased chance of winning for the team after the intervention, and compared it with the chance of winning at baseline. </span>
<span id="cb31-3408"><a href="#cb31-3408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3409"><a href="#cb31-3409" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m41}</span></span>
<span id="cb31-3410"><a href="#cb31-3410" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11</span>)</span>
<span id="cb31-3411"><a href="#cb31-3411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3412"><a href="#cb31-3412" aria-hidden="true" tabindex="-1"></a>make_variables<span class="ot">&lt;-</span><span class="cf">function</span>(est,<span class="at">n=</span><span class="dv">1</span>)</span>
<span id="cb31-3413"><a href="#cb31-3413" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3414"><a href="#cb31-3414" aria-hidden="true" tabindex="-1"></a>{ x<span class="ot">&lt;-</span><span class="fu">random</span>(<span class="at">rho=</span>est, <span class="at">n=</span>n)</span>
<span id="cb31-3415"><a href="#cb31-3415" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">colnames</span>(x)) <span class="fu">assign</span>(i, <span class="fu">as.numeric</span>(x[<span class="dv">1</span>,i]),<span class="at">envir=</span>.GlobalEnv)}</span>
<span id="cb31-3416"><a href="#cb31-3416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3417"><a href="#cb31-3417" aria-hidden="true" tabindex="-1"></a><span class="fu">make_variables</span>(<span class="fu">estimate_read_csv</span>(<span class="fu">paste</span>(<span class="st">"4_Chance_winning.csv"</span>)))</span>
<span id="cb31-3418"><a href="#cb31-3418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3419"><a href="#cb31-3419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3420"><a href="#cb31-3420" aria-hidden="true" tabindex="-1"></a>Chance_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x, varnames){</span>
<span id="cb31-3421"><a href="#cb31-3421" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3422"><a href="#cb31-3422" aria-hidden="true" tabindex="-1"></a><span class="co"># Chance of winning current</span></span>
<span id="cb31-3423"><a href="#cb31-3423" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3424"><a href="#cb31-3424" aria-hidden="true" tabindex="-1"></a>  chance_winning_current <span class="ot">&lt;-</span> <span class="fu">vv</span>((((good_nutrition_current<span class="sc">*</span>optimal_training_condition_current)<span class="sc">*</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb31-3425"><a href="#cb31-3425" aria-hidden="true" tabindex="-1"></a>                                  <span class="fl">0.7</span><span class="sc">*</span>(past_winning_percent<span class="sc">*</span>team_morale) <span class="sc">+</span> (home_field<span class="sc">*</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb31-3426"><a href="#cb31-3426" aria-hidden="true" tabindex="-1"></a>                                <span class="fl">0.8</span><span class="sc">*</span>(good_player<span class="sc">*</span>backup_player) <span class="sc">+</span> <span class="fl">0.8</span><span class="sc">*</span>(strategy_advantage))<span class="sc">/</span> (<span class="fl">3.1</span>),</span>
<span id="cb31-3427"><a href="#cb31-3427" aria-hidden="true" tabindex="-1"></a>                               var_CV, n_year)</span>
<span id="cb31-3428"><a href="#cb31-3428" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3429"><a href="#cb31-3429" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3430"><a href="#cb31-3430" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Chance of winning after intervention</span></span>
<span id="cb31-3431"><a href="#cb31-3431" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3432"><a href="#cb31-3432" aria-hidden="true" tabindex="-1"></a>  chance_winning_intervention <span class="ot">&lt;-</span> <span class="fu">vv</span>((((good_nutrition_intervention<span class="sc">*</span>optimal_training_condition_intervention)<span class="sc">*</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb31-3433"><a href="#cb31-3433" aria-hidden="true" tabindex="-1"></a>                                       <span class="fl">0.7</span><span class="sc">*</span>(past_winning_percent<span class="sc">*</span>team_morale) <span class="sc">+</span> (home_field<span class="sc">*</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb31-3434"><a href="#cb31-3434" aria-hidden="true" tabindex="-1"></a>                                       <span class="fl">0.8</span><span class="sc">*</span>(good_player<span class="sc">*</span>backup_player) <span class="sc">+</span> <span class="fl">0.8</span><span class="sc">*</span>(strategy_advantage))<span class="sc">/</span> (<span class="fl">3.1</span>),</span>
<span id="cb31-3435"><a href="#cb31-3435" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-3436"><a href="#cb31-3436" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3437"><a href="#cb31-3437" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Chance against opponent</span></span>
<span id="cb31-3438"><a href="#cb31-3438" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3439"><a href="#cb31-3439" aria-hidden="true" tabindex="-1"></a>  chance_winning_opponent <span class="ot">&lt;-</span> <span class="fu">vv</span>((((chance_better_nutrition<span class="sc">*</span>chance_better_condition)<span class="sc">*</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb31-3440"><a href="#cb31-3440" aria-hidden="true" tabindex="-1"></a>                                       <span class="fl">0.7</span><span class="sc">*</span>(past_winning_percent<span class="sc">*</span>team_morale) <span class="sc">+</span> (home_field<span class="sc">*</span><span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb31-3441"><a href="#cb31-3441" aria-hidden="true" tabindex="-1"></a>                                       <span class="fl">0.8</span><span class="sc">*</span>(good_player<span class="sc">*</span>backup_player) <span class="sc">+</span> <span class="fl">0.8</span><span class="sc">*</span>(strategy_advantage))<span class="sc">/</span> (<span class="fl">3.1</span>),</span>
<span id="cb31-3442"><a href="#cb31-3442" aria-hidden="true" tabindex="-1"></a>                                    var_CV, n_year)</span>
<span id="cb31-3443"><a href="#cb31-3443" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3444"><a href="#cb31-3444" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3445"><a href="#cb31-3445" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Net chance of winning</span></span>
<span id="cb31-3446"><a href="#cb31-3446" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3447"><a href="#cb31-3447" aria-hidden="true" tabindex="-1"></a>  chance_winning_net <span class="ot">&lt;-</span> chance_winning_intervention <span class="sc">-</span> chance_winning_current</span>
<span id="cb31-3448"><a href="#cb31-3448" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3449"><a href="#cb31-3449" aria-hidden="true" tabindex="-1"></a>  chance_winning_net_opponent <span class="ot">&lt;-</span> chance_winning_opponent <span class="sc">-</span> chance_winning_current</span>
<span id="cb31-3450"><a href="#cb31-3450" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-3451"><a href="#cb31-3451" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(</span>
<span id="cb31-3452"><a href="#cb31-3452" aria-hidden="true" tabindex="-1"></a>    <span class="at">chance_winning_current =</span> <span class="fu">sum</span>(chance_winning_current),</span>
<span id="cb31-3453"><a href="#cb31-3453" aria-hidden="true" tabindex="-1"></a>    <span class="at">chance_winning_intervention =</span> <span class="fu">sum</span>(chance_winning_intervention),</span>
<span id="cb31-3454"><a href="#cb31-3454" aria-hidden="true" tabindex="-1"></a>    <span class="at">chance_winning_net =</span> <span class="fu">sum</span>(chance_winning_net),</span>
<span id="cb31-3455"><a href="#cb31-3455" aria-hidden="true" tabindex="-1"></a>    <span class="at">chance_winning_opponent =</span> <span class="fu">sum</span>(chance_winning_opponent),</span>
<span id="cb31-3456"><a href="#cb31-3456" aria-hidden="true" tabindex="-1"></a>    <span class="at">chance_winning_net_opponent =</span> <span class="fu">sum</span>(chance_winning_net_opponent)</span>
<span id="cb31-3457"><a href="#cb31-3457" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb31-3458"><a href="#cb31-3458" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-3459"><a href="#cb31-3459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3460"><a href="#cb31-3460" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the Monte Carlo Simulation</span></span>
<span id="cb31-3461"><a href="#cb31-3461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3462"><a href="#cb31-3462" aria-hidden="true" tabindex="-1"></a>Chance_mc_simulation <span class="ot">&lt;-</span> <span class="fu">mcSimulation</span>(<span class="at">estimate =</span> <span class="fu">estimate_read_csv</span>(<span class="st">"4_Chance_winning.csv"</span>),</span>
<span id="cb31-3463"><a href="#cb31-3463" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">model_function =</span> Chance_function,</span>
<span id="cb31-3464"><a href="#cb31-3464" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">numberOfModelRuns =</span> <span class="dv">1000</span>,</span>
<span id="cb31-3465"><a href="#cb31-3465" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">functionSyntax =</span> <span class="st">"plainNames"</span>)</span>
<span id="cb31-3466"><a href="#cb31-3466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3467"><a href="#cb31-3467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3468"><a href="#cb31-3468" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3469"><a href="#cb31-3469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3470"><a href="#cb31-3470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3471"><a href="#cb31-3471" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m42}</span></span>
<span id="cb31-3472"><a href="#cb31-3472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3473"><a href="#cb31-3473" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Chance_mc_simulation,</span>
<span id="cb31-3474"><a href="#cb31-3474" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"chance_winning_intervention"</span>, <span class="st">"chance_winning_current"</span>),</span>
<span id="cb31-3475"><a href="#cb31-3475" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-3476"><a href="#cb31-3476" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'probability'</span>,</span>
<span id="cb31-3477"><a href="#cb31-3477" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-3478"><a href="#cb31-3478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3479"><a href="#cb31-3479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3480"><a href="#cb31-3480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3481"><a href="#cb31-3481" aria-hidden="true" tabindex="-1"></a>The above plot shows improved chance of winning after intervention than at baseline. This is because when all the other predictor variables remain constant, the model variations only depend on the nutrition and sports outcome. After intervention, the two outcomes are measured by their percent meeting the targets. Hence, the probability for nutrition increased to around 90% and sports outcome to about 80%. </span>
<span id="cb31-3482"><a href="#cb31-3482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3483"><a href="#cb31-3483" aria-hidden="true" tabindex="-1"></a>However, we need to consider if we can use the same values when comparison is made with the opposing team. It is highly likely that athletes from opposing team take care of their nutrition and sports performance. Thus, using the same estimates of about 80-90% means that the nutrition and sports performance of MFF athletes are way better than the opposition. This also implies that the athletes from opposing team are at risk of malnutrition<span class="dv">&amp;mdash;</span> very unlikely. </span>
<span id="cb31-3484"><a href="#cb31-3484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3485"><a href="#cb31-3485" aria-hidden="true" tabindex="-1"></a>Thus, we use realistic estimates of 50% at lower bound and 70% at upper bound (still quite generous estimates)<span class="dv">&amp;mdash;</span> the nutrition and sports performace of MFF athletes are comparable or a bit better than the opposing team. The result is shown in the plot below.</span>
<span id="cb31-3486"><a href="#cb31-3486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3487"><a href="#cb31-3487" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m44}</span></span>
<span id="cb31-3488"><a href="#cb31-3488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3489"><a href="#cb31-3489" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Chance_mc_simulation,</span>
<span id="cb31-3490"><a href="#cb31-3490" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"chance_winning_opponent"</span>,<span class="st">"chance_winning_current"</span>),</span>
<span id="cb31-3491"><a href="#cb31-3491" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-3492"><a href="#cb31-3492" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'probability'</span>,</span>
<span id="cb31-3493"><a href="#cb31-3493" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>) </span>
<span id="cb31-3494"><a href="#cb31-3494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3495"><a href="#cb31-3495" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3496"><a href="#cb31-3496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3497"><a href="#cb31-3497" aria-hidden="true" tabindex="-1"></a>There is almost complete overlap between the two curves, showing when other predictors remain constant, improved nutrition is not enough to enhance the chance of winning. So, nutrition alone is not the answer. Improvement should be achieved in all areas including nutrition. </span>
<span id="cb31-3498"><a href="#cb31-3498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3499"><a href="#cb31-3499" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3500"><a href="#cb31-3500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3501"><a href="#cb31-3501" aria-hidden="true" tabindex="-1"></a><span class="in">```{r m45}</span></span>
<span id="cb31-3502"><a href="#cb31-3502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3503"><a href="#cb31-3503" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_distributions</span>(<span class="at">mcSimulation_object =</span> Chance_mc_simulation,</span>
<span id="cb31-3504"><a href="#cb31-3504" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"chance_winning_net"</span>, <span class="st">"chance_winning_net_opponent"</span>),</span>
<span id="cb31-3505"><a href="#cb31-3505" aria-hidden="true" tabindex="-1"></a>                   <span class="at">method =</span> <span class="st">'smooth_simple_overlay'</span>,</span>
<span id="cb31-3506"><a href="#cb31-3506" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x_axis_name =</span> <span class="st">'probability'</span>,</span>
<span id="cb31-3507"><a href="#cb31-3507" aria-hidden="true" tabindex="-1"></a>                   <span class="at">base_size =</span> <span class="dv">7</span>)</span>
<span id="cb31-3508"><a href="#cb31-3508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3509"><a href="#cb31-3509" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3510"><a href="#cb31-3510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3511"><a href="#cb31-3511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3512"><a href="#cb31-3512" aria-hidden="true" tabindex="-1"></a>The comparison between the net chance of winning within team (at baseline and after intervention) and the net chance of winning between teams (MFF and opposing team) show significant gap with the latter at the lower end. </span>
<span id="cb31-3513"><a href="#cb31-3513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3514"><a href="#cb31-3514" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3515"><a href="#cb31-3515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3516"><a href="#cb31-3516" aria-hidden="true" tabindex="-1"></a><span class="fu">### EVPI analysis</span></span>
<span id="cb31-3517"><a href="#cb31-3517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3518"><a href="#cb31-3518" aria-hidden="true" tabindex="-1"></a><span class="in">```{r evpi4, warning=TRUE}</span></span>
<span id="cb31-3519"><a href="#cb31-3519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3520"><a href="#cb31-3520" aria-hidden="true" tabindex="-1"></a>Chance_mcSimulation_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Chance_mc_simulation<span class="sc">$</span>x,</span>
<span id="cb31-3521"><a href="#cb31-3521" aria-hidden="true" tabindex="-1"></a>                                        Chance_mc_simulation<span class="sc">$</span>y[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb31-3522"><a href="#cb31-3522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3523"><a href="#cb31-3523" aria-hidden="true" tabindex="-1"></a>output1<span class="ot">&lt;-</span> <span class="fu">capture.output</span>(evpi <span class="ot">&lt;-</span> <span class="fu">multi_EVPI</span>(<span class="at">mc =</span> Chance_mcSimulation_table, <span class="at">first_out_var =</span> <span class="st">"chance_winning_current"</span>))</span>
<span id="cb31-3524"><a href="#cb31-3524" aria-hidden="true" tabindex="-1"></a>output2 <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(evpi_1 <span class="ot">&lt;-</span> <span class="fu">multi_EVPI</span>(<span class="at">mc =</span> Chance_mcSimulation_table, <span class="at">first_out_var =</span> <span class="st">"chance_winning_intervention"</span>))</span>
<span id="cb31-3525"><a href="#cb31-3525" aria-hidden="true" tabindex="-1"></a>output3 <span class="ot">&lt;-</span> <span class="fu">capture.output</span>(evpi_2 <span class="ot">&lt;-</span> <span class="fu">multi_EVPI</span>(<span class="at">mc =</span> Chance_mcSimulation_table, <span class="at">first_out_var =</span> <span class="st">"chance_winning_opponent"</span>))</span>
<span id="cb31-3526"><a href="#cb31-3526" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_evpi</span>(evpi, <span class="at">decision_vars =</span> <span class="st">"chance_winning_current"</span>)</span>
<span id="cb31-3527"><a href="#cb31-3527" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_evpi</span>(evpi_1, <span class="at">decision_vars =</span> <span class="st">"chance_winning_intervention"</span>)</span>
<span id="cb31-3528"><a href="#cb31-3528" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_evpi</span>(evpi_2, <span class="at">decision_vars =</span> <span class="st">"chance_winning_opponent"</span>)</span>
<span id="cb31-3529"><a href="#cb31-3529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3530"><a href="#cb31-3530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3531"><a href="#cb31-3531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3532"><a href="#cb31-3532" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3533"><a href="#cb31-3533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3534"><a href="#cb31-3534" aria-hidden="true" tabindex="-1"></a><span class="fu">### PLS analysis</span></span>
<span id="cb31-3535"><a href="#cb31-3535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3536"><a href="#cb31-3536" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pls4}</span></span>
<span id="cb31-3537"><a href="#cb31-3537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3538"><a href="#cb31-3538" aria-hidden="true" tabindex="-1"></a>pls_result <span class="ot">&lt;-</span> <span class="fu">plsr.mcSimulation</span>(<span class="at">object =</span> Chance_mc_simulation,</span>
<span id="cb31-3539"><a href="#cb31-3539" aria-hidden="true" tabindex="-1"></a>                                <span class="at">resultName =</span> names</span>
<span id="cb31-3540"><a href="#cb31-3540" aria-hidden="true" tabindex="-1"></a>                                (Chance_mc_simulation<span class="sc">$</span>y)[<span class="dv">1</span>], </span>
<span id="cb31-3541"><a href="#cb31-3541" aria-hidden="true" tabindex="-1"></a>                                <span class="at">ncomp =</span> <span class="dv">1</span>)</span>
<span id="cb31-3542"><a href="#cb31-3542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3543"><a href="#cb31-3543" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_pls</span>(pls_result, <span class="at">input_table =</span> <span class="fu">read.csv</span>(<span class="st">"4_Chance_winning.csv"</span>), <span class="at">threshold =</span> <span class="dv">1</span>)</span>
<span id="cb31-3544"><a href="#cb31-3544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3545"><a href="#cb31-3545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-3546"><a href="#cb31-3546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3547"><a href="#cb31-3547" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb31-3548"><a href="#cb31-3548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3549"><a href="#cb31-3549" aria-hidden="true" tabindex="-1"></a><span class="fu">## Part 5: Cost and Benefit analysis</span></span>
<span id="cb31-3550"><a href="#cb31-3550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3551"><a href="#cb31-3551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3552"><a href="#cb31-3552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3553"><a href="#cb31-3553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3554"><a href="#cb31-3554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3555"><a href="#cb31-3555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3556"><a href="#cb31-3556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3557"><a href="#cb31-3557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3558"><a href="#cb31-3558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3559"><a href="#cb31-3559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3560"><a href="#cb31-3560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3561"><a href="#cb31-3561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3562"><a href="#cb31-3562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3563"><a href="#cb31-3563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3564"><a href="#cb31-3564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3565"><a href="#cb31-3565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3566"><a href="#cb31-3566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3567"><a href="#cb31-3567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3568"><a href="#cb31-3568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3569"><a href="#cb31-3569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3570"><a href="#cb31-3570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3571"><a href="#cb31-3571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3572"><a href="#cb31-3572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3573"><a href="#cb31-3573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3574"><a href="#cb31-3574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3575"><a href="#cb31-3575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3576"><a href="#cb31-3576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3577"><a href="#cb31-3577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3578"><a href="#cb31-3578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3579"><a href="#cb31-3579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3580"><a href="#cb31-3580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3581"><a href="#cb31-3581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3582"><a href="#cb31-3582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3583"><a href="#cb31-3583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3584"><a href="#cb31-3584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3585"><a href="#cb31-3585" aria-hidden="true" tabindex="-1"></a>---</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="MFF_final_report_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>